{"version":3,"sources":["webpack:///delegated ./node_modules/@angular/core/@angular/core.es5.js from dll-reference vendor_lib","webpack:///external \"vendor_lib\"","webpack:///./src/game/pow-core/point.ts","webpack:///./src/app/models/selectors.ts","webpack:///./src/app/models/game-state/game-state.actions.ts","webpack:///./src/app/models/util.ts","webpack:///./src/app/components/notification/notification.service.ts","webpack:///delegated ./node_modules/rxjs/Rx.js from dll-reference vendor_lib","webpack:///./src/app/services/game-world.ts","webpack:///./src/game/pow-core/rect.ts","webpack:///./src/game/pow-core/resource-manager.ts","webpack:///./src/game/pow2/scene/scene-object-behavior.ts","webpack:///./src/app/components/loading/loading.service.ts","webpack:///./src/app/models/combat/combat.service.ts","webpack:///./src/app/routes/world/map/map-feature.component.ts","webpack:///./src/game/pow2/scene/scene.ts","webpack:///delegated ./node_modules/rxjs/BehaviorSubject.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/@angular/common/@angular/common.es5.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/Observable.js from dll-reference vendor_lib","webpack:///./src/app/routes/combat/states/combat-base.state.ts","webpack:///./src/app/services/rpg-game.ts","webpack:///./src/game/pow-core/errors.ts","webpack:///./src/app/models/combat/combat.actions.ts","webpack:///./src/app/models/game-data/game-data.model.ts","webpack:///./src/app/routes/combat/combat.component.ts","webpack:///./src/game/pow2/core/api.ts","webpack:///./src/game/pow2/scene/behaviors/ticked-behavior.ts","webpack:///./src/game/pow2/tile/tile-map.ts","webpack:///delegated ./node_modules/rxjs/add/operator/map.js from dll-reference vendor_lib","webpack:///./src/app/models/game-state/game-state.service.ts","webpack:///./src/app/routes/world/behaviors/player-behavior.ts","webpack:///./src/app/scene/game-entity-object.ts","webpack:///./src/app/scene/game-feature-object.ts","webpack:///./src/app/scene/game-tile-map.ts","webpack:///./src/app/services/index.ts","webpack:///./src/game/pow-core/resource.ts","webpack:///delegated ./node_modules/rxjs/add/operator/filter.js from dll-reference vendor_lib","webpack:///./src/game/pow2/scene/scene-object.ts","webpack:///./src/game/pow2/tile/behaviors/sprite.behavior.ts","webpack:///delegated ./node_modules/@angular/router/@angular/router.es5.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js from dll-reference vendor_lib","webpack:///./src/app/models/entity/entity.actions.ts","webpack:///./src/app/models/game-data/game-data.actions.ts","webpack:///./src/app/models/sprites/sprites.actions.ts","webpack:///./src/app/routes/combat/states/combat-begin-turn.state.ts","webpack:///./src/app/routes/combat/states/combat-choose-action.state.ts","webpack:///./src/app/routes/combat/states/combat-end-turn.state.ts","webpack:///./src/game/pow-core/events.ts","webpack:///./src/game/pow-core/index.ts","webpack:///./src/game/pow-core/resources/xml.resource.ts","webpack:///./src/game/pow2/core/input.ts","webpack:///delegated ./node_modules/@angular/http/@angular/http.es5.js from dll-reference vendor_lib","webpack:///./src/app/behaviors/animated.behavior.ts","webpack:///./src/app/behaviors/collision.behavior.ts","webpack:///./src/app/behaviors/index.ts","webpack:///./src/app/components/index.ts","webpack:///./src/app/components/loading/index.ts","webpack:///./src/app/models/combat/combat.reducer.ts","webpack:///./src/app/models/entity/entity.reducer.ts","webpack:///./src/app/models/game-data/game-data.reducer.ts","webpack:///./src/app/models/game-state/game-state.reducer.ts","webpack:///./src/app/models/sprites/sprites.reducer.ts","webpack:///./src/app/routes/combat/behaviors/actions/combat-attack.behavior.ts","webpack:///./src/app/routes/combat/behaviors/combat-action.behavior.ts","webpack:///./src/app/routes/combat/index.ts","webpack:///./src/app/routes/combat/states/combat-defeat.state.ts","webpack:///./src/app/routes/combat/states/combat-escape.state.ts","webpack:///./src/app/routes/combat/states/combat-start.state.ts","webpack:///./src/app/routes/combat/states/combat-victory.state.ts","webpack:///./src/app/routes/combat/states/combat.machine.ts","webpack:///./src/app/routes/world/behaviors/player-render.behavior.ts","webpack:///./src/app/services/animate.ts","webpack:///./src/app/services/sprite-render.ts","webpack:///./src/game/pow-core/resources/image.resource.ts","webpack:///./src/game/pow-core/resources/tiled/tiled-tmx.resource.ts","webpack:///./src/game/pow-core/resources/tiled/tiled-tsx.resource.ts","webpack:///./src/game/pow-core/resources/tiled/tiled.ts","webpack:///./src/game/pow-core/time.ts","webpack:///./src/game/pow2/scene/behaviors/camera-behavior.ts","webpack:///./src/game/pow2/tile/render/tile-object-renderer.ts","webpack:///./src/game/pow2/tile/tile-map-view.ts","webpack:///./src/game/pow2/tile/tile-object-behavior.ts","webpack:///./src/game/pow2/tile/tile-object.ts","webpack:///delegated ./node_modules/rxjs/Subject.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/observable/of.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/operator/map.js from dll-reference vendor_lib","webpack:///./src/app/environment.ts","webpack:///delegated ./node_modules/@angularclass/hmr/dist/index.js from dll-reference vendor_lib","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.effects.ts","webpack:///./src/app/behaviors/base-player.behavior.ts","webpack:///./src/app/behaviors/sprite-render.behavior.ts","webpack:///./src/app/components/health-bar/health-bar.component.ts","webpack:///./src/app/components/health-bar/index.ts","webpack:///./src/app/components/loading/loading.component.ts","webpack:///./src/app/components/notification/index.ts","webpack:///./src/app/components/notification/notification.component.ts","webpack:///./src/app/components/party-inventory/index.ts","webpack:///./src/app/components/party-menu/index.ts","webpack:///./src/app/components/party-menu/party-menu.component.ts","webpack:///./src/app/components/player-card/index.ts","webpack:///./src/app/components/player-stats/index.ts","webpack:///./src/app/components/sprite/index.ts","webpack:///./src/app/components/sprite/sprite.component.ts","webpack:///./src/app/models/base-entity.ts","webpack:///./src/app/models/game-data/game-data.service.ts","webpack:///./src/app/models/index.ts","webpack:///./src/app/models/levels.ts","webpack:///./src/app/models/sprites/sprites.service.ts","webpack:///./src/app/routes/combat/behaviors/combat-player-render.behavior.ts","webpack:///./src/app/routes/combat/combat-damage.component.ts","webpack:///./src/app/routes/combat/combat-enemy.entity.ts","webpack:///./src/app/routes/combat/combat-map.entity.ts","webpack:///./src/app/routes/combat/combat-player.entity.ts","webpack:///./src/app/routes/combat/combat.guards.ts","webpack:///./src/app/routes/game/game.component.ts","webpack:///./src/app/routes/game/game.resolver.ts","webpack:///./src/app/routes/no-content/no-content.ts","webpack:///./src/app/routes/world/index.ts","webpack:///./src/app/routes/world/map/features/combat-feature.component.ts","webpack:///./src/app/routes/world/map/features/dialog-feature.component.ts","webpack:///./src/app/routes/world/map/features/index.ts","webpack:///./src/app/routes/world/map/features/portal-feature.component.ts","webpack:///./src/app/routes/world/map/features/ship-feature.component.ts","webpack:///./src/app/routes/world/map/features/store-feature.component.ts","webpack:///./src/app/routes/world/map/features/temple-feature.component.ts","webpack:///./src/app/routes/world/map/features/treasure-feature.component.ts","webpack:///./src/app/routes/world/map/world-map.entity.ts","webpack:///./src/app/routes/world/map/world-player.entity.ts","webpack:///./src/app/routes/world/world.component.ts","webpack:///./src/app/routes/world/world.guards.ts","webpack:///./src/game/pow-core/behavior-host.ts","webpack:///./src/game/pow-core/behavior.ts","webpack:///./src/game/pow-core/resources/audio.resource.ts","webpack:///./src/game/pow-core/resources/json.resource.ts","webpack:///./src/game/pow-core/world.ts","webpack:///./src/game/pow2/core/state-machine.ts","webpack:///./src/game/pow2/core/state.ts","webpack:///./src/game/pow2/scene/behaviors/movable-behavior.ts","webpack:///./src/game/pow2/scene/behaviors/sound-behavior.ts","webpack:///./src/game/pow2/scene/scene-view.ts","webpack:///./src/game/pow2/tile/behaviors/animated-sprite.behavior.ts","webpack:///./src/game/pow2/tile/behaviors/tile-map-path.behavior.ts","webpack:///./src/game/pow2/tile/render/tile-map-renderer.ts","webpack:///delegated ./node_modules/rxjs/Subscription.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/operator/filter.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/observable/merge.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/operator/distinctUntilChanged.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/Subscriber.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/@angular/forms/@angular/forms.es5.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/observable/fromEvent.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/observable/throw.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/catch.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/switchMap.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/operator/pluck.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/operator/withLatestFrom.js from dll-reference vendor_lib","webpack:///./src/app/index.ts","webpack:///./src/rxjs.imports.ts","webpack:///./src/sw.browser.ts","webpack:///delegated ./node_modules/@angular/platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js from dll-reference vendor_lib","webpack:///./src/app/app.declarations.ts","webpack:///./src/app/app.imports.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.providers.ts","webpack:///./src/app/app.resolver.ts","webpack:///./src/app/app.routes.ts","webpack:///./src/app/behaviors/damage.behavior.ts","webpack:///./src/app/components/party-inventory/party-inventory.component.ts","webpack:///./src/app/components/player-card/player-card.component.ts","webpack:///./src/app/components/player-stats/player-stats.component.ts","webpack:///./src/app/models/combat/combat.effects.ts","webpack:///./src/app/models/game-data/game-data.effects.ts","webpack:///./src/app/models/game-data/game-data.resource.ts","webpack:///./src/app/models/game-state/game-state.effects.ts","webpack:///./src/app/models/logger.ts","webpack:///./src/app/models/records.ts","webpack:///./src/app/models/sprites/sprites.effects.ts","webpack:///./src/app/routes/combat/behaviors/actions/combat-run.behavior.ts","webpack:///./src/app/routes/combat/behaviors/choose-action.machine.ts","webpack:///./src/app/routes/combat/behaviors/combat-camera.behavior.ts","webpack:///./src/app/routes/combat/combat-hud.component.ts","webpack:///./src/app/routes/combat/states/index.ts","webpack:///./src/app/routes/no-content/index.ts","webpack:///./src/app/routes/world/behaviors/combat-encounter.behavior.ts","webpack:///./src/app/routes/world/behaviors/map-feature-input.behavior.ts","webpack:///./src/app/routes/world/behaviors/player-camera.behavior.ts","webpack:///./src/app/routes/world/behaviors/player-look.behavior.ts","webpack:///./src/app/routes/world/behaviors/player-map-path.behavior.ts","webpack:///./src/app/services/visibility.ts","webpack:///./src/game/pow2/core/animator.ts","webpack:///./src/game/pow2/scene/scene-object-renderer.ts","webpack:///./src/game/pow2/scene/scene-spatial-database.ts","webpack:///./src/game/pow2/scene/scene-view-component.ts","webpack:///./src/app/app.component.scss","webpack:///./src/app/components/health-bar/health-bar.component.scss","webpack:///./src/app/components/notification/notification.component.scss","webpack:///./src/app/components/party-inventory/party-inventory.component.scss","webpack:///./src/app/components/party-menu/party-menu.component.scss","webpack:///./src/app/components/player-card/player-card.component.scss","webpack:///./src/app/components/sprite/sprite.component.scss","webpack:///./src/app/routes/combat/combat-damage.component.scss","webpack:///./src/app/routes/combat/combat-hud.component.scss","webpack:///./src/app/routes/combat/combat.component.scss","webpack:///./src/app/routes/combat/states/combat-choose-action.state.scss","webpack:///./src/app/routes/game/game.component.scss","webpack:///./src/app/routes/world/map/features/dialog-feature.component.scss","webpack:///./src/app/routes/world/map/features/store-feature.component.scss","webpack:///./src/app/routes/world/map/features/temple-feature.component.scss","webpack:///./src/app/routes/world/world.component.scss","webpack:///./src/app/app.component.html","webpack:///./src/app/components/party-inventory/party-inventory.component.html","webpack:///./src/app/components/party-menu/party-menu.component.html","webpack:///./src/app/components/player-card/player-card.component.html","webpack:///./src/app/components/player-stats/player-stats.component.html","webpack:///./src/app/routes/combat/combat-hud.component.html","webpack:///./src/app/routes/combat/combat-map.entity.html","webpack:///./src/app/routes/combat/combat.component.html","webpack:///./src/app/routes/game/game.component.html","webpack:///./src/app/routes/world/map/features/dialog-feature.component.html","webpack:///./src/app/routes/world/map/features/store-feature.component.html","webpack:///./src/app/routes/world/map/features/temple-feature.component.html","webpack:///./src/app/routes/world/map/map-feature.component.html","webpack:///./src/app/routes/world/map/world-map.entity.html","webpack:///./src/app/routes/world/world.component.html","webpack:///./~/tabletop/src","webpack:///./src/app/app.component.scss?d33a","webpack:///./src/app/components/health-bar/health-bar.component.scss?2180","webpack:///./src/app/components/notification/notification.component.scss?ecaf","webpack:///./src/app/components/party-inventory/party-inventory.component.scss?c109","webpack:///./src/app/components/party-menu/party-menu.component.scss?723d","webpack:///./src/app/components/player-card/player-card.component.scss?ed5e","webpack:///./src/app/components/sprite/sprite.component.scss?06ea","webpack:///./src/app/routes/combat/combat-damage.component.scss?6693","webpack:///./src/app/routes/combat/combat-hud.component.scss?7c37","webpack:///./src/app/routes/combat/combat.component.scss?11cd","webpack:///./src/app/routes/combat/states/combat-choose-action.state.scss?219d","webpack:///./src/app/routes/game/game.component.scss?e56d","webpack:///./src/app/routes/world/map/features/dialog-feature.component.scss?0784","webpack:///./src/app/routes/world/map/features/store-feature.component.scss?326e","webpack:///./src/app/routes/world/map/features/temple-feature.component.scss?9785","webpack:///./src/app/routes/world/world.component.scss?3d68","webpack:///delegated ./node_modules/rxjs/operator/observeOn.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/scheduler/queue.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/process/browser.js from dll-reference polyfills_lib","webpack:///delegated ./node_modules/rxjs/add/observable/combineLatest.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/observable/forkJoin.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/observable/from.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/observable/interval.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/observable/merge.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/auditTime.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/debounceTime.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/distinctUntilChanged.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/do.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/finally.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/first.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/let.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/mapTo.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/mergeMap.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/pluck.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/sample.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/share.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/startWith.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/take.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/takeUntil.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/add/operator/toArray.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/operator/ignoreElements.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/operator/scan.js from dll-reference vendor_lib","webpack:///delegated ./node_modules/rxjs/ReplaySubject.js from dll-reference vendor_lib","webpack:///./src/main.browser.ts"],"names":[],"mappings":"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;AACA;AACA,SAAS;AACT;AACA;;;;;;;;ACNA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;ACNA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;;;;;;;;ACPA,+C;;;;;;;;;;ACAA,+C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,+C;;;;;;ACAA,8C;;;;;;;;;;;;;;;;ACAsB;AACE;AACxB;;GAEG;AACsE;AACrB;AACP;AAC7C;;;GAGG;AAC6B;AAEhC;;GAEG;AACG;IACJ,MAAM,CAAC,gHAAsB,EAAE;SAC5B,eAAe,CAAC,uDAAS,CAAC;WACrB,GAAkB;SACvB,KAAK,CAAC,UAAC,GAAG,EAAyB;AACxC,CAAC;AAED,iBAAiB;AACjB,6CAA6C;AAC7C,KAAiB","file":"main.bundle.js","sourcesContent":["module.exports = (__webpack_require__(2))(43);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/@angular/core/@angular/core.es5.js from dll-reference vendor_lib\n// module id = 1\n// module chunks = 0","module.exports = vendor_lib;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vendor_lib\"\n// module id = 2\n// module chunks = 0","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {errors} from './errors';\n\nexport interface IPoint {\n  x: number;\n  y: number;\n}\n\nexport class Point implements IPoint {\n  x: number;\n  y: number;\n\n  constructor();\n  constructor(point: IPoint);\n  constructor(x: number, y: number);\n  constructor(x: string, y: string);\n  constructor(pointOrX?: any, y?: any) {\n    if (pointOrX && pointOrX.hasOwnProperty('x') && pointOrX.hasOwnProperty('y')) {\n      this.set(pointOrX.x, pointOrX.y);\n    }\n    else if (typeof pointOrX === 'string' && typeof y === 'string') {\n      this.set(parseFloat(pointOrX), parseFloat(y));\n    }\n    else if (typeof pointOrX === 'number' && typeof y === 'number') {\n      this.set(pointOrX, y);\n    }\n    else {\n      this.zero();\n    }\n  }\n\n  toString(): string {\n    return `${this.x},${this.y}`;\n  }\n\n  set(point: Point | IPoint): Point;\n  set(x: number, y: number): Point;\n  set(pointOrX: any, y?: any): Point {\n    // Instance of point, or set from plain object with x/y properties\n    if (pointOrX instanceof Point || (pointOrX && pointOrX.x !== undefined && pointOrX.y !== undefined)) {\n      this.x = pointOrX.x;\n      this.y = pointOrX.y;\n    }\n    else if (typeof pointOrX === 'number' && typeof y === 'number') {\n      this.x = pointOrX;\n      this.y = y;\n    }\n    else {\n      throw new Error(errors.INVALID_ARGUMENTS);\n    }\n    return this;\n  }\n\n  clone(): Point {\n    return new Point(this.x, this.y);\n  }\n\n  floor(): Point {\n    this.x = Math.floor(this.x);\n    this.y = Math.floor(this.y);\n    return this;\n  }\n\n  round(): Point {\n    this.x = Math.round(this.x);\n    this.y = Math.round(this.y);\n    return this;\n  }\n\n  add(x: number, y: number): Point;\n  add(value: number): Point;\n  add(point: Point): Point;\n  add(pointOrXOrValue: any, y?: number) {\n    if (pointOrXOrValue instanceof Point) {\n      this.x += pointOrXOrValue.x;\n      this.y += pointOrXOrValue.y;\n    }\n    else if (typeof pointOrXOrValue === 'number' && typeof y === 'undefined') {\n      this.x += pointOrXOrValue;\n      this.y += pointOrXOrValue;\n    }\n    else {\n      this.x += pointOrXOrValue;\n      this.y += y;\n    }\n    return this;\n  }\n\n  subtract(x: number, y: number): Point;\n  subtract(value: number): Point;\n  subtract(point: Point): Point;\n  subtract(pointOrXOrValue: any, y?: number) {\n    if (pointOrXOrValue instanceof Point) {\n      this.x -= pointOrXOrValue.x;\n      this.y -= pointOrXOrValue.y;\n    }\n    else if (typeof pointOrXOrValue === 'number' && typeof y === 'undefined') {\n      this.x -= pointOrXOrValue;\n      this.y -= pointOrXOrValue;\n    }\n    else {\n      this.x -= pointOrXOrValue;\n      this.y -= y;\n    }\n    return this;\n  }\n\n  multiply(x: number, y: number): Point;\n  multiply(value: number): Point;\n  multiply(point: Point): Point;\n  multiply(pointOrXOrValue: any, y?: number): Point {\n    if (pointOrXOrValue instanceof Point) {\n      this.x *= pointOrXOrValue.x;\n      this.y *= pointOrXOrValue.y;\n    }\n    else if (typeof pointOrXOrValue === 'number' && typeof y === 'undefined') {\n      this.x *= pointOrXOrValue;\n      this.y *= pointOrXOrValue;\n    }\n    else {\n      this.x *= pointOrXOrValue;\n      this.y *= y;\n    }\n    return this;\n  }\n\n  divide(x: number, y: number): Point;\n  divide(value: number): Point;\n  divide(point: Point): Point;\n  divide(pointOrXOrValue: any, y?: number): Point {\n    if (pointOrXOrValue instanceof Point) {\n      if (pointOrXOrValue.x === 0 || pointOrXOrValue.y === 0) {\n        throw new Error(errors.DIVIDE_ZERO);\n      }\n      this.x /= pointOrXOrValue.x;\n      this.y /= pointOrXOrValue.y;\n    }\n    else if (typeof pointOrXOrValue === 'number' && typeof y === 'undefined') {\n      if (pointOrXOrValue === 0) {\n        throw new Error(errors.DIVIDE_ZERO);\n      }\n      this.x /= pointOrXOrValue;\n      this.y /= pointOrXOrValue;\n    }\n    else {\n      if (pointOrXOrValue === 0 || y === 0) {\n        throw new Error(errors.DIVIDE_ZERO);\n      }\n      this.x /= pointOrXOrValue;\n      this.y /= y;\n    }\n    return this;\n  }\n\n  inverse(): Point {\n    this.x *= -1;\n    this.y *= -1;\n    return this;\n  }\n\n  equal(point: IPoint) {\n    // TODO epsilon.\n    return this.x === point.x && this.y === point.y;\n  }\n\n  static equal(point: IPoint, pointTwo: IPoint) {\n    // TODO epsilon.\n    return pointTwo.x === point.x && pointTwo.y === point.y;\n  }\n\n  isZero(): boolean {\n    return this.x === 0 && this.y === 0;\n  }\n\n  zero(): Point {\n    this.x = this.y = 0;\n    return this;\n  }\n\n  static interpolate(result: IPoint, from: IPoint, to: IPoint, factor: number): IPoint {\n    factor = Math.min(Math.max(factor, 0), 1);\n    result.x = (from.x * (1.0 - factor)) + (to.x * factor);\n    result.y = (from.y * (1.0 - factor)) + (to.y * factor);\n    return result;\n  }\n\n  interpolate(from: Point, to: Point, factor: number): Point {\n    return Point.interpolate(this, from, to, factor) as Point;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/point.ts","import {createSelector} from 'reselect';\nimport {\n  sliceEntityBeings, sliceEntityBeingIds, sliceEntityItems, sliceEntityItemIds,\n  EntityItemTypes\n} from './entity/entity.reducer';\nimport {\n  sliceBattleCounter,\n  sliceCombatZone,\n  sliceMap,\n  sliceShipPosition,\n  slicePosition,\n  sliceGold,\n  slicePartyIds, sliceInventoryIds, sliceGameStateKeyData\n} from './game-state/game-state.reducer';\nimport {\n  sliceWeaponIds,\n  sliceWeapons,\n  sliceArmors,\n  sliceArmorIds,\n  sliceMagics,\n  sliceMagicIds,\n  sliceClasses,\n  sliceClassesIds,\n  sliceRandomEncounters,\n  sliceRandomEncounterIds,\n  sliceFixedEncounters,\n  sliceFixedEncounterIds,\n  sliceItems,\n  sliceItemIds,\n  sliceGameDataType, sliceEnemies, sliceEnemiesIds, sliceGameDataLoaded\n} from './game-data/game-data.reducer';\nimport {\n  sliceCombatEncounterEnemies, sliceCombatEncounterParty,\n  sliceCombatLoading\n} from './combat/combat.reducer';\nimport {BaseEntity} from './base-entity';\nimport * as Immutable from 'immutable';\nimport {ITemplateArmor, ITemplateId, ITemplateWeapon} from './game-data/game-data.model';\nimport {Entity, EntityWithEquipment} from './entity/entity.model';\nimport {AppState} from '../app.model';\nimport {Selector} from 'reselect/lib/reselect';\nimport {sliceSpritesLoaded, sliceSpritesById} from './sprites/sprites.reducer';\nimport {assertTrue} from './util';\n\n/**\n * This file contains the application level data selectors that can be used with @ngrx/store to\n * select chunks of data from the store. There are two types of functions exported from this\n * file:\n *\n *  1. \"slice\" functions take in a state and return some subset of state from it.\n *  2. \"get\" functions are slice functions that have been composed together using {@see createSelector}\n *\n * It is preferred to use the \"get\" functions rather than using the \"slice\" functions directly. This\n * is because reselect will memoize calls to the combined selectors, which improves performance.\n *\n * @fileOverview\n */\n\n//\n// Combat\n//\n\n/**\n * Slice off the \"combat\" branch of the main application state.\n */\nexport const sliceCombatState = (state) => state.combat;\n\nexport const getCombatLoading = createSelector(sliceCombatState, sliceCombatLoading);\nexport const getCombatEncounterParty = createSelector(sliceCombatState, sliceCombatEncounterParty);\nexport const getCombatEncounterEnemies = createSelector(sliceCombatState, sliceCombatEncounterEnemies);\n\n//\n// Sprites\n//\n\n/**\n * Slice off the \"sprites\" branch of the main application state.\n */\nexport const sliceSpritesState = (state) => state.sprites;\n\nexport const getSpritesLoaded = createSelector(sliceSpritesState, sliceSpritesLoaded);\nexport const getSpriteMap = createSelector(sliceSpritesState, sliceSpritesById);\n\n//\n// Entity collections\n//\n\n/**\n * Slice off the \"entities\" branch of the main application state.\n */\nexport const sliceEntitiesState = (state) => state.entities;\n\n/**\n * Given an entity \"byIds\" object, and its \"allIds\" array, return an array of the items\n * represented in the byIds dictionary. It's often easier to deal with array of items\n * than objects.\n */\nexport const entitiesToArray = (object: Immutable.Map<string, BaseEntity>, ids: Immutable.List<string>) => {\n  return ids.map((id: string) => object[id]).toArray();\n};\n\n// Beings\nexport const getEntityBeingById = createSelector(sliceEntitiesState, sliceEntityBeings);\nexport const getEntityBeingIds = createSelector(sliceEntitiesState, sliceEntityBeingIds);\n\n/** Select just one entity by its ID */\nexport const getEntityById = (id: string) => {\n  return createSelector(getEntityBeingById, (entities: Immutable.Map<string, Entity>) => {\n    return entities.get(id);\n  });\n};\n\n// Items\nexport const getEntityItemById = createSelector(sliceEntitiesState, sliceEntityItems);\nexport const getEntityItemIds = createSelector(sliceEntitiesState, sliceEntityItemIds);\n\n/** Resolve equipment slots to their item entity objects for representation in the UI */\nexport const getEntityEquipment = (entityId: string): Selector<AppState, EntityWithEquipment | null> => {\n  return createSelector(getEntityById(entityId), getEntityItemById, (entity, items) => {\n    if (!entity) {\n      return null;\n    }\n    const result: Partial<EntityWithEquipment> = {\n      armor: items.get(entity.armor) as ITemplateArmor,\n      helm: items.get(entity.helm) as ITemplateArmor,\n      shield: items.get(entity.shield) as ITemplateArmor,\n      accessory: items.get(entity.accessory) as ITemplateArmor,\n      boots: items.get(entity.boots) as ITemplateArmor,\n      weapon: items.get(entity.weapon) as ITemplateWeapon,\n    };\n    return Object.assign({}, entity, result) as EntityWithEquipment;\n  });\n};\n\n//\n// Game application state\n//\n\n/**\n * Slice off the \"gameState\" branch of the main application state.\n */\nexport const sliceGameState = (state) => state.gameState;\n\nexport const getGameInventoryIds = createSelector(sliceGameState, sliceInventoryIds);\nexport const getGamePartyIds = createSelector(sliceGameState, slicePartyIds);\nexport const getGamePartyGold = createSelector(sliceGameState, sliceGold);\nexport const getGamePartyPosition = createSelector(sliceGameState, slicePosition);\nexport const getGameShipPosition = createSelector(sliceGameState, sliceShipPosition);\nexport const getGameMap = createSelector(sliceGameState, sliceMap);\nexport const getGameCombatZone = createSelector(sliceGameState, sliceCombatZone);\nexport const getGameBattleCounter = createSelector(sliceGameState, sliceBattleCounter);\nexport const getGameKeyData = createSelector(sliceGameState, sliceGameStateKeyData);\nexport const getGameParty = createSelector(getEntityBeingById, getGamePartyIds, (entities, ids) => {\n  return ids.map((id) => entities.get(id));\n});\n/** Select just one data key from the gamesate keyData object. */\nexport const getGameKey = (key: string) => {\n  return createSelector(getGameKeyData, (data: Immutable.Map<string, any>) => {\n    return data.get(key);\n  });\n};\n\nexport const getGameInventory = createSelector(\n  getEntityItemById,\n  getGameInventoryIds,\n  (entities: Immutable.Map<string, EntityItemTypes>, ids: Immutable.List<string>) => {\n    return ids.map((id) => {\n      const result = entities.get(id);\n      // Ensure that any item in the inventory has a corresponding entity. If not, throw a loud error\n      // instead of crashing hard in an obscure place.\n      assertTrue(result,\n        `${id} is present in inventory but not in entity collection. Did you forget to dispatch EntityAddItemAction?`);\n      return result;\n    });\n  });\n\n//\n// Game data\n//\n\n/**\n * Slice off the \"gameData\" branch of the main application state. This branch contains game data\n * such as available weapons, armor, items, fixed encounters, etc.\n */\nexport const sliceGameDataState = (state) => state.gameData;\n\n/**\n * Boolean indicating if the gamedata tree is loaded.\n */\nexport const getGameDataLoaded = createSelector(sliceGameDataState, sliceGameDataLoaded);\n/**\n * Given a template entity collection \"byIds\" object, and its \"allIds\" array, return an array of the items\n * represented in the byIds dictionary. It's often easier to deal with array of items than objects.\n */\nexport const gameDataToArray = (object: Immutable.Map<string, ITemplateId>, ids: Immutable.List<string>) => {\n  return ids.map((id: string) => object.get(id));\n};\n\nexport const getGameDataForType = (type: string) => {\n  return createSelector(sliceGameDataState, sliceGameDataType(type));\n};\n\nexport const getGameDataWeaponsById = createSelector(sliceGameDataState, sliceWeapons);\nexport const getGameDataWeaponIds = createSelector(sliceGameDataState, sliceWeaponIds);\n/** Select an array of weapons */\nexport const getGameDataWeapons = createSelector(getGameDataWeaponsById, getGameDataWeaponIds, gameDataToArray);\n\nexport const getGameDataArmorsById = createSelector(sliceGameDataState, sliceArmors);\nexport const getGameDataArmorIds = createSelector(sliceGameDataState, sliceArmorIds);\n/** Select an array of armors */\nexport const getGameDataArmors = createSelector(getGameDataArmorsById, getGameDataArmorIds, gameDataToArray);\n\nexport const getGameDataItemsById = createSelector(sliceGameDataState, sliceItems);\nexport const getGameDataItemIds = createSelector(sliceGameDataState, sliceItemIds);\n/** Select an array of items */\nexport const getGameDataItems = createSelector(getGameDataItemsById, getGameDataItemIds, gameDataToArray);\n\nexport const getGameDataEnemiesById = createSelector(sliceGameDataState, sliceEnemies);\nexport const getGameDataEnemiesIds = createSelector(sliceGameDataState, sliceEnemiesIds);\n/** Select an array of items */\nexport const getGameDataEnemies = createSelector(getGameDataEnemiesById, getGameDataEnemiesIds, gameDataToArray);\n\nexport const getGameDataMagicsById = createSelector(sliceGameDataState, sliceMagics);\nexport const getGameDataMagicIds = createSelector(sliceGameDataState, sliceMagicIds);\n/** Select an array of magics */\nexport const getGameDataMagics = createSelector(getGameDataMagicsById, getGameDataMagicIds, gameDataToArray);\n\nexport const getGameDataClassesById = createSelector(sliceGameDataState, sliceClasses);\nexport const getGameDataClassesIds = createSelector(sliceGameDataState, sliceClassesIds);\n/** Select an array of game character classes */\nexport const getGameDataClasses = createSelector(getGameDataClassesById, getGameDataClassesIds, gameDataToArray);\n\nexport const getGameDataRandomEncountersById = createSelector(sliceGameDataState, sliceRandomEncounters);\nexport const getGameDataRandomEncounterIds = createSelector(sliceGameDataState, sliceRandomEncounterIds);\n/** Select an array of random combat encounters */\nexport const getGameDataRandomEncounters =\n  createSelector(getGameDataRandomEncountersById, getGameDataRandomEncounterIds, gameDataToArray);\n\nexport const getGameDataFixedEncountersById = createSelector(sliceGameDataState, sliceFixedEncounters);\nexport const getGameDataFixedEncounterIds = createSelector(sliceGameDataState, sliceFixedEncounterIds);\n/** Select an array of fixed combat encounters */\nexport const getGameDataFixedEncounters =\n  createSelector(getGameDataFixedEncountersById, getGameDataFixedEncounterIds, gameDataToArray);\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/selectors.ts","import {Action} from '@ngrx/store';\nimport {GameState, GamePositionFacing} from './game-state.model';\nimport {type} from '../util';\nimport {IPoint} from '../../../game/pow-core';\nimport {Item} from '../item';\nimport {AppState} from '../../app.model';\nimport {EntitySlots} from '../entity/entity.model';\n\n//\n// Save state Actions\n//\nexport class GameStateSaveAction implements Action {\n  static typeId: 'GAME_SAVE' = type('GAME_SAVE');\n  type = GameStateSaveAction.typeId;\n  payload: null = null;\n}\n\nexport class GameStateSaveSuccessAction implements Action {\n  static typeId: 'GAME_SAVE_SUCCESS' = type('GAME_SAVE_SUCCESS');\n  type = GameStateSaveSuccessAction.typeId;\n  payload: string = null;\n}\n\nexport class GameStateSaveFailAction implements Action {\n  static typeId: 'GAME_SAVE_FAIL' = type('GAME_SAVE_FAIL');\n  type = GameStateSaveFailAction.typeId;\n\n  constructor(public payload: any) {\n  }\n}\n\n//\n// Delete save state Actions\n//\nexport class GameStateDeleteAction implements Action {\n  static typeId: 'GAME_SAVE_DELETE' = type('GAME_SAVE_DELETE');\n  type = GameStateDeleteAction.typeId;\n  payload: null = null;\n}\n\nexport class GameStateDeleteSuccessAction implements Action {\n  static typeId: 'GAME_SAVE_DELETE_SUCCESS' = type('GAME_SAVE_DELETE_SUCCESS');\n  type = GameStateDeleteSuccessAction.typeId;\n  payload: string = null;\n}\n\nexport class GameStateDeleteFailAction implements Action {\n  static typeId: 'GAME_SAVE_DELETE_FAIL' = type('GAME_SAVE_DELETE_FAIL');\n  type = GameStateDeleteFailAction.typeId;\n\n  constructor(public payload: any) {\n  }\n}\n\n//\n// Load state Actions\n//\nexport class GameStateLoadAction implements Action {\n  static typeId: 'GAME_LOAD' = type('GAME_LOAD');\n  type = GameStateLoadAction.typeId;\n  payload: void;\n}\n\nexport class GameStateLoadSuccessAction implements Action {\n  static typeId: 'GAME_LOAD_SUCCESS' = type('GAME_LOAD_SUCCESS');\n  type = GameStateLoadSuccessAction.typeId;\n\n  constructor(public payload: AppState) {\n  }\n}\n\nexport class GameStateLoadFailAction implements Action {\n  static typeId: 'GAME_LOAD_FAIL' = type('GAME_LOAD_FAIL');\n  type = GameStateLoadFailAction.typeId;\n\n  constructor(public payload: any) {\n  }\n}\n\n//\n// New game state Actions\n//\nexport class GameStateNewAction implements Action {\n  static typeId: 'GAME_NEW' = type('GAME_NEW');\n  type = GameStateNewAction.typeId;\n\n  constructor(public payload: GameState) {\n  }\n}\n\nexport class GameStateNewSuccessAction implements Action {\n  static typeId: 'GAME_NEW_SUCCESS' = type('GAME_NEW_SUCCESS');\n  type = GameStateNewSuccessAction.typeId;\n\n  constructor(public payload: GameState) {\n  }\n}\n\nexport class GameStateNewFailAction implements Action {\n  static typeId: 'GAME_NEW_FAIL' = type('GAME_NEW_FAIL');\n  type = GameStateNewFailAction.typeId;\n\n  constructor(public payload: any) {\n  }\n}\n\n//\n// key/value data for map features and such\n//\nexport class GameStateSetKeyDataAction implements Action {\n  static typeId: 'GAME_SET_KEY_DATA' = type('GAME_SET_KEY_DATA');\n  type = GameStateSetKeyDataAction.typeId;\n  payload: {\n    key: string;\n    value: any;\n  };\n\n  constructor(key: string, value: any) {\n    this.payload = {\n      key, value\n    };\n  }\n}\n\n//\n// Travel state actions\n//\nexport class GameStateTravelAction implements Action {\n  static typeId: 'GAME_TRAVEL' = type('GAME_TRAVEL');\n  type = GameStateTravelAction.typeId;\n\n  constructor(public payload: {\n    location: string;\n    position: IPoint;\n  }) {\n  }\n}\n\nexport class GameStateTravelSuccessAction implements Action {\n  static typeId: 'GAME_TRAVEL_SUCCESS' = type('GAME_TRAVEL_SUCCESS');\n  type = GameStateTravelSuccessAction.typeId;\n\n  constructor(public payload: string) {\n  }\n}\n\nexport class GameStateTravelFailAction implements Action {\n  static typeId: 'GAME_TRAVEL_FAIL' = type('GAME_TRAVEL_FAIL');\n  type = GameStateTravelFailAction.typeId;\n\n  constructor(public payload: any) {\n  }\n}\n\n//\n// Move state actions\n//\n\nexport interface GameStateMoveData {\n  from: IPoint;\n  to: IPoint;\n  facing: GamePositionFacing;\n}\n\nexport class GameStateMoveAction implements Action {\n  static typeId: 'GAME_MOVE' = type('GAME_MOVE');\n  type = GameStateMoveAction.typeId;\n\n  constructor(public payload: IPoint) {\n  }\n}\n\n//\n// Gold state actions\n//\nexport class GameStateAddGoldAction implements Action {\n  static typeId: 'GAME_ADD_GOLD' = type('GAME_ADD_GOLD');\n  type = GameStateAddGoldAction.typeId;\n\n  constructor(public payload: number) {\n  }\n}\n\n//\n// Party state actions\n//\nexport class GameStateHealPartyAction implements Action {\n  static typeId: 'GAME_HEAL_PARTY' = type('GAME_HEAL_PARTY');\n  type = GameStateHealPartyAction.typeId;\n\n  constructor(public payload: {\n    cost: number;\n    partyIds: string[]\n  }) {\n  }\n}\n\nexport class GameStateSetBattleCounterAction implements Action {\n  static typeId: 'GAME_SET_BATTLE_COUNTER' = type('GAME_SET_BATTLE_COUNTER');\n  type = GameStateSetBattleCounterAction.typeId;\n\n  constructor(public payload: number) {\n  }\n}\n\nexport class GameStateEquipItemAction implements Action {\n  static typeId: 'GAME_EQUIP_ITEM' = type('GAME_EQUIP_ITEM');\n  type = GameStateEquipItemAction.typeId;\n\n  constructor(public payload: {\n    entityId: string;\n    itemId: string;\n    slot: keyof EntitySlots;\n  }) {\n  }\n}\n\nexport class GameStateUnequipItemAction implements Action {\n  static typeId: 'GAME_UNEQUIP_ITEM' = type('GAME_UNEQUIP_ITEM');\n  type = GameStateUnequipItemAction.typeId;\n\n  constructor(public payload: {\n    entityId: string;\n    itemId: string;\n    slot: keyof EntitySlots;\n  }) {\n  }\n}\n\n//\n// Inventory actions\n//\nexport class GameStateAddInventoryAction implements Action {\n  static typeId: 'GAME_ADD_INVENTORY' = type('GAME_ADD_INVENTORY');\n  type = GameStateAddInventoryAction.typeId;\n\n  constructor(public payload: Item) {\n  }\n}\nexport class GameStateRemoveInventoryAction implements Action {\n  static typeId: 'GAME_REMOVE_INVENTORY' = type('GAME_REMOVE_INVENTORY');\n  type = GameStateRemoveInventoryAction.typeId;\n\n  constructor(public payload: Item) {\n  }\n}\n\nexport type GameStateActions\n  = GameStateSaveAction\n  | GameStateSaveSuccessAction\n  | GameStateSaveFailAction\n  | GameStateDeleteAction\n  | GameStateDeleteSuccessAction\n  | GameStateDeleteFailAction\n  | GameStateLoadAction\n  | GameStateLoadSuccessAction\n  | GameStateLoadFailAction\n  | GameStateNewAction\n  | GameStateNewSuccessAction\n  | GameStateNewFailAction\n  | GameStateSetKeyDataAction\n  | GameStateTravelAction\n  | GameStateTravelSuccessAction\n  | GameStateTravelFailAction\n  | GameStateSetBattleCounterAction\n  | GameStateMoveAction\n  | GameStateAddGoldAction\n  | GameStateHealPartyAction\n  | GameStateEquipItemAction\n  | GameStateUnequipItemAction\n  | GameStateAddInventoryAction\n  | GameStateRemoveInventoryAction;\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-state/game-state.actions.ts","/*\n * Sourced from ngrx/example-app: https://github.com/ngrx/example-app/blob/master/src/app/util.ts\n */\n\nimport {makeTypedFactory, TypedRecord} from 'typed-immutable-record';\n/**\n * This function coerces a string into a string literal type.\n * Using tagged union types in TypeScript 2.0, this enables\n * powerful typechecking of our reducers.\n *\n * Since every action label passes through this function it\n * is a good place to ensure all of our action labels\n * are unique.\n */\n\nconst typeCache: { [label: string]: boolean } = {};\nexport function type<T>(label: T | ''): T {\n  if (typeCache[<string> label]) {\n    throw new Error(`Action type \"${label}\" is not unique\"`);\n  }\n\n  typeCache[<string> label] = true;\n\n  return label as T;\n}\n\n/**\n * Helper for exhaustive switch checking using tagged union types\n * @param input The union type\n */\nexport function exhaustiveCheck(input: never) {\n  // This function is compiler magic. Call it with the source of a switch(source) using a tagged union of\n  // types, and it will throw a compiler error if a valid switch case from the union type is missing.\n  // The error will include the type that is missing.\n}\n\n/**\n * {@see 'typed-immutable-record'/makeTypedFactory} but returns a factor function that accepts a Partial<E>\n *   as the init values argument.\n */\nexport function makeRecordFactory<E, T extends TypedRecord<T> & E>(obj: E, name?: string): (val?: Partial<E>) => T {\n  return makeTypedFactory<E, T>(obj, name);\n};\n\n/**\n * Throw errors if the given expression is falsy\n */\nexport function assertTrue(expression: any, message: string) {\n  if (!expression) {\n    throw new Error(`Assertion Failed: ${message}`);\n  }\n}\n\n/**\n * Generate probably unique IDs. See: http://stackoverflow.com/questions/26501688/a-typescript-guid-class\n * @returns {string}\n */\nexport function newGuid() {\n  /* tslint:disable */\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n  /* tslint:enable */\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/util.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Injectable} from '@angular/core';\nimport {Animate} from '../../services/animate';\nimport {GameWorld} from '../../services/game-world';\nimport {IWorldObject} from '../../../game/pow-core/world';\nimport {IProcessObject} from '../../../game/pow-core/time';\n\n/**\n * Describe a notification that exists in the queue.\n */\nexport interface INotifyItem {\n  /**\n   * The message to display.\n   */\n  message: string;\n  /**\n   * The duration the message should be displayed after shown.\n   */\n  duration?: number;\n  /**\n   * Elapsed time since the alert has been full shown (after any enter animations)\n   */\n  elapsed?: number;\n  /**\n   * Set to dismiss.\n   */\n  dismissed?: boolean;\n  /**\n   * Set to ignore all processing for this alert.\n   */\n  busy?: boolean;\n  /**\n   * A callback for after this alert has been issued and dismissed.\n   * @param message\n   */\n  done?(message: INotifyItem): void;\n}\n\n/**\n * Provide a basic service for queuing and showing messages to the user.\n *\n * TODO: Refactor this to use observable current notification, remove Animate service and replace with ng animations.\n */\n@Injectable()\nexport class NotificationService implements IWorldObject, IProcessObject {\n  world: GameWorld;\n  paused: boolean = false;\n  public animationClass: string = 'active';\n  public message: string = null;\n\n  /**\n   * Default timeout in Milliseconds\n   */\n  defaultTimeout: number = 2500;\n\n  set container(value: HTMLElement) {\n    if (this._container) {\n      this._container.removeEventListener('click', this._dismissBinding);\n    }\n    this._container = value;\n    if (this._container) {\n      this._container.addEventListener('click', this._dismissBinding);\n    }\n  }\n\n  get container(): HTMLElement {\n    return this._container;\n  }\n\n  private _container: HTMLElement = null;\n\n  private _current: INotifyItem = null;\n  private _queue: INotifyItem[] = [];\n  private _dismissBinding: (e: any) => any = null;\n\n  constructor(public animate: Animate) {\n    this._dismissBinding = (e) => {\n      this.dismiss();\n    };\n  }\n\n  show(message: string, done?: () => void, duration?: number): INotifyItem {\n    const obj: INotifyItem = {\n      message,\n      done,\n      duration: typeof duration === 'undefined' ? this.defaultTimeout : duration\n    };\n    return this.queue(obj);\n  }\n\n  dismiss() {\n    if (!this._current || this.paused) {\n      return;\n    }\n    this.paused = true;\n    this.animate.leave(this.container, this.animationClass).then(() => {\n      if (this._current) {\n        // Don't let exceptions in callback mess up current = null;\n        try {\n          if (this._current.done) {\n            this._current.done(this._current);\n          }\n        } catch (e) {\n          console.warn(e);\n        }\n        this._current = null;\n        this.message = null;\n      }\n      this.paused = false;\n\n    });\n    if (this._current) {\n      this._current.dismissed = true;\n    }\n  }\n\n  queue(config: INotifyItem) {\n    config.elapsed = 0;\n    this._queue.push(config);\n    return config;\n  }\n\n  /**\n   * Update current message, and manage event generation for transitions\n   * between messages.\n   * @param elapsed number The elapsed time since the last invocation, in milliseconds.\n   */\n  processFrame(elapsed: number) {\n    if (this._current && this.paused !== true) {\n      const c = this._current;\n      let timeout: boolean = c.duration && c.elapsed > c.duration;\n      let dismissed: boolean = c.dismissed === true;\n      if (!timeout && !dismissed) {\n        c.elapsed += elapsed;\n        return;\n      }\n      this.dismiss();\n    }\n    if (this.paused || this._queue.length === 0) {\n      return;\n    }\n    this._current = this._queue.shift();\n    this.paused = true;\n    this.message = this._current.message;\n    this.animate.enter(this.container, this.animationClass).then(() => {\n      this.paused = false;\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/notification/notification.service.ts","module.exports = (__webpack_require__(2))(209);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/Rx.js from dll-reference vendor_lib\n// module id = 13\n// module chunks = 0","import {GameStateModel} from '../../game/rpg/models/gameStateModel';\nimport {Observable} from 'rxjs/Rx';\nimport {Injectable} from '@angular/core';\nimport {ResourceManager} from '../../game/pow-core/resource-manager';\nimport {PowInput} from '../../game/pow2/core/input';\nimport {World} from '../../game/pow-core/world';\nimport {SpriteRender} from './sprite-render';\nimport {AppState} from '../app.model';\nimport {Store} from '@ngrx/store';\nimport {SPREADSHEET_ID} from '../models/game-data/game-data.model';\nimport {GameDataFetchAction} from '../models/game-data/game-data.actions';\nimport {SpritesLoadAction} from '../models/sprites/sprites.actions';\nimport {GameStateService} from '../models/game-state/game-state.service';\nimport {GameStateLoadAction} from '../models/game-state/game-state.actions';\nimport {getGameDataLoaded, getSpritesLoaded} from '../models/selectors';\n\nlet _sharedGameWorld: GameWorld = null;\n\n@Injectable()\nexport class GameWorld extends World {\n  input: PowInput = new PowInput();\n\n  /**\n   * Observable that emits when all game data has been loaded and the game can start.\n   */\n  ready$: Observable<void> = this.store.select(getSpritesLoaded)\n    .combineLatest(this.store.select(getGameDataLoaded), (sprites: boolean, data: boolean) => {\n      // are both tables loaded?\n      return sprites && data;\n    })\n    .filter((b) => b)\n    .map(() => undefined);\n\n  constructor(public loader: ResourceManager,\n              public store: Store<AppState>,\n              public sprites: SpriteRender,\n              public gameStateService: GameStateService) {\n    super();\n    _sharedGameWorld = this;\n    if (this.gameStateService.hasSaveGame()) {\n      this.store.dispatch(new GameStateLoadAction());\n    }\n    else {\n      this.store.dispatch(new SpritesLoadAction('assets/images/index.json'));\n      this.store.dispatch(new GameDataFetchAction(SPREADSHEET_ID));\n    }\n  }\n\n  static get(): GameWorld {\n    return _sharedGameWorld;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/services/game-world.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {errors} from './errors';\nimport {Point, IPoint} from './point';\nexport interface IRect {\n  point: Point;\n  extent: Point;\n}\n\nexport class Rect implements IRect {\n  point: Point;\n  extent: Point;\n\n  constructor();\n  constructor(rect: IRect);\n  constructor(point: Point, extent: Point);\n  constructor(x: number, y: number, width: number, height: number);\n  constructor(rectOrPointOrX?: any, extentOrY?: any, width?: number, height?: number) {\n    if (rectOrPointOrX instanceof Rect) {\n      this.point = new Point(rectOrPointOrX.point);\n      this.extent = new Point(rectOrPointOrX.extent);\n    }\n    else if (typeof width === 'number' && typeof height === 'number') {\n      this.point = new Point(rectOrPointOrX, extentOrY);\n      this.extent = new Point(width, height);\n    }\n    else if (rectOrPointOrX instanceof Point && extentOrY instanceof Point) {\n      this.point = new Point(rectOrPointOrX);\n      this.extent = new Point(extentOrY);\n    }\n    else {\n      this.point = new Point(0, 0);\n      this.extent = new Point(1, 1);\n    }\n    return this;\n  }\n\n  toString(): string {\n    return `${this.point.toString()},${this.extent.toString()}`;\n  }\n\n  set(rect: IRect): Rect;\n  set(point: Point, extent: Point): Rect;\n  set(x: number, y: number, width: number, height: number);\n  set(rectOrPointOrX: any, extentOrY?: any, width?: number, height?: number): Rect {\n    if (rectOrPointOrX instanceof Rect) {\n      this.point.set(rectOrPointOrX.point);\n      this.extent.set(rectOrPointOrX.extent);\n    }\n    else if (typeof width === 'number' && typeof height === 'number') {\n      this.point.set(rectOrPointOrX, extentOrY);\n      this.extent.set(width, height);\n    }\n    else if (rectOrPointOrX instanceof Point && extentOrY instanceof Point) {\n      this.point.set(rectOrPointOrX);\n      this.extent.set(extentOrY);\n    }\n    else {\n      throw new Error(errors.INVALID_ARGUMENTS);\n    }\n    return this;\n  }\n\n  clone(): Rect {\n    return new Rect(this.point.clone(), this.extent.clone());\n  }\n\n  clip(clipRect: IRect): Rect {\n    const right: number = this.point.x + this.extent.x;\n    const bottom: number = this.point.y + this.extent.y;\n    this.point.x = Math.max(clipRect.point.x, this.point.x);\n    this.extent.x = Math.min(clipRect.point.x + clipRect.extent.x, right) - this.point.x;\n    this.point.y = Math.max(clipRect.point.y, this.point.y);\n    this.extent.y = Math.min(clipRect.point.y + clipRect.extent.y, bottom) - this.point.y;\n    return this;\n  }\n\n  isValid(): boolean {\n    return this.extent.x > 0 && this.extent.y > 0;\n  }\n\n  intersect(clipRect: IRect): boolean {\n    return !(clipRect.point.x > this.point.x + this.extent.x ||\n    clipRect.point.x + clipRect.extent.x < this.point.x ||\n    clipRect.point.y > this.point.y + this.extent.y ||\n    clipRect.point.y + clipRect.extent.y < this.point.y);\n  }\n\n  pointInRect(point: Point): boolean;\n  pointInRect(x: number, y: number): boolean;\n  pointInRect(pointOrX: any, y?: number) {\n    let x: number = 0;\n    if (pointOrX instanceof Point) {\n      x = pointOrX.x;\n      y = pointOrX.y;\n    }\n    else if (typeof pointOrX === 'number' && typeof y === 'number') {\n      x = pointOrX;\n    }\n    else {\n      throw new Error(errors.INVALID_ARGUMENTS);\n    }\n    if (x >= this.point.x + this.extent.x || y >= this.point.y + this.extent.y) {\n      return false;\n    }\n    return !(x < this.point.x || y < this.point.y);\n  }\n\n  getCenter(): Point {\n    const x = parseFloat((this.point.x + this.extent.x * 0.5).toFixed(2));\n    const y = parseFloat((this.point.y + this.extent.y * 0.5).toFixed(2));\n    return new Point(x, y);\n  }\n\n  setCenter(point: Point | IPoint): Rect;\n  setCenter(x: number, y: number): Rect;\n  setCenter(pointOrX: any, y?: number): Rect {\n    let x: number;\n    if (pointOrX instanceof Point || (pointOrX && pointOrX.x !== undefined && pointOrX.y !== undefined)) {\n      x = pointOrX.x;\n      y = pointOrX.y;\n    }\n    else {\n      x = pointOrX;\n    }\n    this.point.x = parseFloat((x - this.extent.x * 0.5).toFixed(2));\n    this.point.y = parseFloat((y - this.extent.y * 0.5).toFixed(2));\n    return this;\n  }\n\n  getLeft(): number {\n    return this.point.x;\n  }\n\n  getTop(): number {\n    return this.point.y;\n  }\n\n  getRight(): number {\n    return this.point.x + this.extent.x;\n  }\n\n  getBottom(): number {\n    return this.point.y + this.extent.y;\n  }\n\n  getHalfSize(): Point {\n    return new Point(this.extent.x / 2, this.extent.y / 2);\n  }\n\n  /**\n   * Add a point to the rect.  This will ensure that the rect\n   * contains the given point.\n   * @param {Point} value The point to add.\n   */\n  addPoint(value: Point) {\n    if (value.x < this.point.x) {\n      this.extent.x = this.extent.x - (value.x - this.point.x);\n      this.point.x = value.x;\n    }\n    if (value.y < this.point.y) {\n      this.extent.y = this.extent.y - (value.x - this.point.y);\n      this.point.y = value.y;\n    }\n    if (value.x > this.point.x + this.extent.x) {\n      this.extent.x = value.x - this.point.x;\n    }\n    if (value.y > this.point.y + this.extent.y) {\n      this.extent.y = value.y - this.point.y;\n    }\n  }\n\n  inflate(x: number = 1, y: number = 1): Rect {\n    this.point.x -= x;\n    this.extent.x += 2 * x;\n    this.point.y -= y;\n    this.extent.y += 2 * y;\n    return this;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/rect.ts","import * as _ from 'underscore';\nimport {errors} from './errors';\nimport {IResource} from './resource';\nimport {ImageResource} from './resources/image.resource';\nimport {JSONResource} from './resources/json.resource';\nimport {XMLResource} from './resources/xml.resource';\nimport {TiledTMXResource} from './resources/tiled/tiled-tmx.resource';\nimport {TiledTSXResource} from './resources/tiled/tiled-tsx.resource';\nimport {AudioResource} from './resources/audio.resource';\nimport {Injectable} from '@angular/core';\nimport {Http} from '@angular/http';\n\n/**\n * A basic resource loading manager with api for requesting\n * resources by file name. Uses registered types and file extension\n * matching to create and load resources.\n */\n@Injectable()\nexport class ResourceManager {\n  private _cache: Object = {};\n  private _types: Object = {\n    'png': ImageResource,\n    'json': JSONResource,\n    'xml': XMLResource,\n    'tmx': TiledTMXResource,\n    'tsx': TiledTSXResource,\n    '': AudioResource,\n    'mp3': AudioResource,\n    'm4a': AudioResource,\n    'aac': AudioResource,\n    'ogg': AudioResource,\n    'wav': AudioResource\n  };\n\n  constructor(public http: Http) {\n\n  }\n\n  /**\n   * Register a custom resource class type\n   * @param extension The extension without any period\n   * @param type The class constructor function\n   */\n  registerType(extension: string, type: Function) {\n    this._types[extension] = type;\n  }\n\n  getResourceExtension(url: string): string {\n    const index: number = url.lastIndexOf('.');\n    if (index === -1 || index <= url.lastIndexOf('/')) {\n      return '';\n    }\n    return url.substr(index + 1);\n  }\n\n  create<T extends IResource>(typeConstructor: any, data?: any): T {\n    if (typeof typeConstructor !== 'function') {\n      throw new Error(errors.INVALID_ARGUMENTS);\n    }\n    return new typeConstructor(null, data) as any;\n  }\n\n  /**\n   * Load a single resource as the given resource type constructor.\n   */\n  loadAsType<T extends IResource>(source: string, resourceType: any): Promise<T> {\n    return new Promise<T>((resolve, reject) => {\n      if (!source || !resourceType) {\n        return reject(errors.INVALID_ARGUMENTS);\n      }\n      let resource: T = this._cache[source];\n      if (resource && resource.data) {\n        return resolve(resource);\n      }\n      else if (!resource) {\n        resource = this._cache[source] = new resourceType(source, null);\n      }\n      resource\n        .fetch(source)\n        .then(() => resolve(resource))\n        .catch((e) => reject(e));\n    });\n  }\n\n  /**\n   * Load one or more resources from a given url or list of urls. The type of each resource is determined\n   * by matching of its filename against the list of known resource types.\n   *\n   * @returns An array of IResource objects.\n   */\n  load<T extends IResource | IResource[]>(sources: string | string[]): Promise<T[]> {\n    return new Promise<T[]>((resolve, reject) => {\n      const results: T[] = [];\n      let loadQueue: number = 0;\n      let errors: number = 0;\n      if (!_.isArray(sources)) {\n        sources = [sources];\n      }\n      function _checkDone() {\n        if (loadQueue === 0) {\n          return (errors === 0) ? resolve(results) : reject(errors + ' resources failed to load');\n        }\n      }\n\n      for (let i: number = 0; i < sources.length; i++) {\n        let src: string = sources[i];\n        let extension: string = this.getResourceExtension(src);\n        let type: any = this._types[extension];\n        if (!type) {\n          errors++;\n          continue;\n        }\n        loadQueue++;\n        this\n          .loadAsType<any>(src, this._types[extension])\n          .then((resource: any) => {\n            loadQueue--;\n            _checkDone();\n            resource.extension = extension;\n            results.push(resource);\n          })\n          .catch((e) => {\n            console.log(`failed to load resource (${src}) with error: ${e}`);\n            errors++;\n            loadQueue--;\n            _checkDone();\n          });\n      }\n      _checkDone();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/resource-manager.ts","import {SceneObject} from './scene-object';\nimport {Behavior} from '../../pow-core/behavior';\n\n/** Simplest component that is hosted by an object in a scene. */\nexport class SceneObjectBehavior extends Behavior {\n  host: SceneObject;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/scene-object-behavior.ts","import {Observable, BehaviorSubject} from 'rxjs/Rx';\n\nexport class LoadingService {\n\n  /* @internal */\n  private _loading$: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(true);\n\n  /**\n   * Observable that emits when the boolean value of loading changes.\n   */\n  public loading$: Observable<boolean> = this._loading$;\n\n  /**\n   * Set the loading state of the application\n   * @param value\n   */\n  set loading(value: boolean) {\n    this._loading$.next(value);\n  }\n\n  /* @internal */\n  private _title$: BehaviorSubject<string> = new BehaviorSubject<string>('');\n\n  public title$: Observable<string> = this._title$;\n\n  set title(value: string) {\n    this._title$.next(value);\n  }\n\n  /* @internal */\n  private _message$: BehaviorSubject<string> = new BehaviorSubject<string>('');\n\n  public message$: Observable<string> = this._message$;\n\n  set message(value: string) {\n    this._message$.next(value);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/loading/loading.service.ts","import {Injectable} from '@angular/core';\nimport {Observable, ReplaySubject} from 'rxjs/Rx';\nimport {ResourceManager} from '../../../game/pow-core/resource-manager';\nimport {CombatantTypes, CombatEncounter} from './combat.model';\nimport {getMapUrl} from '../../../game/pow2/core/api';\nimport {TiledTMXResource} from '../../../game/pow-core/resources/tiled/tiled-tmx.resource';\nimport {BaseEntity} from '../base-entity';\nimport {ITiledLayer} from '../../../game/pow-core/resources/tiled/tiled.model';\nimport * as _ from 'underscore';\nimport {EntityWithEquipment} from '../entity/entity.model';\n\n@Injectable()\nexport class CombatService {\n\n  constructor(private resourceLoader: ResourceManager) {\n  }\n\n  private _combatMap$ = new ReplaySubject<TiledTMXResource>(1);\n  combatMap$: Observable<TiledTMXResource> = this._combatMap$;\n\n  loadMap(combatZone: string): Observable<TiledTMXResource> {\n    const mapUrl = getMapUrl('combat');\n    return Observable.fromPromise(this.resourceLoader.load(mapUrl)\n      .then((maps: TiledTMXResource[]) => {\n        if (!maps[0] || !maps[0].data) {\n          return null;\n        }\n        const result: TiledTMXResource = maps[0];\n        // Hide all layers that don't correspond to the current combat zone\n        result.layers.forEach((l: ITiledLayer) => {\n          l.visible = (l.name === combatZone);\n        });\n        this._combatMap$.next(result);\n        return result;\n      }));\n  }\n\n  loadEncounter(encounter: CombatEncounter): Observable<CombatEncounter> {\n    return this.loadMap(encounter.zone).map(() => encounter);\n  }\n\n  //\n  // Combat API helpers\n  //\n\n  isDefeated(test: BaseEntity): boolean {\n    return !test || test.hp <= 0;\n  }\n\n// Chance to hit = (BASE_CHANCE_TO_HIT + PLAYER_HIT_PERCENT) - EVASION\n  rollHit(attacker: CombatantTypes, defender: CombatantTypes): boolean {\n    const roll: number = _.random(0, 200);\n    const attackerEvasion: number = this.getSpeed(attacker);\n    const defenderEvasion: number = this.getSpeed(defender);\n    const favorDodge = attackerEvasion < defenderEvasion;\n    const chance: number = favorDodge ? 180 : 120; // TODO: Some real calculation here\n    if (roll === 200) {\n      return false;\n    }\n    if (roll === 0) {\n      return true;\n    }\n    return roll <= chance;\n  }\n\n  getSpeed(target: CombatantTypes): number {\n    return target.speed;\n  }\n\n  /**\n   * One combatant attacks another!\n   *\n   * - sum the base attack and a weapon to get damage\n   * - sum the base defense and all the armors to get defense\n   * - damage = attack - defense with a minimum value of 1 if a hit lands\n   *\n   * @returns {number} The damage value to apply to the defender.\n   */\n  attackCombatant(attacker: CombatantTypes, defender: CombatantTypes): number {\n    const attackStrength = this.getAttack(attacker);\n    const defense = this.getDefense(defender);\n    const amount = attackStrength - defense;\n    const damage = this.varyDamage(amount);\n    if (this.rollHit(attacker, defender)) {\n      return Math.ceil(damage);\n    }\n    return 0;\n  }\n\n  /**\n   * Determine the total defense value of this character including all equipped accessories and armor\n   */\n  getDefense(member: CombatantTypes): number {\n    const equipped = member as EntityWithEquipment;\n    const shieldDefense = equipped.shield ? equipped.shield.defense : 0;\n    const armorDefense = equipped.armor ? equipped.armor.defense : 0;\n    const bootsDefense = equipped.boots ? equipped.boots.defense : 0;\n    const helmDefense = equipped.helm ? equipped.helm.defense : 0;\n    const accessoryDefense = equipped.accessory ? equipped.accessory.defense : 0;\n    return member.defense + shieldDefense + armorDefense + bootsDefense + helmDefense + accessoryDefense;\n  }\n\n  /**\n   * The total attack strength of this combatant including any weapons\n   */\n  getAttack(combatant: CombatantTypes): number {\n    return this.getWeaponStrength(combatant) + combatant.attack;\n  }\n\n  getMagic(combatant: CombatantTypes): number {\n    return combatant.magic;\n  }\n\n  getWeaponStrength(combatant: CombatantTypes): number {\n    const equipped = combatant as EntityWithEquipment;\n    return equipped.weapon ? equipped.weapon.attack : 0;\n  }\n\n  /**\n   * Given a base amount of damage, vary the output to be somewhere between 80% and 120%\n   * of the input.\n   */\n  varyDamage(amount: number): number {\n    const max = amount * 1.2;\n    const min = amount * 0.8;\n    return Math.max(1, Math.floor(Math.random() * (max - min + 1)) + min);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/combat/combat.service.ts","import {GameFeatureObject} from '../../../scene/game-feature-object';\nimport {TileObjectBehavior} from '../../../../game/pow2/tile/tile-object-behavior';\nimport {\n  Component,\n  Input,\n  AfterViewInit,\n  OnDestroy,\n  ViewChildren,\n  QueryList,\n  ChangeDetectionStrategy,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport {Observable, BehaviorSubject, Subscription, Subject, ReplaySubject} from 'rxjs';\nimport {GameWorld} from '../../../services/game-world';\nimport {Scene} from '../../../../game/pow2/scene/scene';\nimport {TiledTMXResource} from '../../../../game/pow-core/resources/tiled/tiled-tmx.resource';\nimport {ITiledObject} from '../../../../game/pow-core/resources/tiled/tiled.model';\nimport {TileObject} from '../../../../game/pow2/tile/tile-object';\nimport {getGameKey} from '../../../models/selectors';\nimport {AppState} from '../../../app.model';\nimport {Store} from '@ngrx/store';\n\n/**\n * An enumeration of the serialized names used to refer to map feature map from within a TMX file\n */\nexport type TiledMapFeatureTypes = 'PortalFeatureComponent'\n  | 'CombatFeatureComponent'\n  | 'ShipFeatureComponent'\n  | 'TreasureFeatureComponent'\n  | 'DialogFeatureComponent'\n  | 'StoreFeatureComponent'\n  | 'TempleFeatureComponent';\n\nexport type TiledMapFeatureData = ITiledObject;\n\nexport class TiledFeatureComponent extends TileObjectBehavior {\n  host: GameFeatureObject;\n\n  /**\n   * Write-only feature input.\n   */\n  set feature(value: TiledMapFeatureData) {\n    this._feature$.next(value);\n  }\n\n  protected _feature$: BehaviorSubject<TiledMapFeatureData> = new BehaviorSubject(null);\n\n  /**\n   * Observable of feature data.\n   */\n  feature$: Observable<TiledMapFeatureData> = this._feature$;\n\n  get properties(): any {\n    return this._feature$.value ? (this._feature$.value.properties || {}) : {};\n  }\n\n  protected assertFeature() {\n    if (!this._feature$.value || !this.properties) {\n      throw new Error('feature lacks valid data or properties');\n    }\n  }\n\n  private _active$ = new BehaviorSubject<boolean>(false);\n  active$: Observable<boolean> = this._active$;\n\n  @Input()\n  set active(value: boolean) {\n    this._active$.next(value);\n  }\n\n  enter(object: TileObject): boolean {\n    this.assertFeature();\n    this.active = true;\n    return true;\n  }\n\n  exit(object: TileObject): boolean {\n    this.assertFeature();\n    this.active = false;\n    return true;\n  }\n}\n\n/**\n * A component that defines the functionality of a map feature.\n */\n@Component({\n  selector: 'map-feature',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: require('./map-feature.component.html')\n})\nexport class MapFeatureComponent extends TileObjectBehavior implements AfterViewInit, OnDestroy {\n  @Input() set feature(value: TiledMapFeatureData) {\n    this._feature$.next(value);\n  }\n\n  @Input() tiledMap: TiledTMXResource;\n\n  get feature(): TiledMapFeatureData {\n    return this._feature$.value;\n  }\n\n  @Input() scene: Scene;\n\n  @ViewChildren('comp') featureQuery: QueryList<TiledFeatureComponent>;\n\n  @Output() onClose: EventEmitter<TiledFeatureComponent> = new EventEmitter();\n\n  private _featureComponent$: Subject<TiledFeatureComponent> = new ReplaySubject<TiledFeatureComponent>(1);\n\n  private _feature$: BehaviorSubject<TiledMapFeatureData> = new BehaviorSubject<TiledMapFeatureData>(null);\n\n  feature$: Observable<TiledMapFeatureData> = this._feature$;\n\n  type$: Observable<TiledMapFeatureTypes> = this.feature$.map((f) => f.type);\n\n  gameFeatureObject$: Observable<GameFeatureObject> = this.feature$\n    .combineLatest(this._featureComponent$, (data: TiledMapFeatureData, component: TiledFeatureComponent) => {\n      if (!data || !this.tiledMap) {\n        return null;\n      }\n      const options = Object.assign({}, data.properties || {}, {\n        type: data.type,\n        x: Math.round(data.x / this.tiledMap.tilewidth),\n        y: Math.round(data.y / this.tiledMap.tileheight)\n      });\n      const result = new GameFeatureObject(options);\n      result.addBehavior(component);\n      return result;\n    });\n\n  host: GameFeatureObject;\n\n  /**\n   * Observable of whether this feature is hidden/inactive by its unique ID\n   */\n  enabled$: Observable<boolean> = this._feature$\n    .switchMap((f: TiledMapFeatureData) => {\n      // If there's no unique ID it can't be disabled\n      if (!f || !f.properties || !f.properties.id) {\n        return Observable.of(undefined);\n      }\n      // Select just the\n      return this.store.select(getGameKey(f.properties.id));\n    })\n    .map((data) => data !== true);\n\n  constructor(public store: Store<AppState>) {\n    super();\n  }\n\n  toString() {\n    const featureData = this._feature$.value;\n    if (featureData) {\n      return `[TiledTMXFeature] (name:${featureData.name}) (id:${featureData.properties.id})`;\n    }\n    return super.toString();\n  }\n\n  private _hostSubscription: Subscription;\n\n  ngAfterViewInit(): void {\n    if (this.featureQuery.length > 0) {\n      this._featureComponent$.next(this.featureQuery.first);\n    }\n    this._hostSubscription = this.gameFeatureObject$.do((featureObject: GameFeatureObject) => {\n      this.disconnectHost();\n      this.host = featureObject;\n      GameWorld.get().mark(this.host);\n      this.scene.addObject(this.host);\n    }).subscribe();\n  }\n\n  private disconnectHost() {\n    if (this.host) {\n      if (this.scene) {\n        this.scene.removeObject(this.host);\n      }\n      GameWorld.get().erase(this.host);\n      this.host.destroy();\n      this.host = null;\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this._hostSubscription) {\n      this._hostSubscription.unsubscribe();\n      this._hostSubscription = null;\n    }\n    this.disconnectHost();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/map-feature.component.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {ISceneObject, ISceneView, IScene} from './scene.model';\nimport {IWorld, IWorldObject} from '../../pow-core/world';\nimport {SceneSpatialDatabase} from './scene-spatial-database';\nimport {IProcessObject} from '../../pow-core/time';\nimport {Events} from '../../pow-core/events';\nimport {IBehavior} from '../../pow-core/behavior';\nimport {GameWorld} from '../../../app/services/game-world';\n\nexport class Scene extends Events implements IScene, IProcessObject, IWorldObject {\n  private static sceneCount: number = 0;\n  id: string = `scene-${Scene.sceneCount++}`;\n  name: string;\n  db: SceneSpatialDatabase = new SceneSpatialDatabase();\n  options: any = {};\n  private _objects: ISceneObject[] = [];\n  private _views: ISceneView[] = [];\n  world: GameWorld = null;\n  fps: number = 0;\n  time: number = 0;\n  paused: boolean = false;\n\n  constructor(options: any = {}) {\n    super();\n    this.options = _.defaults(options || {}, {\n      debugRender: false\n    });\n  }\n\n  destroy() {\n    let i;\n    if (this.world) {\n      this.world.erase(this);\n    }\n    let l: number = this._objects.length;\n    for (i = 0; i < l; i++) {\n      this.removeObject(this._objects[i], true);\n    }\n    l = this._views.length;\n    for (i = 0; i < l; i++) {\n      this.removeView(this._views[i]);\n    }\n    this.paused = true;\n  }\n\n  // IWorldObject\n  // -----------------------------------------------------------------------------\n  onAddToWorld(world: IWorld) {\n    world.time.addObject(this);\n  }\n\n  onRemoveFromWorld(world: IWorld) {\n    world.time.removeObject(this);\n  }\n\n  // IProcessObject\n  // -----------------------------------------------------------------------------\n  tick(elapsed: number) {\n    if (this.paused) {\n      return;\n    }\n    let l: number = this._objects.length;\n    for (let i = 0; i < l; i++) {\n      if (this._objects[i]) {\n        this._objects[i].tick(elapsed);\n      }\n    }\n  }\n\n  processFrame(elapsed: number) {\n    let i;\n    if (this.paused) {\n      return;\n    }\n    this.time = this.world.time.time;\n    // Interpolate objects.\n    let l: number = this._objects.length;\n    for (i = 0; i < l; i++) {\n      const o: any = this._objects[i];\n      if (o.interpolateTick) {\n        o.interpolateTick(elapsed);\n      }\n    }\n    // Render frame.\n    l = this._views.length;\n    for (i = 0; i < l; i++) {\n      this._views[i].render(elapsed);\n    }\n    // Update FPS\n    const currFPS: number = elapsed ? 1000 / elapsed : 0;\n    this.fps += (currFPS - this.fps) / 10;\n  }\n\n  // Object add/remove helpers.\n  // -----------------------------------------------------------------------------\n  removeIt(property: string, object: any): boolean {\n    // Debugging Aid:\n    // console.info(`Scene (${this.id}) - ${object._uid} = ${object}`);\n    let removed: boolean = false;\n    this[property] = _.filter(this[property], (obj: any) => {\n      if (object && obj && obj._uid === object._uid) {\n        this.db.removeSpatialObject(obj);\n        if (obj.onRemoveFromScene) {\n          obj.onRemoveFromScene(this);\n        }\n        if (this.world) {\n          this.world.erase(obj);\n        }\n        delete obj.scene;\n        removed = true;\n        return false;\n      }\n      else if (!obj) {\n        return false;\n      }\n      return true;\n    });\n    return removed;\n  }\n\n  addIt(property: string, object: any): boolean {\n    // Debugging Aid:\n    // console.info(`Scene (${this.id}) + ${object._uid} = ${object}`);\n\n    // Remove object from any scene it might already be in.\n    if (object.scene) {\n      object.scene.removeIt(property, object);\n    }\n\n    // Check that we're not adding this twice (though, I suspect the above\n    // should make that pretty unlikely)\n    if (_.where(this[property], {_uid: object._uid}).length > 0) {\n      throw new Error('Object added to scene twice');\n    }\n    this[property].push(object);\n    // Mark it in the scene's world.\n    if (this.world) {\n      this.world.mark(object);\n    }\n    // Add to the scene's spatial database\n    this.db.addSpatialObject(object);\n\n    // Mark it in this scene, and trigger the onAdd\n    object.scene = this;\n    if (object.onAddToScene) {\n      object.onAddToScene(this);\n    }\n    return true;\n  }\n\n  findIt(property: string, object: any): any {\n    return _.where(this[property], {_uid: object._uid});\n  }\n\n  // View management\n  // -----------------------------------------------------------------------------\n\n  addView(view: ISceneView): boolean {\n    return this.addIt('_views', view);\n  }\n\n  removeView(view: ISceneView): boolean {\n    return this.removeIt('_views', view);\n  }\n\n  findView(view): boolean {\n    return !!this.findIt('_views', view);\n  }\n\n  getViewOfType<T>(type: any): T {\n    return _.find(this._views, (v: any) => {\n      return v instanceof type;\n    }) as T;\n  }\n\n  // SceneObject management\n  // -----------------------------------------------------------------------------\n  addObject(object: ISceneObject): boolean {\n    return this.addIt('_objects', object);\n  }\n\n  removeObject(object: ISceneObject, destroy?: boolean): boolean {\n    destroy = typeof destroy === 'undefined' ? true : !!destroy;\n    const o: any = object;\n    const removed: boolean = this.removeIt('_objects', object);\n    if (o && destroy && o.destroy) {\n      o.destroy();\n    }\n    return removed;\n  }\n\n  findObject(object: ISceneObject): boolean {\n    return !!this.findIt('_objects', object);\n  }\n\n  componentByType(type): IBehavior {\n    const values: any[] = this._objects;\n    let l: number = this._objects.length;\n    for (let i = 0; i < l; i++) {\n      const o: ISceneObject = values[i];\n      const c: IBehavior = o.findBehavior(type);\n      if (c) {\n        return c;\n      }\n    }\n    return null;\n  }\n\n  componentsByType(type): IBehavior[] {\n    const values: any[] = this._objects;\n    let l: number = this._objects.length;\n    let results: IBehavior[] = [];\n    for (let i = 0; i < l; i++) {\n      const o: ISceneObject = values[i];\n      const c: IBehavior[] = o.findBehaviors(type);\n      if (c) {\n        results = results.concat(c);\n      }\n    }\n    return results;\n  }\n\n  objectsByName(name: string): ISceneObject[] {\n    const values: any[] = this._objects;\n    let l: number = this._objects.length;\n    const results: ISceneObject[] = [];\n    for (let i = 0; i < l; i++) {\n      const o: ISceneObject = values[i];\n      if (o.name === name) {\n        results.push(o);\n      }\n    }\n    return results;\n  }\n\n  objectByName(name: string): ISceneObject {\n    const values: any[] = this._objects;\n    let l: number = this._objects.length;\n    for (let i = 0; i < l; i++) {\n      const o: ISceneObject = values[i];\n      if (o.name === name) {\n        return o;\n      }\n    }\n    return null;\n  }\n\n  objectsByType(type): ISceneObject[] {\n    const values: any[] = this._objects;\n    let l: number = this._objects.length;\n    let results: ISceneObject[] = [];\n    for (let i = 0; i < l; i++) {\n      const o: ISceneObject = values[i];\n      if (o instanceof type) {\n        results.push(o);\n      }\n    }\n    return results;\n  }\n\n  objectByType(type): ISceneObject {\n    let values: any[] = this._objects;\n    let l: number = this._objects.length;\n    for (let i = 0; i < l; i++) {\n      const o: ISceneObject = values[i];\n      if (o instanceof type) {\n        return o;\n      }\n    }\n    return null;\n  }\n\n  objectsByComponent(type): ISceneObject[] {\n    let values: any[] = this._objects;\n    let l: number = this._objects.length;\n    const results: ISceneObject[] = [];\n    for (let i = 0; i < l; i++) {\n      const o: ISceneObject = values[i];\n      if (o.findBehavior(type)) {\n        results.push(o);\n      }\n    }\n    return results;\n  }\n\n  objectByComponent(type): ISceneObject {\n    const values: any[] = this._objects;\n    const l: number = this._objects.length;\n    for (let i = 0; i < l; i++) {\n      const o: ISceneObject = values[i];\n      if (o.findBehavior(type)) {\n        return o;\n      }\n    }\n    return null;\n  }\n\n  toString() {\n    return this.constructor.name ? `${this.constructor.name} (${this.id})` : this.id;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/scene.ts","module.exports = (__webpack_require__(2))(126);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/BehaviorSubject.js from dll-reference vendor_lib\n// module id = 24\n// module chunks = 0","module.exports = (__webpack_require__(2))(75);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/@angular/common/@angular/common.es5.js from dll-reference vendor_lib\n// module id = 25\n// module chunks = 0","module.exports = (__webpack_require__(2))(0);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/Observable.js from dll-reference vendor_lib\n// module id = 26\n// module chunks = 0","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {State} from '../../../../game/pow2/core/state';\n\n/**\n * CombatMachineState is set when the player transitions in to a combat\n * encounter.  This can be any type of triggered encounter, from\n * the map or a feature interaction, or anything else.\n */\nexport class CombatMachineState extends State {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/combat-base.state.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {ItemModel} from '../../game/rpg/models/itemModel';\nimport {GameStateMachine} from '../../game/rpg/states/gameStateMachine';\nimport {ResourceManager} from '../../game/pow-core/resource-manager';\nimport {Injectable} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {GameStateLoadAction, GameStateNewAction, GameStateTravelAction} from '../models/game-state/game-state.actions';\nimport {AppState} from '../app.model';\nimport {GameState} from '../models/game-state/game-state.model';\nimport * as _ from 'underscore';\nimport {Entity, EntityType} from '../models/entity/entity.model';\nimport {EntityAddBeingAction} from '../models/entity/entity.actions';\nimport {GameStateService} from '../models/game-state/game-state.service';\n\nimport * as Immutable from 'immutable';\n\n@Injectable()\nexport class RPGGame {\n  constructor(public loader: ResourceManager,\n              private store: Store<AppState>) {\n  }\n\n  static getHPForLevel(level: number, model: Entity): number {\n    return Math.floor(model.basedefense * Math.pow(level, 1.1)) + (model.basedefense * 2);\n  }\n\n  static create(type: EntityType, name: string) {\n    const HERO_DEFAULTS: Partial<Entity> = {\n      eid: 'invalid-hero',\n      type,\n      name,\n      level: 1,\n      exp: 0,\n      baseattack: 0,\n      basespeed: 0,\n      basemagic: 0,\n      basedefense: 0\n    };\n    let character: Entity = null;\n    switch (type) {\n      case 'warrior':\n        character = _.extend({}, HERO_DEFAULTS, {\n          eid: 'warrior-123',\n          icon: 'warrior-male.png',\n          baseattack: 10,\n          basespeed: 2,\n          basemagic: 1,\n          basedefense: 7\n        });\n        break;\n      case 'healer':\n        character = _.extend({}, HERO_DEFAULTS, {\n          eid: 'lifemage-123',\n          icon: 'magician-female.png',\n          baseattack: 1,\n          basespeed: 6,\n          basemagic: 9,\n          basedefense: 4\n        });\n        break;\n      case 'ranger':\n        character = _.extend({}, HERO_DEFAULTS, {\n          eid: 'ranger-123',\n          icon: 'ranger-female.png',\n          baseattack: 3,\n          basespeed: 10,\n          basemagic: 2,\n          basedefense: 5,\n        });\n        break;\n      case 'mage':\n        character = _.extend({}, HERO_DEFAULTS, {\n          eid: 'deathmage-123',\n          icon: 'magician-male.png',\n          baseattack: 2,\n          basespeed: 10,\n          basemagic: 4,\n          basedefense: 4,\n        });\n        break;\n      default:\n        throw new Error('Unknown character class: ' + type);\n    }\n    const hp = RPGGame.getHPForLevel(1, character);\n    character = _.extend(character, {\n      maxhp: hp,\n      hp,\n      defense: character.basedefense,\n      speed: character.basespeed,\n      attack: character.baseattack,\n      magic: character.basemagic,\n    });\n    return character;\n  }\n\n  /**\n   * Initialize the game and resolve a promise that indicates whether the game\n   * is new or was loaded from save data.  Resolves with true if the game is new.\n   */\n  initGame(load: boolean = !!localStorage.getItem(GameStateService.STATE_KEY)): Promise<boolean> {\n    return new Promise<boolean>((resolve, reject) => {\n      if (load) {\n        // Set the root game state\n        this.store.dispatch(new GameStateLoadAction());\n        resolve(false);\n      }\n      else {\n        const warrior = RPGGame.create('warrior', 'Warrior');\n        const ranger = RPGGame.create('ranger', 'Ranger');\n        const healer = RPGGame.create('healer', 'Mage');\n        const initialState: GameState = {\n          party: Immutable.List<string>([warrior.eid, ranger.eid, healer.eid]),\n          inventory: Immutable.List<string>(),\n          battleCounter: 0,\n          keyData: Immutable.Map<string, any>(),\n          gold: 200,\n          combatZone: '',\n          location: 'town',\n          position: {x: 12, y: 8},\n          shipPosition: {x: 0, y: 0}\n        };\n        this.store.dispatch(new GameStateNewAction(initialState));\n        this.store.dispatch(new EntityAddBeingAction(warrior));\n        this.store.dispatch(new EntityAddBeingAction(ranger));\n        this.store.dispatch(new EntityAddBeingAction(healer));\n        this.store.dispatch(new GameStateTravelAction(initialState));\n        resolve(true);\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/services/rpg-game.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\n/**\n * Constant strings for use in throwing Error with messages.  Used to\n * make checking thrown errors doable without an explosion of Error subclasses.\n */\nexport const errors = {\n  /**\n   * An invalid combination of arguments was given to a function\n   */\n  INVALID_ARGUMENTS: 'invalid arguments',\n\n  /**\n   * A division by zero would have occurred\n   */\n  DIVIDE_ZERO: 'divide by zero operation',\n\n  /**\n   * Something called on a base class that doesn't implement the desired functionality\n   */\n  CLASS_NOT_IMPLEMENTED: 'must be implemented in a subclass',\n\n  /**\n   * The operation is not supported by the implementation.\n   */\n  UNSUPPORTED_OPERATION: 'this operation is unsupported by the implementation',\n\n  REQUIRED_ARGUMENT: 'argument must be valid',\n\n  ALREADY_EXISTS: 'already exists and would overwrite existing value',\n\n  /**\n   * A specified index is out of the valid range for an array it applies to.\n   */\n  INDEX_OUT_OF_RANGE: 'index out of range',\n\n  /**\n   * An item is not of the expected type or value.\n   */\n  INVALID_ITEM: 'invalid item type or value',\n\n  /**\n   * A component failed to register.\n   */\n  COMPONENT_REGISTER_FAIL: 'component failed to register with host entity'\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/errors.ts","import {Action} from '@ngrx/store';\nimport {type} from '../util';\nimport {Combatant, CombatAttack, CombatEncounter, CombatType} from './combat.model';\nimport {Entity} from '../entity/entity.model';\nimport {Item} from '../item';\n\nexport interface CombatVictorySummary {\n  /** The encounter ID */\n  id: string;\n  /** The type of encounter */\n  type: CombatType;\n  /** The array of party members that survived the combat encounter */\n  party: Entity[];\n  /** The list of enemies that were in the encounter */\n  enemies: Combatant[];\n  /** Party members that leveled up */\n  levels: Entity[];\n  /** Items collected during combat */\n  items?: Item[];\n  /** Items collected during combat */\n  gold: number;\n  /** Total experience from the encounter */\n  exp: number;\n}\n\n//\n// Fixed Encounter Actions\n//\n\nexport class CombatEncounterAction implements Action {\n  static typeId: 'COMBAT_ENCOUNTER' = type('COMBAT_ENCOUNTER');\n  type = CombatEncounterAction.typeId;\n\n  constructor(public payload: CombatEncounter) {\n  }\n}\n\nexport class CombatEncounterErrorAction implements Action {\n  static typeId: 'COMBAT_ENCOUNTER_ERROR' = type('COMBAT_ENCOUNTER_ERROR');\n  type = CombatEncounterErrorAction.typeId;\n\n  constructor(public payload: CombatEncounter) {\n  }\n}\n\nexport class CombatEncounterReadyAction implements Action {\n  static typeId: 'COMBAT_ENCOUNTER_READY' = type('COMBAT_ENCOUNTER_READY');\n  readonly type = CombatEncounterReadyAction.typeId;\n\n  constructor(public payload: CombatEncounter) {\n  }\n}\n\n//\n// Attack Actions\n//\n\nexport class CombatAttackAction implements Action {\n  static typeId: 'COMBAT_ATTACK' = type('COMBAT_ATTACK');\n  readonly type = CombatAttackAction.typeId;\n\n  constructor(public payload: CombatAttack) {\n  }\n}\n\n/** Async event that notifies the user of combat victory and updates the game-state party tree. */\nexport class CombatVictoryAction implements Action {\n  static typeId: 'COMBAT_VICTORY' = type('COMBAT_VICTORY');\n  readonly type = CombatVictoryAction.typeId;\n\n  constructor(public payload: CombatVictorySummary) {\n  }\n}\n\n/** Dispatched after UI animation side-effects are complete */\nexport class CombatVictoryCompleteAction implements Action {\n  static typeId: 'COMBAT_VICTORY_DONE' = type('COMBAT_VICTORY_DONE');\n  type = CombatVictoryCompleteAction.typeId;\n\n  constructor(public payload: CombatVictorySummary) {\n  }\n}\n\nexport type CombatActions\n  = CombatEncounterAction\n  | CombatEncounterReadyAction\n  | CombatAttackAction\n  | CombatVictoryAction\n  | CombatVictoryCompleteAction;\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/combat/combat.actions.ts","/**\n * The game data is defined in a shared Google Spreadsheet, to allow designers to easily tweak the\n * game without developer intervention. This file describes the data that is imported from the spreadsheet\n * grouped by \"tab\". If the spreadsheet format changes, this file must be updated.\n *\n * @fileOverview\n */\nimport {EntityType} from '../entity/entity.model';\nimport {BaseEntity, IHiddenAttributes} from '../base-entity';\nimport {newGuid} from '../util';\n\nexport type ItemCategories = 'item' | 'weapon' | 'armor';\n\nexport type ItemGroups = 'default' | 'rare' | 'magic';\n\nexport type ItemElements = 'holy' | 'water' | 'wind' | 'heal';\n\nexport type ItemArmorType = 'armor' | 'helm' | 'boots' | 'shield';\n\n/**\n * The Google Spreadsheet ID to load game data from.  This must be a published\n * google spreadsheet key.\n * @type {string} The google spreadsheet ID\n */\nexport const SPREADSHEET_ID: string = '1LXSRyupQanOYeZv-h7lgSwaAzB-TxwfDPFJyZqnaewc';\n\nexport interface ITemplateId {\n  /**\n   * The lowercase-hyphenated string id of the item. This can be used to look the id up in the table.\n   */\n  readonly id: string;\n}\n\nexport interface ITemplateBaseItem extends ITemplateId {\n  /** Each type specifies this */\n  readonly type: any;\n\n  /**\n   * The sprite icon name to use to render the item, e.g. \"shortSword.png\", \"bluePotion.png\".\n   * Note that the icon must exist in the game's sprites collection to be valid.\n   */\n  readonly icon: string;\n  /**\n   * The value of the object. This is used for buying/selling.\n   */\n  readonly value: number;\n  /**\n   * Human readable item name, e.g. \"Short Sword\"\n   */\n  readonly name: string;\n  /**\n   * The level of the weapon.\n   */\n  readonly level: number;\n  /**\n   * This object is only used by the given types of entities {@see EntityType}\n   */\n  readonly usedby?: EntityType[];\n  /**\n   * Any elements this item aligns with.\n   */\n  readonly elements?: ItemElements[];\n\n  /**\n   * Any logical groups of items this object matches, e.g. \"rare\", \"magic\"\n   */\n  readonly groups?: ItemGroups[];\n}\n\nexport interface ITemplateItem extends ITemplateBaseItem {\n  readonly type: 'item';\n}\n\nexport interface ITemplateWeapon extends ITemplateBaseItem {\n  readonly type: 'weapon';\n  /**\n   * The attack value for this weapon.\n   */\n  attack: number;\n}\nexport interface ITemplateArmor extends ITemplateBaseItem {\n  /**\n   * What part of the body does the armor apply to?\n   */\n  readonly type: ItemArmorType;\n\n  /**\n   * The defensive rating of this piece of armor.\n   */\n  readonly defense: number;\n}\n\nexport type MagicType = 'target' | 'all';\n\nexport interface ITemplateMagic extends ITemplateBaseItem {\n  readonly type: MagicType;\n\n  /**\n   * True if the magic benefits the target.\n   */\n  readonly benefit: boolean;\n\n  /**\n   * How much the magic benefits or harms the target.\n   */\n  readonly magnitude: number;\n}\n\nexport interface ITemplateClass extends ITemplateId, IHiddenAttributes {\n  /**\n   * Human readable class name, e.g. \"Warrior\" or \"Mage\"\n   */\n  readonly name: string;\n\n  /**\n   * The template string for the icon to render this class type with. It contains a token that must\n   * be replaced in order to be used. The format is \"classname-[gender].png\" where \"[gender]\" is replaced\n   * with \"female\" or \"male\".\n   */\n  readonly icon: string;\n}\n\nexport interface ITemplateEnemy extends ITemplateId, BaseEntity {\n  /** Current magic points */\n  readonly mp: number;\n  /** Current health points */\n  readonly hp: number;\n  /** Attack strength */\n  readonly attack: number;\n  /** Defense effectiveness */\n  readonly defense: number;\n  /** Magic strength */\n  readonly magic: number;\n  /** Agility/Dexterity */\n  readonly speed: number;\n}\n\n//\n// Combat\n//\n\n/**\n * A Combat encounter descriptor.  Used to describe the configuration of combat.\n */\nexport interface ITemplateEncounter extends ITemplateId {\n  readonly id: string; // unique id in spreadsheet\n  readonly enemies: string[]; // array of enemies in this encounter\n  readonly message: string[]; // message to display when combat begins\n}\n\n/**\n * A Fixed combat encounter.\n *\n * Fixed encounters are ones that happen when you interact with some fixed part\n * of the game map.\n */\nexport interface ITemplateFixedEncounter extends ITemplateEncounter {\n  readonly gold?: number;\n  readonly experience?: number;\n  readonly items?: string[];\n}\n/**\n * A Random combat encounter.\n *\n * Random encounters happen during movement about a map that has a `CombatEncounterComponent`\n * added to it.\n */\nexport interface ITemplateRandomEncounter extends ITemplateEncounter {\n  /**\n   * array of zones this encounter can happen in\n   */\n  readonly zones: string[];\n}\n\n/**\n * Instantiate an item from its template and assign it a unique eid value.\n * @param from The ITemplateId to stamp out a copy of\n * @param values Any optional values to assign to the instance during creation\n */\nexport function instantiateEntity<T extends ITemplateId>(from: any, values?: Partial<T>): T {\n  return Object.assign({\n    eid: entityId(from.id),\n  }, from, values || {}) as T;\n}\n\n/** Generate a UUID for a given input template ID that is unique across all instances of the same template base */\nexport function entityId(id: string): string {\n  return `${id}-${newGuid()}`;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-data/game-data.model.ts","import {AfterViewInit, Component, ElementRef, Input, OnDestroy, ViewChild} from '@angular/core';\nimport {IProcessObject} from '../../../game/pow-core/time';\nimport {NamedMouseElement, PowInput} from '../../../game/pow2/core/input';\nimport {RPGGame} from '../../services/rpg-game';\nimport {GameWorld} from '../../services/game-world';\nimport {NotificationService} from '../../components/notification/notification.service';\nimport {Point} from '../../../game/pow-core/point';\nimport {Scene} from '../../../game/pow2/scene/scene';\nimport {GameEntityObject} from '../../scene/game-entity-object';\nimport {SceneObject} from '../../../game/pow2/scene/scene-object';\nimport {ItemModel} from '../../../game/rpg/models/itemModel';\nimport {HeroModel} from '../../../game/rpg/models/heroModel';\nimport {TileMapView} from '../../../game/pow2/tile/tile-map-view';\nimport {UIAttachment} from './behaviors/choose-action.machine';\nimport {CombatRunSummary} from './states/combat-escape.state';\nimport {CombatDefeatSummary} from './states/combat-defeat.state';\nimport {LoadingService} from '../../components/loading/loading.service';\nimport {AppState} from '../../app.model';\nimport {Store} from '@ngrx/store';\nimport {CombatStateMachineComponent} from './states/combat.machine';\nimport {CombatMapComponent} from './combat-map.entity';\n\n/**\n * Describe a selectable menu item for a user input in combat.\n */\nexport interface ICombatMenuItem {\n  select(): any;\n  label: string;\n}\n\n/** Description of a combat entity attack */\nexport interface CombatAttackSummary {\n  damage: number;\n  attacker: GameEntityObject;\n  defender: GameEntityObject;\n}\n\n@Component({\n  selector: 'rpg-combat',\n  styles: [require('./combat.component.scss')],\n  template: require('./combat.component.html'),\n  host: {\n    '(window:resize)': '_onResize($event)',\n    '(click)': '_onClick($event)'\n  }\n})\n/**\n * Render and provide input for a combat encounter.\n */\nexport class CombatComponent extends TileMapView implements IProcessObject, OnDestroy, AfterViewInit {\n\n  combat: CombatComponent = this;\n\n  @Input() scene: Scene = new Scene();\n  /**\n   * A pointing UI element that can be attached to `SceneObject`s to attract attention\n   * @type {null}\n   */\n  pointer: UIAttachment = null;\n\n  /**\n   * Available menu items for selection.\n   */\n  @Input()\n  items: ICombatMenuItem[] = [];\n\n  /** The combat state machine */\n  @ViewChild(CombatStateMachineComponent) machine: CombatStateMachineComponent;\n\n  /**\n   * Damages displaying on screen.\n   * @type {Array}\n   */\n  @Input() damages: any[] = [];\n\n  /**\n   * Mouse hook for capturing input with world and screen coordinates.\n   */\n  mouse: NamedMouseElement = null;\n\n  @ViewChild('combatCanvas') canvasElementRef: ElementRef;\n  @ViewChild(CombatMapComponent) map: CombatMapComponent;\n\n  constructor(public game: RPGGame,\n              public notify: NotificationService,\n              public loadingService: LoadingService,\n              public store: Store<AppState>,\n              public world: GameWorld) {\n    super();\n    this.world.mark(this.scene);\n  }\n\n  ngOnDestroy(): void {\n    // TODO: Got everything here?\n    this.world.erase(this.scene);\n    this.world.time.removeObject(this);\n    this.scene.removeView(this);\n    this.pointer = null;\n    this.damages = [];\n  }\n\n  ngAfterViewInit(): void {\n    this.canvas = this.canvasElementRef.nativeElement;\n    if (this.camera) {\n      this.camera.point.zero();\n      this.camera.extent.set(25, 25);\n    }\n    this.scene.addView(this);\n    setTimeout(() => this._onResize(), 1);\n    // this._bindRenderCombat();\n    this.world.time.addObject(this);\n    this._bindRenderCombat();\n  }\n\n  //\n  // Events\n  //\n\n  onAddToScene(scene: Scene) {\n    super.onAddToScene(scene);\n    if (scene.world && scene.world.input) {\n      this.mouse = scene.world.input.mouseHook(this, 'combat');\n    }\n  }\n\n  onRemoveFromScene(scene: Scene) {\n    if (scene.world && scene.world.input) {\n      scene.world.input.mouseUnhook('combat');\n    }\n  }\n\n  //\n  // Time Processing\n  //\n  tick(elapsed: number) {\n    if (!this || !this.pointer || !this.pointer.object) {\n      return;\n    }\n    const targetPos: Point = new Point(this.pointer.object.point);\n    targetPos.y = (targetPos.y - this.camera.point.y) + this.pointer.offset.y;\n    targetPos.x = (targetPos.x - this.camera.point.x) + this.pointer.offset.x;\n    const screenPos: Point = this.worldToScreen(targetPos, this.cameraScale);\n    const el: HTMLElement = this.pointer.element.nativeElement;\n    el.style.left = `${screenPos.x}px`;\n    el.style.top = `${screenPos.y}px`;\n  }\n\n  /**\n   * Update the camera for this frame.\n   */\n  processCamera() {\n    this.cameraComponent = this.map.camera;\n    super.processCamera();\n  }\n\n  /**\n   * Render the tile map, and any features it has.\n   */\n  renderFrame(elapsed: number) {\n    this.clearRect();\n    this.map.renderFrame(this, elapsed);\n    return this;\n  }\n\n  //\n  // API\n  //\n\n  /**\n   * Apply damage visual effect to a SceneObject with a given value\n   * @param to The SceneObject to visually damage\n   * @param value The damage value (negative is considered healing, 0 is miss)\n   */\n  applyDamage(to: SceneObject, value: number) {\n    const targetPos: Point = new Point(to.point);\n    targetPos.y -= (this.camera.point.y + 1.25);\n    targetPos.x -= this.camera.point.x;\n    const screenPos: Point = this.worldToScreen(targetPos, this.cameraScale);\n    screenPos.add(this.canvasElementRef.nativeElement.offsetLeft, this.canvasElementRef.nativeElement.offsetTop);\n    this.damages.push({\n      timeout: new Date().getTime() + 5 * 1000,\n      value: Math.abs(value),\n      classes: {\n        miss: value === 0,\n        heal: value < 0\n      },\n      position: screenPos\n    });\n  }\n\n  /**\n   * Mouse input\n   */\n  _onClick(e: any) {\n    // console.log(\"clicked at \" + this.mouse.world);\n    const hits: GameEntityObject[] = [];\n    PowInput.mouseOnView(e, this, this.mouse);\n    if (this.scene.db.queryPoint(this.mouse.world, GameEntityObject, hits)) {\n      this.scene.trigger('click', this.mouse, hits);\n      e.stopImmediatePropagation();\n      return false;\n    }\n  }\n\n  /**\n   * Bind to combat events and reflect them in the UI.\n   * @private\n   */\n  private _bindRenderCombat() {\n    this.machine.on('combat:attack', (data: CombatAttackSummary) => {\n      const _done = this.machine.notifyWait();\n      let msg: string = '';\n      const a = data.attacker.model.name;\n      const b = data.defender.model.name;\n      if (data.damage > 0) {\n        msg = `${a} attacked ${b} for ${data.damage} damage!`;\n      }\n      else if (data.damage < 0) {\n        msg = `${a} healed ${b} for ${Math.abs(data.damage)} hit points`;\n      }\n      else {\n        msg = `${a} attacked ${b}, and MISSED!`;\n      }\n      this.applyDamage(data.defender, data.damage);\n      this.notify.show(msg, _done);\n    });\n    this.machine.on('combat:run', (data: CombatRunSummary) => {\n      const _done = this.machine.notifyWait();\n      let msg: string = data.player.model.name;\n      if (data.success) {\n        msg += ' bravely ran away!';\n      }\n      else {\n        msg += ' failed to escape!';\n      }\n      this.notify.show(msg, _done);\n    });\n    this.machine.on('combat:defeat', (data: CombatDefeatSummary) => {\n      const done = this.machine.notifyWait();\n      this.notify.show('Your entity was defeated...', () => {\n        this.game.initGame().then(done);\n      }, 0);\n    });\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/combat.component.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\n\nexport const NAME: string = 'core';\n\n/**\n * Specified root path.  Used when loading game asset files, to support cross-domain usage.\n */\nexport const GAME_ROOT: string = 'assets/';\n\nexport function getMapUrl(name: string): string {\n  return `${GAME_ROOT}maps/${name}.tmx`;\n}\n\nexport function getSoundEffectUrl(name: string, extension: string = 'wav'): string {\n  return `${GAME_ROOT}sounds/${name}.${extension}`;\n}\n\n/**\n * Metadata about a sprite in a given sprite sheet.\n */\nexport interface ISpriteMeta {\n  /** Pixel width */\n  readonly width: number;\n  /** Pixel height */\n  readonly height: number;\n  /** The number of frames the sprite has. */\n  readonly frames: number;\n  /** The spritesheet source map */\n  readonly source: string;\n  /** */\n  readonly index: number | null;\n  /** Pixel offset x in the sprite sheet. */\n  readonly x: number;\n  /** Pixel offset y in the sprite sheet. */\n  readonly y: number;\n  /** Optional frame width (defaults to 16px) */\n  readonly cellWidth: number;\n  /** Optional frame height (defaults to 16px) */\n  readonly cellHeight: number;\n}\n\nexport const data = {\n  sprites: {}\n};\n\n/**\n * Register a dictionary of sprite meta data.  This is for automatically\n * generated sprite sheets, and only defaults to setting information if\n * it has not already been set by a call to describeSprites.\n * @deprecated TODO: remove this by updating code to reference the data in ngrx/store\n */\nexport function registerSprites(name: string, value: Object) {\n  for (let prop in value) {\n    if (value.hasOwnProperty(prop)) {\n      data.sprites[prop] = _.defaults(data.sprites[prop] || {}, value[prop]);\n    }\n  }\n}\n\nexport function getSpriteMeta(name: string): ISpriteMeta {\n  return data.sprites[name] as ISpriteMeta;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/core/api.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {SceneObjectBehavior} from '../scene-object-behavior';\n/**\n * A behavior that receives tick and interpolateTick callbacks\n */\nexport class TickedBehavior extends SceneObjectBehavior {\n  tickRateMS: number = 300;\n\n  /**\n   * Update the component at a tick interval.\n   */\n  tick(elapsed: number) {\n    // nothing\n  }\n\n  /**\n   * Interpolate component state between ticks.\n   */\n  interpolateTick(elapsed: number) {\n    // nothing\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/behaviors/ticked-behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n// TODO: TileMap isn't getting added to Spatial DB properly.  Can't query for it!\n// Scene assuming something about the spatial properties on objects?\nimport * as _ from 'underscore';\nimport {TiledTSXResource} from '../../pow-core/resources/tiled/tiled-tsx.resource';\nimport {ITileInstanceMeta} from '../../pow-core/resources/tiled/tiled';\nimport {ITiledLayer} from '../../pow-core/resources/tiled/tiled.model';\nimport {SceneObject} from '../scene/scene-object';\nimport {TiledTMXResource} from '../../pow-core/resources/tiled/tiled-tmx.resource';\nimport {Rect} from '../../pow-core/rect';\nimport {Scene} from '../scene/scene';\n\nexport class TileMap extends SceneObject {\n  map: TiledTMXResource;\n  tiles: any = []; // TODO: TilesetProperties\n  scene: Scene;\n  features: any;\n  zones: any;\n  bounds: Rect = new Rect(0, 0, 10, 10);\n  dirtyLayers: boolean = false;\n  private _loaded: boolean = false;\n\n  static Events: any = {\n    LOADED: 'loaded',\n    UNLOADED: 'unloaded',\n    MAP_LOADED: 'map:loaded',\n    MAP_UNLOADED: 'map:unloaded'\n  };\n\n  isLoaded(): boolean {\n    return this._loaded;\n  }\n\n  loaded() {\n    this.trigger(TileMap.Events.LOADED, this);\n    if (this.scene) {\n      this.scene.trigger(TileMap.Events.MAP_LOADED, this);\n    }\n    this._loaded = true;\n  }\n\n  unloaded() {\n    this.trigger(TileMap.Events.UNLOADED, this);\n    if (this.scene) {\n      this.scene.trigger(TileMap.Events.MAP_UNLOADED, this);\n    }\n    this._loaded = false;\n  }\n\n  setMap(map: TiledTMXResource) {\n    if (!map /* || !map.isReady() */) {\n      return false;\n    }\n    if (this.map) {\n      this.unloaded();\n    }\n    this.map = map;\n    this.bounds = new Rect(0, 0, this.map.width, this.map.height);\n    const idSortedSets = _.sortBy(this.map.tilesets, (o: TiledTSXResource) => {\n      return o.firstgid;\n    });\n    this.tiles.length = 0;\n    _.each(idSortedSets, (tiles: TiledTSXResource) => {\n      while (this.tiles.length < tiles.firstgid) {\n        this.tiles.push(null);\n      }\n      this.tiles = this.tiles.concat(tiles.tiles);\n    });\n    this.features = _.where(this.map.layers, {name: 'Features'})[0] || [];\n    this.zones = _.where(this.map.layers, {name: 'Zones'})[0] || [];\n    this.loaded();\n    return true;\n  }\n\n  getLayers(): ITiledLayer[] {\n    return this.map ? this.map.layers : [];\n  }\n\n  getLayer(name: string): ITiledLayer {\n    return _.where(this.map.layers, {name})[0] as ITiledLayer;\n  }\n\n  getTerrain(layer: string, x: number, y: number) {\n    return this.getTileData(this.getLayer(layer), x, y);\n  }\n\n  getTileData(layer: ITiledLayer, x: number, y: number) {\n    if (!this.map || !layer || !layer.data || !this.bounds.pointInRect(x, y)) {\n      return null;\n    }\n    const terrainIndex = y * this.map.width + x;\n    const tileIndex = layer.data[terrainIndex];\n    return this.tiles[tileIndex];\n  }\n\n  getTileGid(layer: string, x: number, y: number): number {\n    const terrain: ITiledLayer = this.getLayer(layer);\n    if (!this.map || !terrain || !terrain.data || !this.bounds.pointInRect(x, y)) {\n      return null;\n    }\n    const terrainIndex = y * this.map.width + x;\n    return terrain.data[terrainIndex];\n  }\n\n  getTileMeta(gid: number): ITileInstanceMeta {\n    if (this.tiles.length <= gid) {\n      return null;\n    }\n    const source = _.find(this.map.tilesets, (t: TiledTSXResource) => {\n      return t.hasGid(gid);\n    });\n    if (!source) {\n      return null;\n    }\n    return source.getTileMeta(gid);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/tile/tile-map.ts","module.exports = (__webpack_require__(2))(472);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/map.js from dll-reference vendor_lib\n// module id = 38\n// module chunks = 0","import {Injectable} from '@angular/core';\nimport {Observable, ReplaySubject} from 'rxjs/Rx';\nimport {ResourceManager} from '../../../game/pow-core/resource-manager';\nimport {TiledTMXResource} from '../../../game/pow-core/resources/tiled/tiled-tmx.resource';\nimport {getMapUrl} from '../../../game/pow2/core/api';\nimport {AppState} from '../../app.model';\nimport {Store} from '@ngrx/store';\n\n@Injectable()\nexport class GameStateService {\n\n  constructor(private loader: ResourceManager,\n              private store: Store<AppState>) {\n  }\n\n  private _worldMap$ = new ReplaySubject<TiledTMXResource>(1);\n  worldMap$: Observable<TiledTMXResource> = this._worldMap$;\n\n  /**\n   * Load a Tiled TMX Map from a url\n   */\n  loadMap(name: string): Observable<TiledTMXResource> {\n    const mapUrl = getMapUrl(name);\n    return Observable.fromPromise(this.loader.load(mapUrl)\n      .then((maps: TiledTMXResource[]) => {\n        this._worldMap$.next(maps[0]);\n        return maps[0];\n      }));\n  }\n\n  static STATE_KEY: string = '_angular2PowRPGState';\n\n  resetGame(): Observable<void> {\n    return Observable.interval(10).take(1).map(() => {\n      localStorage.removeItem(GameStateService.STATE_KEY);\n    });\n  }\n\n  hasSaveGame(): boolean {\n    return !!localStorage.getItem(GameStateService.STATE_KEY);\n  }\n\n  load(): Observable<AppState> {\n    return Observable.interval(10).take(1).map(() => {\n      const data = JSON.parse(localStorage.getItem(GameStateService.STATE_KEY)) as AppState;\n      return data;\n    });\n  }\n\n  /**\n   * Serialize the application state for later loading\n   */\n  save(): Observable<AppState> {\n    return this.store\n      .take(1)\n      .map((state: AppState) => {\n        const jsonData: string = JSON.stringify(state);\n        localStorage.setItem(GameStateService.STATE_KEY, jsonData);\n        return state;\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-state/game-state.service.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {GameFeatureObject} from '../../../scene/game-feature-object';\nimport {BasePlayerComponent} from '../../../behaviors/base-player.behavior';\nimport {TileMap} from '../../../../game/pow2/tile/tile-map';\nimport {SceneObject} from '../../../../game/pow2/scene/scene-object';\nimport {IMoveDescription} from '../../../../game/pow2/scene/behaviors/movable-behavior';\nimport {GameStateMoveAction} from '../../../models/game-state/game-state.actions';\nimport {Component, EventEmitter, Output} from '@angular/core';\nimport {ITiledLayer} from '../../../../game/pow-core/resources/tiled/tiled.model';\n\n@Component({\n  selector: 'player-behavior',\n  template: `<ng-content></ng-content>`\n})\nexport class PlayerBehaviorComponent extends BasePlayerComponent {\n  host: GameEntityObject;\n  map: TileMap = null;\n\n  static COLLIDE_TYPES: string[] = [\n    'TempleFeatureComponent',\n    'StoreFeatureComponent',\n    'DialogFeatureComponent',\n    'CombatFeatureComponent',\n    'sign'\n  ];\n\n  /**\n   * Output when a move on the map is completed.\n   */\n  @Output() onCompleteMove = new EventEmitter<IMoveDescription>();\n\n  /**\n   * Collide with the rpg tile map features and obstacles.\n   */\n  collideMove(x: number, y: number, results: SceneObject[] = []) {\n    if (this.host.scene && !this.map) {\n      this.map = this.host.scene.objectByType(TileMap) as TileMap;\n    }\n    let i = 0;\n\n    const collision: boolean = this.collider && this.collider.collide(x, y, GameFeatureObject, results);\n    if (collision) {\n      for (i = 0; i < results.length; i++) {\n        const o = <GameFeatureObject> results[i];\n        if (o.passable === true || !o.type) {\n          return false;\n        }\n        if (_.indexOf(PlayerBehaviorComponent.COLLIDE_TYPES, o.type) !== -1) {\n          return true;\n        }\n      }\n    }\n    // Iterate over all layers of the map, check point(x,y) and see if the tile\n    // has any unpassable attributes set on it.  If any unpassable attributes are\n    // found, there is a collision.\n    if (this.map) {\n      const layers: ITiledLayer[] = this.map.getLayers();\n      for (i = 0; i < layers.length; i++) {\n        const terrain = this.map.getTileData(layers[i], x, y);\n        if (!terrain) {\n          continue;\n        }\n        for (let j = 0; j < this.passableKeys.length; j++) {\n          if (terrain[this.passableKeys[j]] === false) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Called when a complete tick of movement occurs.\n   * @param move The move that is now completed.\n   */\n  completeMove(move: IMoveDescription) {\n    // HACKS: Need an injection strategy for these behavior components.\n    this.host.world.store.dispatch(new GameStateMoveAction(move.to));\n    this.onCompleteMove.next(move);\n    super.completeMove(move);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/behaviors/player-behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {GameWorld} from '../services/game-world';\nimport {TileObject} from '../../game/pow2/tile/tile-object';\nimport {BaseEntity} from '../models/base-entity';\nimport {Entity} from '../models/entity/entity.model';\nimport {ITemplateMagic} from '../models/game-data/game-data.model';\n\nexport class GameEntityObject extends TileObject {\n  model: BaseEntity;\n  type = 'player';\n  groups: any;\n  world: GameWorld;\n\n  getSpells(): ITemplateMagic[] {\n    console.warn('no spell data available in GameEntityObject.getSpells');\n    const spells: any = [];\n    const caster = this.model as Entity;\n    const userLevel: number = caster.level;\n    const userClass: string = caster.type;\n    return _.filter(spells, (spell: ITemplateMagic) => {\n      return spell.level <= userLevel && _.indexOf(spell.usedby, userClass) !== -1;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/scene/game-entity-object.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {GameTileMap} from './game-tile-map';\nimport {GameWorld} from '../services/game-world';\nimport {TileObject} from '../../game/pow2/tile/tile-object';\n\nexport class GameFeatureObject extends TileObject {\n  tileMap: GameTileMap;\n  world: GameWorld;\n  feature: any; // TODO: Feature Interface\n  type: string; // TODO: enum?\n  passable: boolean;\n  groups: any[];\n  category: any;\n  frame: number;\n\n  constructor(options: any) {\n    super();\n    _.extend(this, _.defaults({}, options));\n    this.feature = options;\n    this.point.x = options.x;\n    this.point.y = options.y;\n    this.frame = typeof options.frame !== 'undefined' ? options.frame : 0;\n    this.groups = typeof options.groups === 'string' ? options.groups.split('|') : options.groups;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/scene/game-feature-object.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {GameFeatureObject} from './game-feature-object';\nimport * as rpg from '../../game/rpg/game';\nimport {TileMap} from '../../game/pow2/tile/tile-map';\nimport {TileObject} from '../../game/pow2/tile/tile-object';\nimport {ITiledObject} from '../../game/pow-core/resources/tiled/tiled.model';\nimport {Point, IPoint} from '../../game/pow-core/point';\nimport {Rect} from '../../game/pow-core/rect';\nimport {SceneObjectBehavior} from '../../game/pow2/scene/scene-object-behavior';\nimport {SceneObject} from '../../game/pow2/scene/scene-object';\nimport {WORLD_MAP_FEATURES} from '../routes/world/map/features/index';\nimport {IZoneMatch} from '../models/combat/combat.model';\n\n/**\n * A tile map that supports game feature objects and map.\n */\nexport class GameTileMap extends TileMap {\n\n  musicUrl: string;\n\n  loaded() {\n    super.loaded();\n    this.musicUrl = '';\n    if (this.map.properties && this.map.properties.music) {\n      this.musicUrl = this.map.properties.music;\n    }\n    this.buildFeatures();\n  }\n\n  destroy() {\n    this.unloaded();\n    return super.destroy();\n  }\n\n  unloaded() {\n    this.removeFeaturesFromScene();\n    super.unloaded();\n  }\n\n  getFeature(name: string) {\n    return _.find(this.features.objects, (feature: any) => {\n      return feature.name === name;\n    });\n  }\n\n  getEntryPoint(): Point {\n    // If no point is specified, use the position of the first Portal on the current map\n    const portal: any = _.where(this.features.objects, {type: 'PortalFeatureComponent'})[0];\n    if (portal) {\n      return new Point(portal.x / portal.width, portal.y / portal.height);\n    }\n    return new Point(-1, -1);\n  }\n\n  // Construct\n  addFeaturesToScene() {\n    // _.each(this.features.objects, (obj: any) => {\n    //   obj._object = this.createFeatureObject(obj);\n    //   if (obj._object) {\n    //     this.scene.addObject(obj._object);\n    //   }\n    // });\n  }\n\n  removeFeaturesFromScene() {\n    _.each(this.features.objects, (obj: any) => {\n      const featureObject: SceneObject = <SceneObject> obj._object;\n      delete obj._object;\n      if (featureObject) {\n        featureObject.destroy();\n      }\n    });\n  }\n\n  buildFeatures(): boolean {\n    // this.removeFeaturesFromScene();\n    // if (this.scene) {\n    //   this.addFeaturesToScene();\n    // }\n    return true;\n  }\n\n  createFeatureObject(tiledObject: ITiledObject): TileObject {\n    const options = _.extend({}, tiledObject.properties || {}, {\n      tileMap: this,\n      type: tiledObject.type,\n      x: Math.round(tiledObject.x / this.map.tilewidth),\n      y: Math.round(tiledObject.y / this.map.tileheight)\n    });\n    const object = new GameFeatureObject(options);\n    if (this.scene && this.scene.world) {\n      this.scene.world.mark(object);\n    }\n    const componentType = _.find(WORLD_MAP_FEATURES, (constructor: any) => {\n      return constructor.name === tiledObject.type;\n    });\n    if (tiledObject.type && componentType) {\n      const component = new componentType() as SceneObjectBehavior;\n      if (!object.addBehavior(component)) {\n        throw new Error(`Component ${component.name} failed to connect to host ${this.name}`);\n      }\n    }\n    return object;\n  }\n\n  /**\n   * Enumerate the map and target combat zones for a given position on this map.\n   * @param at The position to check for a sub-zone in the map\n   * @returns {IZoneMatch} The map and target zones that are null if they don't exist\n   */\n  getCombatZones(at: IPoint): IZoneMatch {\n    const result: IZoneMatch = {\n      map: null,\n      target: null,\n      targetPoint: at\n    };\n    if (this.map && this.map.properties && this.map.properties) {\n      if (typeof this.map.properties.combatZone !== 'undefined') {\n        result.map = this.map.properties.combatZone;\n      }\n    }\n    // Determine which zone and combat type\n    const invTileSize = 1 / this.map.tilewidth;\n    const zones: any[] = _.map(this.zones.objects, (z: any) => {\n      const x = z.x * invTileSize;\n      const y = z.y * invTileSize;\n      const w = z.width * invTileSize;\n      const h = z.height * invTileSize;\n      return {\n        bounds: new Rect(x, y, w, h),\n        name: z.name\n      };\n    });\n    // TODO: This will always get the first zone.  What about overlapping zones?\n    const zone = _.find(zones, (z: any) => {\n      return z.bounds.pointInRect(at) && z.name;\n    });\n    if (zone) {\n      result.target = zone.name;\n    }\n    return result;\n  }\n\n  toString() {\n    return this.map ? this.map.url : 'no-data';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/scene/game-tile-map.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Animate} from './animate';\nimport {RPGGame} from './rpg-game';\nimport {GameWorld} from './game-world';\nimport {NgModule, ModuleWithProviders} from '@angular/core';\nimport {PowCoreModule} from '../../game/pow-core/index';\nimport {SpriteRender} from './sprite-render';\nimport {StoreModule} from '@ngrx/store';\nimport {EffectsModule} from '@ngrx/effects';\nimport {Visibility} from './visibility';\nimport {GameStateService} from '../models/game-state/game-state.service';\nimport {CombatService} from '../models/combat/combat.service';\nimport {NotificationService} from '../components/notification/notification.service';\nimport {GameDataService} from '../models/game-data/game-data.service';\nimport {SpritesService} from '../models/sprites/sprites.service';\nexport * from './animate';\nexport * from '../components/notification/notification.service';\nexport * from './rpg-game';\n\nexport const SERVICE_PROVIDERS = [\n  Animate,\n  RPGGame,\n  GameWorld,\n  SpriteRender,\n  Visibility,\n  NotificationService,\n  CombatService,\n  SpritesService,\n  GameDataService,\n  GameStateService\n];\n\n@NgModule({\n  providers: SERVICE_PROVIDERS,\n  imports: [PowCoreModule, StoreModule, EffectsModule]\n})\nexport class ServicesModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: ServicesModule,\n      providers: SERVICE_PROVIDERS\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/services/index.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {errors} from './errors';\n\nexport interface IResource {\n  url: string;\n  data: any;\n  extension: string;\n  fetch(url?: string): Promise<IResource>;\n  load(data?: any): Promise<IResource>;\n}\n\n/**\n * Promise based resource loading class. Loads from given URL or data.\n */\nexport class Resource implements IResource {\n  extension: string;\n\n  constructor(public url: string = null,\n              public data: any = null) {\n  }\n\n  load(data?: any): Promise<Resource> {\n    return Promise.reject(errors.CLASS_NOT_IMPLEMENTED);\n  }\n\n  fetch(url?: string): Promise<Resource> {\n    return Promise.reject(errors.CLASS_NOT_IMPLEMENTED);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/resource.ts","module.exports = (__webpack_require__(2))(462);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/filter.js from dll-reference vendor_lib\n// module id = 50\n// module chunks = 0","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {SceneObjectBehavior} from './scene-object-behavior';\nimport {BehaviorHost} from '../../pow-core/behavior-host';\nimport {Scene} from './scene';\nimport {IPoint, Point} from '../../pow-core/point';\n/**\n * An object that may exist in a `Scene` and receives time updates.\n */\nexport class SceneObject extends BehaviorHost {\n  private static objectCount: number = 0;\n  _uid: string = `scene-object-${SceneObject.objectCount++}`;\n  scene: Scene;\n  enabled: boolean;\n  // The object point\n  point: IPoint;\n  size: IPoint;\n  // The render point that is interpolated between ticks.\n  renderPoint: IPoint;\n\n  constructor(options?: any) {\n    super();\n    _.extend(this, _.defaults(options || {}), {\n      point: new Point(0, 0),\n      size: new Point(1, 1),\n      enabled: true\n    });\n  }\n\n  // Tick map.\n  tick(elapsed: number) {\n    if (!this.enabled) {\n      return;\n    }\n    const values: any[] = this._connectedBehaviors;\n    const l: number = this._connectedBehaviors.length;\n    for (let i = 0; i < l; i++) {\n      if (!values[i]) {\n        throw new Error('Component deleted during tick, use _.defer to delay removal until the callstack unwinds');\n      }\n      if (values[i].tick) {\n        values[i].tick(elapsed);\n      }\n    }\n  }\n\n  // Interpolate map.\n  interpolateTick(elapsed: number) {\n    if (!this.enabled) {\n      return;\n    }\n    const values: any[] = this._connectedBehaviors;\n    const l: number = this._connectedBehaviors.length;\n    for (let i = 0; i < l; i++) {\n      if (!values[i]) {\n        throw new Error('Component deleted during interpolateTick, delay removal until the callstack unwinds');\n      }\n      if (values[i].interpolateTick) {\n        values[i].interpolateTick(elapsed);\n      }\n    }\n  }\n\n  destroy() {\n    _.each(this._connectedBehaviors, (o: SceneObjectBehavior) => {\n      o.disconnectBehavior();\n    });\n    this._connectedBehaviors.length = 0;\n    if (this.scene) {\n      this.scene.removeObject(this, false);\n    }\n  }\n\n  onAddToScene(scene: Scene) {\n    this.syncBehaviors();\n  }\n\n  addComponentDictionary(components: any, silent?: boolean): boolean {\n    let failed: SceneObjectBehavior = null;\n    _.each(components, (comp: SceneObjectBehavior, key: string) => {\n      if (failed) {\n        return;\n      }\n      if (!this.addBehavior(comp, true)) {\n        failed = comp;\n      }\n    });\n    if (failed) {\n      console.log(`Failed to add component set to host. Component ${failed.toString()} failed to connect to host.`);\n    }\n    else {\n      this.syncBehaviors();\n    }\n    return !failed;\n  }\n\n  removeComponentDictionary(components: any, silent?: boolean): boolean {\n    const previousCount: number = this._connectedBehaviors.length;\n    const removeIds: string[] = _.map(components, (value: SceneObjectBehavior) => {\n      return value.id;\n    });\n    this._connectedBehaviors = _.filter(this._connectedBehaviors, (obj: SceneObjectBehavior) => {\n      if (_.indexOf(removeIds, obj.id) !== -1) {\n        if (obj.disconnectBehavior() === false) {\n          return true;\n        }\n        obj.host = null;\n        return false;\n      }\n      return true;\n    });\n    const change: boolean = this._connectedBehaviors.length === previousCount;\n    if (change && silent !== true) {\n      this.syncBehaviors();\n    }\n    return change;\n  }\n\n  // Debugging\n  // -----------------------------------------------------------------------------\n  toString(): string {\n    const ctor: any = this.constructor;\n    let name: string = this.name;\n    if (ctor && ctor.name !== 'Function') {\n      name = ctor.name || (this.toString().match(/function (.+?)\\(/) || [, ''])[1];\n    }\n    _.each(this._connectedBehaviors, (comp: SceneObjectBehavior) => {\n      name += ', ' + comp;\n    });\n    return name;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/scene-object.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {SceneObjectBehavior} from '../../scene/scene-object-behavior';\nimport {TileObject} from '../tile-object';\nimport {ImageResource} from '../../../pow-core/resources/image.resource';\nimport {ISpriteMeta} from '../../core/api';\n\nexport interface SpriteComponentOptions {\n  icon: string;\n  image?: HTMLImageElement;\n  name?: string;\n  frame?: number;\n  meta?: ISpriteMeta;\n}\n\nexport class SpriteComponent extends SceneObjectBehavior {\n  host: TileObject;\n  image: HTMLImageElement;\n  visible: boolean;\n  enabled: boolean;\n\n  // Game Sprite support.\n  // ----------------------------------------------------------------------\n  // The sprite name, e.g. \"entity.png\" or \"knight.png\"\n  icon: string;\n  // The sprite sheet source information\n  meta: ISpriteMeta;\n  // The sprite frame (if applicable)\n  frame: number = 0;\n\n  get scale(): number {\n    return this.host ? this.host.scale : 1;\n  }\n\n  constructor(options?: SpriteComponentOptions) {\n    super();\n    if (typeof options !== 'undefined') {\n      _.extend(this, options);\n    }\n  }\n\n  syncBehavior(): boolean {\n    if (this.host.world) {\n      this.setSprite(this.icon, this.frame);\n    }\n    return super.syncBehavior();\n  }\n\n  /**\n   * Set the current sprite name.  Returns the previous sprite name.\n   */\n  setSprite(name: string, frame: number = 0): Promise<string> {\n    return new Promise<string>((resolve, reject) => {\n      if (name === this.icon && this.image && this.meta) {\n        return resolve(this.icon);\n      }\n      this.icon = name;\n      if (!name) {\n        this.meta = null;\n        return resolve(null);\n      }\n      this.meta = this.host.world.sprites.getSpriteMeta(name);\n      this.host.world.sprites.getSpriteSheet(this.meta.source)\n        .then((images: ImageResource[]) => {\n          this.image = images[0].data;\n          this.frame = frame;\n          resolve(this.icon);\n        })\n        .catch(reject);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/tile/behaviors/sprite.behavior.ts","module.exports = (__webpack_require__(2))(206);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/@angular/router/@angular/router.es5.js from dll-reference vendor_lib\n// module id = 53\n// module chunks = 0","module.exports = (__webpack_require__(2))(62);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/@angular/platform-browser/@angular/platform-browser.es5.js from dll-reference vendor_lib\n// module id = 54\n// module chunks = 0","import {type} from '../util';\nimport {Action} from '@ngrx/store';\nimport {BaseEntity} from '../base-entity';\nimport {Item} from '../item';\n\nexport class EntityAddBeingAction implements Action {\n  static typeId: 'ENTITY_ADD_BEING' = type('ENTITY_ADD_BEING');\n  readonly type = EntityAddBeingAction.typeId;\n\n  constructor(public payload: BaseEntity) {\n\n  }\n}\nexport class EntityRemoveBeingAction implements Action {\n  static typeId: 'ENTITY_REMOVE_BEING' = type('ENTITY_REMOVE_BEING');\n  type = EntityRemoveBeingAction.typeId;\n  payload: string;\n\n  constructor(entityId: string) {\n    this.payload = entityId;\n  }\n}\n\nexport class EntityAddItemAction implements Action {\n  static typeId: 'ENTITY_ADD_ITEM' = type('ENTITY_ADD_ITEM');\n  type = EntityAddItemAction.typeId;\n\n  constructor(public payload: Item) {\n\n  }\n}\n\nexport class EntityRemoveItemAction implements Action {\n  static typeId: 'ENTITY_REMOVE_ITEM' = type('ENTITY_REMOVE_ITEM');\n  type = EntityRemoveItemAction.typeId;\n\n  payload: string;\n\n  constructor(entityId: string) {\n    this.payload = entityId;\n  }\n}\n\nexport type EntityActions = EntityAddBeingAction |\n  EntityRemoveBeingAction |\n  EntityAddItemAction |\n  EntityRemoveItemAction;\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/entity/entity.actions.ts","import {type} from '../util';\nimport {Action} from '@ngrx/store';\n\nexport interface IGameDataAddPayload {\n  sheet: string;\n  data: any[];\n}\n\n/**\n * Fetch game data from the given Google Spreadsheet URL.\n *\n * @note The spreadsheet must be published and publicly accessible.\n */\nexport class GameDataFetchAction implements Action {\n  static typeId: 'GAME_DATA_FETCH' = type('GAME_DATA_FETCH');\n  type = GameDataFetchAction.typeId;\n\n  payload: string;\n\n  constructor(googleSpreadsheetId: string) {\n    this.payload = googleSpreadsheetId;\n  }\n}\nexport class GameDataFetchSuccessAction implements Action {\n  static typeId: 'GAME_DATA_FETCH_SUCCESS' = type('GAME_DATA_FETCH_SUCCESS');\n  type = GameDataFetchSuccessAction.typeId;\n  constructor(public payload: string) {\n  }\n}\nexport class GameDataFetchFailAction implements Action {\n  static typeId: 'GAME_DATA_FETCH_FAIL' = type('GAME_DATA_FETCH_FAIL');\n  type = GameDataFetchFailAction.typeId;\n  constructor(public payload: string) {\n  }\n}\n\nexport class GameDataAddSheetAction implements Action {\n  static typeId: 'DATA_ADD_SHEET' = type('DATA_ADD_SHEET');\n  type = GameDataAddSheetAction.typeId;\n\n  payload: IGameDataAddPayload;\n\n  constructor(sheet: string, data: any[]) {\n    this.payload = {sheet, data};\n  }\n}\nexport class GameDataRemoveSheetAction implements Action {\n  static typeId: 'DATA_REMOVE_SHEET' = type('DATA_REMOVE_SHEET');\n  type = GameDataRemoveSheetAction.typeId;\n  payload: string;\n\n  constructor(sheetId: string) {\n    this.payload = sheetId;\n  }\n}\n\nexport type GameDataActionClasses\n  = GameDataAddSheetAction\n  | GameDataRemoveSheetAction\n  | GameDataFetchAction\n  | GameDataFetchSuccessAction\n  | GameDataFetchFailAction;\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-data/game-data.actions.ts","import {Action} from '@ngrx/store';\nimport {type} from '../util';\nimport {SpriteDataMap} from './sprites.model';\n\nexport class SpritesRegisterAction implements Action {\n  static typeId: 'SPRITE_REGISTER_MAP' = type('SPRITE_REGISTER_MAP');\n  type = SpritesRegisterAction.typeId;\n\n  constructor(public payload: SpriteDataMap) {\n  }\n}\n\nexport class SpritesLoadAction implements Action {\n  static typeId: 'SPRITES_LOAD' = type('SPRITES_LOAD');\n  type = SpritesLoadAction.typeId;\n\n  payload: string;\n\n  constructor(indexMetadataUrl: string) {\n    this.payload = indexMetadataUrl;\n  }\n}\n\nexport class SpritesLoadSuccessAction implements Action {\n  static typeId: 'SPRITES_LOAD_SUCCESS' = type('SPRITES_LOAD_SUCCESS');\n  type = SpritesLoadSuccessAction.typeId;\n  payload: string;\n  constructor(indexMetadataUrl: string) {\n    this.payload = indexMetadataUrl;\n  }\n}\n\nexport class SpritesLoadFailAction implements Action {\n  static typeId: 'SPRITES_LOAD_FAIL' = type('SPRITES_LOAD_FAIL');\n  type = SpritesLoadFailAction.typeId;\n  payload: string;\n  constructor(indexMetadataUrl: string) {\n    this.payload = indexMetadataUrl;\n  }\n}\n\nexport type SpriteActions\n  = SpritesRegisterAction\n  | SpritesLoadAction\n  | SpritesLoadSuccessAction\n  | SpritesLoadFailAction;\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/sprites/sprites.actions.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {Component} from '@angular/core';\nimport {CombatMachineState} from './combat-base.state';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {CombatStateMachineComponent, IPlayerAction} from './combat.machine';\nimport {CombatAttackBehaviorComponent} from '../behaviors/actions/combat-attack.behavior';\nimport {CombatService} from '../../../models/combat/combat.service';\n\n// Combat Begin\n@Component({\n  selector: 'combat-begin-turn-state',\n  template: `\n    <ng-content></ng-content>`\n})\nexport class CombatBeginTurnStateComponent extends CombatMachineState {\n  static NAME: string = 'Combat Begin Turn';\n  name: string = CombatBeginTurnStateComponent.NAME;\n  current: GameEntityObject; // Used to restore scale on exit.\n  machine: CombatStateMachineComponent;\n\n  constructor(private combatService: CombatService) {\n    super();\n  }\n\n  enter(machine: CombatStateMachineComponent) {\n    super.enter(machine);\n    this.machine = machine;\n    machine.currentDone = false;\n    machine.current.scale = 1.25;\n    this.current = machine.current;\n\n    if (machine.current && machine.isFriendlyTurn()) {\n      machine.focus = machine.current;\n    }\n\n    machine.trigger('combat:beginTurn', machine.current);\n    let choice: IPlayerAction = null;\n    if (machine.isFriendlyTurn()) {\n      console.log(`TURN: ${machine.current.model.name}`);\n      choice = machine.playerChoices[machine.current._uid];\n    }\n    else {\n      choice = machine.current.findBehavior(CombatAttackBehaviorComponent) as CombatAttackBehaviorComponent;\n      // TODO: This config should not be here.   Just pick a random person to attack.\n      if (choice) {\n        choice.to = machine.getRandomPartyMember();\n        choice.from = machine.current;\n      }\n    }\n    if (!choice) {\n      throw new Error('Invalid Combat Action Choice. This should not happen.');\n    }\n    if (choice.to && this.combatService.isDefeated(choice.to.model)) {\n      choice.to = machine.getRandomEnemy();\n    }\n    _.defer(() => {\n      choice.act((act: IPlayerAction, error?: any) => {\n        if (error) {\n          console.error(error);\n        }\n      });\n    });\n  }\n\n  exit(machine: CombatStateMachineComponent) {\n    this.current.scale = 1;\n    super.exit(machine);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/combat-begin-turn.state.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {\n  Component,\n  Input,\n  ElementRef,\n  ViewChild,\n  Renderer,\n  AfterViewInit,\n  OnDestroy,\n  Inject,\n  forwardRef\n} from '@angular/core';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {CombatMachineState} from './combat-base.state';\nimport {CombatStateMachineComponent} from './combat.machine';\nimport {CombatBeginTurnStateComponent} from './combat-begin-turn.state';\nimport {CombatActionBehavior} from '../behaviors/combat-action.behavior';\nimport {ChooseActionType, ChooseActionStateMachine} from '../behaviors/choose-action.machine';\nimport {Point} from '../../../../game/pow-core/point';\nimport {Observable, BehaviorSubject, Subscription} from 'rxjs';\nimport {CombatComponent} from '../combat.component';\n\nexport interface IChooseActionEvent {\n  players: GameEntityObject[];\n  enemies: GameEntityObject[];\n  choose: (action: CombatActionBehavior) => any;\n}\n\n/**\n * Describe a selectable menu item for a user input in combat.\n */\nexport interface ICombatMenuItem {\n  select(): any;\n  label: string;\n}\n\n/**\n * Choose actions for all characters in the player-card.\n */\n@Component({\n  selector: 'combat-choose-action-state',\n  styles: [require('./combat-choose-action.state.scss')],\n  template: `<ul *ngIf=\"items.length > 0\" class=\"ebp action-menu\">\n  <li *ngFor=\"let item of items\" (click)=\"item.select()\" [innerText]=\"item.label\"></li>\n</ul>\n<span #combatPointer\n      class=\"point-to-player\"\n      [class.hidden]=\"!pointAt\"\n      [style.left]=\"(pointerPosition$ | async)?.x + 'px'\"\n      [style.top]=\"(pointerPosition$ | async)?.y + 'px'\"\n></span>\n<ng-content></ng-content>`\n})\nexport class CombatChooseActionStateComponent extends CombatMachineState implements AfterViewInit, OnDestroy {\n  static NAME: string = 'Combat Choose Actions';\n  name: string = CombatChooseActionStateComponent.NAME;\n  pending: GameEntityObject[] = [];\n  machine: CombatStateMachineComponent = null;\n\n  @ViewChild('combatPointer') pointerElementRef: ElementRef;\n  /**\n   * Available menu items for selection.\n   */\n  @Input() items: ICombatMenuItem[] = [];\n\n  @Input()\n  pointAt: GameEntityObject = null;\n\n  pointOffset: Point = new Point();\n  private _pointerPosition$ = new BehaviorSubject(new Point());\n\n  /** The screen translated pointer position */\n  pointerPosition$: Observable<Point> = this._pointerPosition$.distinctUntilChanged();\n\n  private _timerSubscription: Subscription;\n\n  constructor(private renderer: Renderer,\n              @Inject(forwardRef(() => CombatComponent)) private combat: CombatComponent) {\n    super();\n  }\n\n  ngAfterViewInit(): void {\n    // Every n milliseconds, update the pointer to track the current target\n    this._timerSubscription = Observable.interval(50).do(() => {\n      if (!this.pointAt || !this.combat) {\n        return;\n      }\n      const targetPos: Point = new Point(this.pointAt.point);\n      targetPos.y = (targetPos.y - this.combat.camera.point.y) + this.pointOffset.y;\n      targetPos.x = (targetPos.x - this.combat.camera.point.x) + this.pointOffset.x;\n      const screenPos: Point = this.combat.worldToScreen(targetPos, this.combat.cameraScale);\n      this._pointerPosition$.next(screenPos);\n    }).subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this._timerSubscription.unsubscribe();\n  }\n\n  enter(machine: CombatStateMachineComponent) {\n    super.enter(machine);\n    if (!machine.scene) {\n      throw new Error('Invalid Combat Scene');\n    }\n    this.machine = machine;\n\n    const combatants: GameEntityObject[] = [...machine.getLiveParty(), ...machine.getLiveEnemies()];\n    machine.turnList = _.shuffle<GameEntityObject>(combatants);\n    machine.current = machine.turnList.shift();\n    machine.currentDone = true;\n\n    this.pending = machine.getLiveParty();\n    machine.playerChoices = {};\n\n    // Trigger an event with a list of GameEntityObject player-card members to\n    // choose an action for.   Provide a callback function that may be\n    // invoked while handling the event to trigger status on the choosing\n    // of moves.  Once data.choose(g,a) has been called for all player-card members\n    // the state will transition to begin execution of player and enemy turns.\n    const chooseData: IChooseActionEvent = {\n      choose: (action: CombatActionBehavior) => {\n        machine.playerChoices[action.from._uid] = action;\n        this.pending = _.filter(this.pending, (p: GameEntityObject) => {\n          return action.from._uid !== p._uid;\n        });\n        console.log(`${action.from.model.name} chose ${action.getActionName()}`);\n        if (this.pending.length === 0) {\n          machine.setCurrentState(CombatBeginTurnStateComponent.NAME);\n        }\n      },\n      players: this.pending,\n      enemies: machine.getLiveEnemies()\n    };\n\n    const choices: GameEntityObject[] = chooseData.players.slice();\n    let inputState;\n\n    const next = () => {\n      const p: GameEntityObject = choices.shift();\n      if (!p) {\n        return;\n      }\n      inputState.current = p;\n      inputState.setCurrentState(ChooseActionType.NAME);\n    };\n    const chooseSubmit = (action: CombatActionBehavior) => {\n      inputState.data.choose(action);\n      next();\n    };\n    inputState = new ChooseActionStateMachine(this, machine.scene, chooseData, chooseSubmit);\n    next();\n\n  }\n\n  exit(machine: CombatStateMachineComponent) {\n    this.machine = null;\n    return super.exit(machine);\n  }\n\n  setPointerTarget(object: GameEntityObject, directionClass: string = 'right', offset: Point = new Point()) {\n    const pointer: HTMLElement = this.pointerElementRef.nativeElement;\n    this.renderer.setElementClass(pointer, 'left', false);\n    this.renderer.setElementClass(pointer, 'right', false);\n    this.renderer.setElementClass(pointer, directionClass, true);\n    this.pointAt = object;\n    this.pointOffset = offset;\n  }\n\n  addPointerClass(clazz: string) {\n    this.renderer.setElementClass(this.pointerElementRef.nativeElement, clazz, true);\n  }\n\n  removePointerClass(clazz: string) {\n    this.renderer.setElementClass(this.pointerElementRef.nativeElement, clazz, false);\n  }\n\n  hidePointer() {\n    this.renderer.setElementClass(this.pointerElementRef.nativeElement, 'hidden', true);\n  }\n\n  showPointer() {\n    this.renderer.setElementClass(this.pointerElementRef.nativeElement, 'hidden', false);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/combat-choose-action.state.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {CombatMachineState} from './combat-base.state';\nimport {CombatStateMachineComponent} from './combat.machine';\nimport {CombatBeginTurnStateComponent} from './combat-begin-turn.state';\nimport {CombatChooseActionStateComponent} from './combat-choose-action.state';\nimport {CombatDefeatStateComponent} from './combat-defeat.state';\nimport {CombatVictoryStateComponent} from './combat-victory.state';\nimport {Component} from '@angular/core';\nimport {CombatService} from '../../../models/combat/combat.service';\n\n@Component({\n  selector: 'combat-end-turn-state',\n  template: `\n    <ng-content></ng-content>`\n})\nexport class CombatEndTurnStateComponent extends CombatMachineState {\n  static NAME: string = 'Combat End Turn';\n  name: string = CombatEndTurnStateComponent.NAME;\n\n  constructor(private combatService: CombatService) {\n    super();\n  }\n\n  enter(machine: CombatStateMachineComponent) {\n    super.enter(machine);\n    machine.current = null;\n    // Find the next turn.\n    while (machine.turnList.length > 0 && !machine.current) {\n      machine.current = machine.turnList.shift();\n      // Strip out defeated players.\n      if (machine.current && this.combatService.isDefeated(machine.current.model)) {\n        machine.current = null;\n      }\n    }\n\n    let targetState: string = machine.current ?\n      CombatBeginTurnStateComponent.NAME :\n      CombatChooseActionStateComponent.NAME;\n    if (machine.partyDefeated()) {\n      targetState = CombatDefeatStateComponent.NAME;\n    }\n    else if (machine.enemiesDefeated()) {\n      targetState = CombatVictoryStateComponent.NAME;\n    }\n    if (!targetState) {\n      throw new Error('Invalid transition from end turn');\n    }\n    machine.setCurrentState(targetState);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/combat-end-turn.state.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\n// This file will go away once existing classes are moved off of event emitters. Until then, ignore its lint.\n/* tslint:disable */\n\nexport interface IEvents {\n  on(name: any, callback?: Function, context?: any): IEvents;\n  off(name?: string, callback?: Function, context?: any): IEvents;\n  once(events: string, callback: Function, context?: any): IEvents;\n  trigger(name: string, ...args: any[]): IEvents;\n}\n// Events class based Backbone.js\n//     Backbone.js 1.1.2\n//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n// Backbone.Events\n// ---------------\n// A module that can be mixed in to *any object* in order to provide it with\n// custom events. You may bind with `on` or remove with `off` callback\n// functions to an event; `trigger`-ing an event fires all callbacks in\n// succession.\n//\n//     var object = {};\n//     _.extend(object, Backbone.Events);\n//     object.on('expand', function(){ alert('expanded'); });\n//     object.trigger('expand');\n//\nimport * as _ from 'underscore';\n\n\nexport class Events implements IEvents {\n\n  private _events: any;\n\n  // Bind an event to a `callback` function. Passing `\"all\"` will bind\n  // the callback to all events fired.\n  on(name: any, callback?: Function, context?: any): IEvents {\n    if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n    this._events || (this._events = {});\n    var events = this._events[name] || (this._events[name] = []);\n    events.push({callback: callback, context: context, ctx: context || this});\n    return this;\n  }\n\n  // Bind an event to only be triggered a single time. After the first time\n  // the callback is invoked, it will be removed.\n  once(name: any, callback?: Function, context?: any): IEvents {\n    if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n    var self = this;\n    var once: any = _.once(function () {\n      self.off(name, once);\n      callback.apply(this, arguments);\n    });\n    once._callback = callback;\n    return this.on(name, once, context);\n  }\n\n  // Remove one or many callbacks. If `context` is null, removes all\n  // callbacks with that function. If `callback` is null, removes all\n  // callbacks for the event. If `name` is null, removes all bound\n  // callbacks for all events.\n  off(name?: any, callback?: Function, context?: any): IEvents {\n    var retain, ev, events, names, i, l, j, k;\n    if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n    if (!name && !callback && !context) {\n      this._events = void 0;\n      return this;\n    }\n    names = name ? [name] : _.keys(this._events);\n    for (i = 0, l = names.length; i < l; i++) {\n      name = names[i];\n      if (events = this._events[name]) {\n        this._events[name] = retain = [];\n        if (callback || context) {\n          for (j = 0, k = events.length; j < k; j++) {\n            ev = events[j];\n            if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n              (context && context !== ev.context)) {\n              retain.push(ev);\n            }\n          }\n        }\n        if (!retain.length) delete this._events[name];\n      }\n    }\n\n    return this;\n  }\n\n  // Trigger one or many events, firing all bound callbacks. Callbacks are\n  // passed the same arguments as `trigger` is, apart from the event name\n  // (unless you're listening on `\"all\"`, which will cause your callback to\n  // receive the true name of the event as the first argument).\n  trigger(name: string, ...args: any[]): IEvents {\n    if (!this._events) return this;\n    var args: any[] = Array.prototype.slice.call(arguments, 1);\n    if (!eventsApi(this, 'trigger', name, args)) return this;\n    var events = this._events[name];\n    var allEvents = this._events.all;\n    if (events) triggerEvents(events, args);\n    if (allEvents) triggerEvents(allEvents, arguments);\n    return this;\n  }\n}\n\n// Regular expression used to split event strings.\nvar eventSplitter = /\\s+/;\n\n// Implement fancy features of the Events API such as multiple event\n// names `\"change blur\"` and jQuery-style event maps `{change: action}`\n// in terms of the existing API.\nvar eventsApi = function (obj, action, name, rest) {\n  if (!name) return true;\n\n  // Handle event maps.\n  if (typeof name === 'object') {\n    for (var key in name) {\n      obj[action].apply(obj, [key, name[key]].concat(rest));\n    }\n    return false;\n  }\n\n  // Handle space separated event names.\n  if (eventSplitter.test(name)) {\n    var names = name.split(eventSplitter);\n    for (var i = 0, l = names.length; i < l; i++) {\n      obj[action].apply(obj, [names[i]].concat(rest));\n    }\n    return false;\n  }\n\n  return true;\n};\n\n// A difficult-to-believe, but optimized internal dispatch function for\n// triggering events. Tries to keep the usual cases speedy (most internal\n// Backbone events have 3 arguments).\nvar triggerEvents = function (events, args) {\n  var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n  switch (args.length) {\n    case 0:\n      while (++i < l) (ev = events[i]).callback.call(ev.ctx);\n      return;\n    case 1:\n      while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1);\n      return;\n    case 2:\n      while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2);\n      return;\n    case 3:\n      while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);\n      return;\n    default:\n      while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n      return;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/events.ts","import {NgModule, ModuleWithProviders} from '@angular/core';\nimport {ResourceManager} from './resource-manager';\nimport {HttpModule} from '@angular/http';\nimport {CommonModule} from '@angular/common';\n\nexport * from './behavior';\nexport * from './behavior-host';\nexport * from './errors';\nexport * from './point';\nexport * from './rect';\nexport * from './resource';\nexport * from './resource-manager';\nexport * from './time';\nexport * from './world';\nexport * from './resources/audio.resource';\nexport * from './resources/image.resource';\nexport * from './resources/json.resource';\nexport * from './resources/xml.resource';\nexport * from './resources/tiled/tiled';\nexport * from './resources/tiled/tiled-tmx.resource';\nexport * from './resources/tiled/tiled-tsx.resource';\n\nexport const POW_CORE_PROVIDERS = [\n  ResourceManager\n];\n\n@NgModule({\n  providers: POW_CORE_PROVIDERS,\n  imports: [\n    HttpModule,\n    CommonModule\n  ]\n})\nexport class PowCoreModule {\n\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: PowCoreModule,\n      providers: POW_CORE_PROVIDERS\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/index.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Resource} from '../resource';\nimport * as _ from 'underscore';\nimport * as $ from 'jquery';\n\n/**\n * Use jQuery to load an XML file from a URL.\n */\nexport class XMLResource extends Resource {\n  data: any; // JQuery object\n\n  fetch(url: string): Promise<XMLResource> {\n    this.url = url || this.url;\n    return new Promise<XMLResource>((resolve, reject) => {\n      const request: any = $.get(this.url); // JQueryXHR\n      request.done((object: XMLDocument) => {\n        this.data = $(object);\n        this.load(this.data).then(resolve).catch(reject);\n      });\n      request.fail((jqxhr, settings, exception) => {\n        reject(exception);\n      });\n    });\n\n  }\n\n  /**\n   * Load from a given piece of data.\n   */\n  load(data: any): Promise<XMLResource> {\n    return Promise.resolve<XMLResource>(this);\n  }\n\n  getRootNode(tag: string) {\n    if (!this.data) {\n      return null;\n    }\n    return $(_.find(this.data, (d: any) => {\n      return d.tagName && d.tagName.toLowerCase() === tag;\n    }));\n  }\n\n  getChildren<T>(el: any, tag: string): T[] {\n    const list = el.find(tag);\n    return _.compact(_.map(list, (c) => {\n      const child: any = $(c);\n      return (child.parent()[0] !== el[0] ? null : child) as T;\n    }));\n  }\n\n  getChild<T>(el: any, tag: string): T {\n    return this.getChildren(el, tag)[0] as T;\n  }\n\n  getElAttribute(el: any, name: string) {\n    if (el) {\n      const attr = el.attr(name);\n      if (attr) {\n        return attr;\n      }\n    }\n    return null;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/resources/xml.resource.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {SceneView} from '../scene/scene-view';\nimport {Point} from '../../pow-core/point';\nimport {IWorld, IWorldObject} from '../../pow-core/world';\n\nexport enum KeyCode {\n  UP = 38,\n  DOWN = 40,\n  LEFT = 37,\n  RIGHT = 39,\n  BACKSPACE = 8,\n  COMMA = 188,\n  DELETE = 46,\n  END = 35,\n  ENTER = 13,\n  ESCAPE = 27,\n  HOME = 36,\n  SPACE = 32,\n  TAB = 9\n}\n\nexport interface CanvasMouseCoords {\n  point: Point; // Point on the canvas in pixels.\n  world: Point; // Point in the world, accounting for camera scale and offset.\n}\n\nexport interface NamedMouseElement extends CanvasMouseCoords {\n  name: string;\n  view: SceneView;\n}\n\nexport class PowInput implements IWorldObject {\n  world: IWorld;\n  _keysDown: Object = {};\n  _mouseElements: NamedMouseElement[] = [];\n\n  static mouseOnView(ev: MouseEvent, view: SceneView, coords?: CanvasMouseCoords) {\n    const relativeElement: any = ev.srcElement;\n    const touches: any = (<any> ev).touches;\n    if (touches && touches.length > 0) {\n      ev = <any> touches[0];\n    }\n    const result: CanvasMouseCoords = coords || {\n        point: new Point(),\n        world: new Point()\n      };\n    const canoffset = $(relativeElement).offset();\n    const x = ev.clientX + document.body.scrollLeft + document.documentElement.scrollLeft - Math.floor(canoffset.left);\n    const y = ev.clientY + document.body.scrollTop + document.documentElement.scrollTop - Math.floor(canoffset.top);\n    result.point.set(x, y);\n    // Generate world mouse position\n    const worldMouse = view.screenToWorld(result.point, view.cameraScale).add(view.camera.point).round();\n    result.world.set(worldMouse.x, worldMouse.y);\n    return result;\n  }\n\n  constructor() {\n    window.addEventListener('keydown', (ev: KeyboardEvent) => {\n      this._keysDown[ev.which] = true;\n    });\n    window.addEventListener('keyup', (ev: KeyboardEvent) => {\n      this._keysDown[ev.which] = false;\n    });\n    const hooks = this._mouseElements;\n    window.addEventListener('mousemove touchmove', (ev: MouseEvent) => {\n      let l: number = hooks.length;\n      for (let i = 0; i < l; i++) {\n        const hook: NamedMouseElement = hooks[i];\n        if (ev.srcElement === hook.view.canvas) {\n          PowInput.mouseOnView(ev, hook.view, hook);\n        }\n        else {\n          hook.point.set(-1, -1);\n          hook.world.set(-1, -1);\n        }\n      }\n    });\n  }\n\n  mouseHook(view: SceneView, name: string): NamedMouseElement {\n    const hooks = _.where(this._mouseElements, {name}) as NamedMouseElement[];\n    const result: NamedMouseElement = {\n      name,\n      view,\n      point: new Point(-1, -1),\n      world: new Point(-1, -1)\n    };\n    // Overwrite any existing hook with a conflicting name\n    if (hooks.length > 0) {\n      hooks[0] = result;\n    }\n    else {\n      this._mouseElements.push(result);\n    }\n    return result;\n  }\n\n  mouseUnhook(nameOrView: string | SceneView) {\n    this._mouseElements = _.filter(this._mouseElements, (hook: NamedMouseElement) => {\n      return nameOrView instanceof SceneView ? hook.view._uid === nameOrView._uid : hook.name === nameOrView;\n    });\n  }\n\n  getMouseHook(nameOrView: string | SceneView): NamedMouseElement {\n    return _.find(this._mouseElements, (hook: NamedMouseElement) => {\n      return nameOrView instanceof SceneView ? hook.view._uid === nameOrView._uid : hook.name === nameOrView;\n    }) as NamedMouseElement;\n  }\n\n  keyDown(key: number): boolean {\n    return !!this._keysDown[key];\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/core/input.ts","module.exports = (__webpack_require__(2))(204);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/@angular/http/@angular/http.es5.js from dll-reference vendor_lib\n// module id = 67\n// module chunks = 0","import * as _ from 'underscore';\nimport {Point} from '../../game/pow-core/point';\nimport {TickedBehavior} from '../../game/pow2/scene/behaviors/ticked-behavior';\nimport {TileObject} from '../../game/pow2/tile/tile-object';\nimport {Component} from '@angular/core';\n\nexport interface IAnimationConfig {\n  /**\n   * It may seem weird to require name, but it's to enforce\n   * a human-readable naming scheme for debugging win.\n   */\n  name: string;\n  /** The entire duration of this animation */\n  duration: number;\n  /** Optional number of times to the repeat frames during the duration of the animation. */\n  repeats?: number;\n  /** Optional frames to interpolate between (will use all frames if none are specified) */\n  frames?: any[];\n  /** Move translation */\n  move?: Point;\n\n  /** callback */\n  callback?: (config: IAnimationConfig) => void;\n}\n\nexport interface IAnimationTask extends IAnimationConfig {\n  elapsed?: number;\n  start?: any; // starting value\n  target?: any; // target value\n  value: any; // current value\n  complete?: boolean;\n  startFrame: number; // The starting frame to restore when the animation is complete.\n  done?: (config: IAnimationConfig) => void;\n\n}\n\n// Implementation\n// -------------------------------------------------------------------------\n@Component({\n  selector: 'animated-behavior',\n  template: '<ng-content></ng-content>'\n})\nexport class AnimatedBehaviorComponent extends TickedBehavior {\n  host: TileObject;\n\n  static EVENTS = {\n    Started: 'start',\n    Stopped: 'stop',\n    Repeated: 'repeat'\n  };\n  private _tasks: IAnimationTask[] = [];\n  private _animationKeys: any[] = [];\n  private _currentAnimation: any = null;\n\n  play(config: IAnimationConfig) {\n    const task: IAnimationTask = config as any;\n    task.elapsed = 0;\n    if (task.move) {\n      task.startFrame = this.host.frame;\n      task.start = new Point(this.host.point);\n      task.target = new Point(this.host.point).clone().add(task.move);\n      task.value = new Point(this.host.point);\n    }\n    if (typeof task.duration === 'undefined') {\n      task.duration = 0;\n    }\n    this._tasks.push(task);\n  }\n\n  stop(config: IAnimationConfig) {\n    for (let i = 0; i < this._tasks.length; i++) {\n      const task: IAnimationTask = this._tasks[i];\n      if (task.name === config.name) {\n        task.complete = true;\n      }\n    }\n  }\n\n  removeCompleteTasks() {\n    for (let i = 0; i < this._tasks.length; i++) {\n      const task: IAnimationTask = this._tasks[i];\n      if (task.complete === true) {\n        this._tasks.splice(i, 1);\n        if (task.done) {\n          task.done(task);\n        }\n        if (task.callback) {\n          task.callback(task);\n        }\n        // this.host.frame = task.startFrame;\n        this.trigger(AnimatedBehaviorComponent.EVENTS.Stopped, {\n          task,\n          component: this\n        });\n        i--;\n      }\n    }\n  }\n\n  interpolateTick(elapsed: number) {\n    super.interpolateTick(elapsed);\n    this.update(elapsed);\n    this.removeCompleteTasks();\n  }\n\n  update(elapsed: number) {\n    if (this._tasks.length === 0) {\n      return;\n    }\n    // Interp each task and fire events where necessary.\n    _.each(this._tasks, (task: IAnimationTask) => {\n      if (task.elapsed > task.duration) {\n        task.complete = true;\n        task.elapsed = task.duration;\n      }\n      if (task.duration > 0) {\n        const factor: number = task.elapsed / task.duration;\n        // Interp point\n        // console.log(\"Interp from \" + task.start + \" to \" + task.target );\n        if (task.move && task.move instanceof Point) {\n          const interpolated: Point = task.value.interpolate(task.start, task.target, factor);\n          this.host.point.x = interpolated.x;\n          this.host.point.y = interpolated.y;\n        }\n        if (task.frames && task.frames.length) {\n          const index = Math.round(this.interpolate(0, task.frames.length - 1, factor));\n          const frame = task.frames[index];\n          // console.log(\"Interp frame = \" + frame);\n          this.host.frame = frame;\n        }\n      }\n      if (!task.complete) {\n        task.elapsed += elapsed;\n      }\n    });\n  }\n\n  interpolate(from: number, to: number, factor: number): number {\n    factor = Math.min(Math.max(factor, 0), 1);\n    return (from * (1.0 - factor)) + (to * factor);\n  }\n\n  playChain(animations: IAnimationConfig[], cb: () => void) {\n    // Inject a 0 duration animation on the end of the list\n    // if a callback is desired.  This is a convenience for\n    // certain coding styles, and you could easily add your\n    // own animation as a callback before invoking this.\n    if (typeof cb !== 'undefined') {\n      animations.push({\n        name: 'Chain Callback',\n        duration: 0,\n        callback: cb\n      });\n    }\n    // TODO: Need a list of these for multiple animations on\n    // the same component. !!!!!!!!!!!!!!!!!!!!\n    this._animationKeys = animations;\n    this._animateNext();\n  }\n\n  private _animateNext() {\n    if (this._animationKeys.length === 0) {\n      return;\n    }\n    this._currentAnimation = this._animationKeys.shift();\n    this._currentAnimation.done = () => {\n      _.defer(() => {\n        this._animateNext();\n      });\n    };\n    this.play(this._currentAnimation);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/behaviors/animated.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {SceneObject} from '../../game/pow2/scene/scene-object';\nimport {SceneObjectBehavior} from '../../game/pow2/scene/scene-object-behavior';\nimport {Rect} from '../../game/pow-core/rect';\nimport {Component} from '@angular/core';\n\n@Component({\n  selector: 'collision-behavior',\n  template: `<ng-content></ng-content>`\n})\nexport class CollisionBehaviorComponent extends SceneObjectBehavior {\n  collideBox: Rect = new Rect(0, 0, 1, 1);\n  resultsArray: any[] = [];\n\n  collide(x: number, y: number, type: Function = SceneObject, results = []): boolean {\n    if (!this.host || !this.host.scene) {\n      return false;\n    }\n    this.collideBox.point.x = x;\n    this.collideBox.point.y = y;\n    return this.host.scene.db.queryRect(this.collideBox, type, results);\n  }\n\n  collideFirst(x: number, y: number, type: Function = SceneObject): SceneObject {\n    if (!this.host || !this.host.scene) {\n      return null;\n    }\n    this.collideBox.point.x = x;\n    this.collideBox.point.y = y;\n    this.resultsArray.length = 0;\n    const hit: boolean = this.host.scene.db.queryRect(this.collideBox, type, this.resultsArray);\n    return hit ? this.resultsArray[0] : null;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/behaviors/collision.behavior.ts","import {NgModule, ModuleWithProviders} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {AnimatedBehaviorComponent} from './animated.behavior';\nimport {CollisionBehaviorComponent} from './collision.behavior';\nimport {SpriteRenderBehaviorComponent} from './sprite-render.behavior';\n\nexport * from './animated.behavior';\n\n/** Common behavior behaviors */\nexport const BEHAVIOR_COMPONENTS = [\n  AnimatedBehaviorComponent,\n  CollisionBehaviorComponent,\n  SpriteRenderBehaviorComponent\n];\n\n@NgModule({\n  declarations: BEHAVIOR_COMPONENTS,\n  exports: BEHAVIOR_COMPONENTS,\n  imports: [\n    CommonModule\n  ]\n})\nexport class BehaviorsModule {\n\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: BehaviorsModule\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/behaviors/index.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {ModuleWithProviders, NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {RPG_HEALTH_BAR_EXPORTS} from './health-bar/index';\nimport {RPG_LOADING_EXPORTS, RPG_LOADING_PROVIDERS} from './loading/index';\nimport {RPG_NOTIFICATION_EXPORTS, RPG_NOTIFICATION_PROVIDERS} from './notification/index';\nimport {RPG_PARTY_MENU_EXPORTS} from './party-menu/index';\nimport {RPG_PLAYER_CARD_EXPORTS} from './player-card/index';\nimport {RPG_PARTY_INVENTORY_EXPORTS} from './party-inventory/index';\nimport {RPG_SPRITE_EXPORTS} from './sprite/index';\nimport {\n  MdButtonModule, MdButtonToggleModule, MdCardModule, MdIconModule, MdListModule, MdProgressBarModule, MdSidenavModule,\n  MdToolbarModule\n} from '@angular/material';\nimport {FlexLayoutModule} from '@angular/flex-layout';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {RPG_PLAYER_STATS_EXPORTS} from './player-stats/index';\n\nexport * from './health-bar/index';\nexport * from './loading/index';\nexport * from './notification/index';\nexport * from './party-inventory/index';\nexport * from './party-menu/index';\nexport * from './player-card/index';\nexport * from './player-stats/index';\nexport * from './sprite/index';\n\n/** Common game/application components */\nexport const APP_COMPONENTS_EXPORTS = [\n  ...RPG_HEALTH_BAR_EXPORTS,\n  ...RPG_LOADING_EXPORTS,\n  ...RPG_NOTIFICATION_EXPORTS,\n  ...RPG_PARTY_INVENTORY_EXPORTS,\n  ...RPG_PARTY_MENU_EXPORTS,\n  ...RPG_PLAYER_CARD_EXPORTS,\n  ...RPG_PLAYER_STATS_EXPORTS,\n  ...RPG_SPRITE_EXPORTS\n];\n\n/** Common component providers */\nexport const APP_COMPONENTS_PROVIDERS = [\n  ...RPG_LOADING_PROVIDERS,\n  ...RPG_NOTIFICATION_PROVIDERS,\n];\n\n@NgModule({\n  declarations: APP_COMPONENTS_EXPORTS,\n  exports: APP_COMPONENTS_EXPORTS,\n  providers: APP_COMPONENTS_PROVIDERS,\n  imports: [\n    BrowserAnimationsModule,\n    CommonModule,\n    FlexLayoutModule,\n    MdSidenavModule,\n    MdIconModule,\n    MdListModule,\n    MdCardModule,\n    MdProgressBarModule,\n    MdToolbarModule,\n    MdButtonModule\n  ]\n})\nexport class AppComponentsModule {\n\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: AppComponentsModule\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/index.ts","import {LoadingComponent} from './loading.component';\nimport {LoadingService} from './loading.service';\n\nexport * from './loading.component';\nexport * from './loading.service';\n\nexport const RPG_LOADING_EXPORTS = [\n  LoadingComponent\n];\n\nexport const RPG_LOADING_PROVIDERS = [\n  LoadingService\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/loading/index.ts","import {\n  CombatActions, CombatAttackAction, CombatEncounterAction, CombatEncounterReadyAction,\n  CombatVictoryAction, CombatVictoryCompleteAction\n} from './combat.actions';\nimport {Combatant, CombatAttack, CombatState} from './combat.model';\nimport * as Immutable from 'immutable';\nimport {List} from 'immutable';\nimport {assertTrue, exhaustiveCheck, makeRecordFactory} from '../util';\nimport {TypedRecord} from 'typed-immutable-record';\nimport {Entity} from '../entity/entity.model';\n\n/**\n * Combat state record.\n * @private\n * @internal\n */\ninterface CombatStateRecord extends TypedRecord<CombatStateRecord>, CombatState {\n}\n\n/**\n * Factory for creating combat state records. Useful for instantiating combat subtree\n * with a set of configured values on top of defaults. Helpful for deserialization and\n * testing.\n * @internal\n */\nexport const combatStateFactory = makeRecordFactory<CombatState, CombatStateRecord>({\n  loading: false,\n  enemies: Immutable.List<Combatant>(),\n  party: Immutable.List<Entity>(),\n  type: 'none',\n  message: [],\n  gold: 0,\n  experience: 0,\n  items: [],\n  zone: '',\n  id: '',\n});\n\n/**\n * Convert input Plain JSON object into an Immutable.js representation with the correct records.\n * @param object The input values.\n */\nexport function combatFromJSON(object: CombatState): CombatState {\n  const recordValues = {\n    ...object,\n    enemies: Immutable.List<Combatant>(object.enemies),\n    party: Immutable.List<Entity>(object.party),\n  };\n  return combatStateFactory(recordValues);\n}\n\nexport function combatReducer(state: CombatStateRecord = combatStateFactory(),\n                              action: CombatActions): CombatStateRecord {\n  switch (action.type) {\n    case CombatEncounterAction.typeId: {\n      return state.merge({\n        loading: true,\n        ...action.payload\n      });\n    }\n    case CombatEncounterReadyAction.typeId: {\n      return state.merge({loading: true});\n    }\n    case CombatVictoryAction.typeId: {\n      return state;\n    }\n    case CombatVictoryCompleteAction.typeId: {\n      // We're done here, reset state\n      return combatStateFactory();\n    }\n    case CombatAttackAction.typeId: {\n      const data: CombatAttack = action.payload;\n      const matchDefender = (c: Combatant) => c.eid === data.defender.eid;\n      assertTrue(state.type !== 'none', 'invalid encounter for attack action');\n\n      // Attacking enemy\n      let index = state.enemies.findIndex(matchDefender);\n      if (index !== -1) {\n        const target: Combatant = data.defender;\n        return state.update('enemies', (items: List<Combatant>) => {\n          const current = items.get(index);\n          assertTrue(current, 'invalid target for attack action');\n          const newHp: number = Math.max(current.hp - data.damage, 0);\n          return items.set(index, {\n            ...current,\n            hp: newHp\n          });\n        });\n      }\n\n      index = state.party.findIndex(matchDefender);\n      // Attacking party\n      if (index !== -1) {\n        const target: Combatant = data.defender;\n        return state.update('party', (items: List<Combatant>) => {\n          const current = items.get(index);\n          assertTrue(current, 'invalid target for attack action');\n          const newHp: number = Math.max(current.hp - data.damage, 0);\n          return items.set(index, {\n            ...current,\n            hp: newHp\n          });\n        });\n      }\n      assertTrue(index !== -1, 'attack target found in neither enemies nor party lists');\n      return state;\n    }\n    default:\n      exhaustiveCheck(action);\n      return state;\n  }\n}\n\n/** @internal {@see sliceCombatState} */\nexport const sliceCombatLoading = (state: CombatStateRecord) => state.loading;\n/** @internal {@see sliceCombatState} */\nexport const sliceCombatEncounterEnemies = (state: CombatStateRecord) => state.enemies;\n/** @internal {@see sliceCombatState} */\nexport const sliceCombatEncounterParty = (state: CombatStateRecord) => state.party;\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/combat/combat.reducer.ts","import {Entity} from './entity.model';\nimport {\n  EntityActions,\n  EntityAddBeingAction,\n  EntityAddItemAction,\n  EntityRemoveBeingAction,\n  EntityRemoveItemAction\n} from './entity.actions';\nimport {\n  addEntityToCollection,\n  BaseEntity,\n  EntityCollection,\n  entityCollectionFromJSON,\n  EntityCollectionRecord,\n  mergeEntityInCollection,\n  removeEntityFromCollection\n} from '../base-entity';\nimport {\n  GameStateEquipItemAction,\n  GameStateHealPartyAction,\n  GameStateUnequipItemAction\n} from '../game-state/game-state.actions';\nimport {CombatVictoryAction} from '../combat/combat.actions';\nimport {assertTrue, exhaustiveCheck, makeRecordFactory} from '../util';\nimport {TypedRecord} from 'typed-immutable-record';\nimport {Item} from '../item';\nimport * as Immutable from 'immutable';\nimport {EntityRecord} from '../records';\nimport {ITemplateArmor, ITemplateItem, ITemplateWeapon} from '../game-data/game-data.model';\n\n// Beings\n//\n/** @internal */\nexport interface EntityBeingsRecord extends TypedRecord<EntityBeingsRecord>, EntityCollection<Entity> {\n}\n/** @internal */\nconst entityBeingsCollectionFactory =\n  makeRecordFactory<EntityCollection<Entity>, EntityBeingsRecord>({\n    byId: Immutable.Map<string, Entity>(),\n    allIds: Immutable.List<string>()\n  });\n\n// Items\n//\n/** @internal */\nexport interface EntityItemsRecord extends TypedRecord<EntityItemsRecord>, EntityCollection<Item> {\n}\n/** @internal */\nconst entityItemsCollectionFactory =\n  makeRecordFactory<EntityCollection<Item>, EntityItemsRecord>({\n    byId: Immutable.Map<string, Item>(),\n    allIds: Immutable.List<string>()\n  });\n\n/** Union type for entity items that may exist in the collection */\nexport type EntityItemTypes\n  = Item\n  | ITemplateWeapon\n  | ITemplateArmor\n  | ITemplateItem;\n\n/** Collection of Entity objects */\nexport interface EntityState {\n  readonly beings: EntityCollection<Entity>;\n  readonly items: EntityCollection<EntityItemTypes>;\n  // TODO: features: EntityCollection<Feature>; <-- control treasure chests, fixed encounters on maps visibility etc.\n  // TODO: quests: EntityCollection<Quest>; <-- OR express everything as a quest, and just start some of them silently\n}\n/**\n * Entity collections state record. Stores named entity collection records.\n * @private\n * @internal\n */\nexport interface EntityStateRecord extends TypedRecord<EntityStateRecord>, EntityState {\n}\n\n/**\n * @internal\n */\nexport const entityStateFactory = makeRecordFactory<EntityState, EntityStateRecord>({\n  beings: entityBeingsCollectionFactory(),\n  items: entityItemsCollectionFactory()\n});\n\n/**\n * Convert input Plain JSON object into an Immutable.js representation with the correct records.\n * @param object The input values.\n */\nexport function entityFromJSON(object: EntityState): EntityState {\n  const recordValues = {\n    beings: entityBeingsCollectionFactory(entityCollectionFromJSON(object.beings)),\n    items: entityItemsCollectionFactory(entityCollectionFromJSON(object.items))\n  };\n  return entityStateFactory(recordValues);\n}\n\ntype EntityReducerTypes = EntityActions\n  | GameStateEquipItemAction\n  | GameStateUnequipItemAction\n  | GameStateHealPartyAction\n  | CombatVictoryAction;\n\nexport function entityReducer(state: EntityStateRecord = entityStateFactory(),\n                              action: EntityReducerTypes): EntityState {\n  switch (action.type) {\n    case EntityAddBeingAction.typeId: {\n      const entity: BaseEntity = action.payload;\n      return state.updateIn(['beings'], (items) => addEntityToCollection(items, entity, entity.eid));\n    }\n    case EntityRemoveBeingAction.typeId: {\n      const entityId: string = action.payload;\n      return state.updateIn(['beings'], (items) => removeEntityFromCollection(items, entityId));\n    }\n    case EntityAddItemAction.typeId: {\n      const entity: Item = action.payload;\n      return state.updateIn(['items'], (items) => addEntityToCollection(items, entity, entity.eid));\n    }\n    case EntityRemoveItemAction.typeId: {\n      const entityId: string = action.payload;\n      return state.updateIn(['items'], (items) => removeEntityFromCollection(items, entityId));\n    }\n    case GameStateHealPartyAction.typeId: {\n      let result: EntityStateRecord = state;\n      const partyAction: GameStateHealPartyAction = action;\n      return result.updateIn(['beings'], (beings: EntityCollectionRecord) => {\n        let updateBeingsResult = beings;\n        partyAction.payload.partyIds.forEach((partyMemberId: string) => {\n          const newHp = state.beings.byId.get(partyMemberId).maxhp;\n          const newMp = state.beings.byId.get(partyMemberId).maxmp;\n          updateBeingsResult = mergeEntityInCollection(updateBeingsResult, {\n            hp: newHp,\n            mp: newMp\n          }, partyMemberId);\n        });\n        return updateBeingsResult;\n      });\n    }\n    case GameStateEquipItemAction.typeId: {\n      let result: EntityStateRecord = state;\n      const current: Entity = state.beings.byId.get(action.payload.entityId);\n      assertTrue(!!current, 'entity does not exist');\n      assertTrue(!current[action.payload.slot],\n        `entity already has item ${current[action.payload.slot]} in ${action.payload.slot}`);\n      return result.updateIn(['beings', 'byId', action.payload.entityId], (entity: EntityRecord) => {\n        return {\n          ...entity,\n          [action.payload.slot]: action.payload.itemId\n        };\n      });\n    }\n    case GameStateUnequipItemAction.typeId: {\n      let result: EntityStateRecord = state;\n      const current: Entity = state.beings.byId.get(action.payload.entityId);\n      assertTrue(!!current, 'entity does not exist');\n      assertTrue(current[action.payload.slot] === action.payload.itemId,\n        `entity does not have item ${current[action.payload.slot]} equipped ${action.payload.slot}`);\n      return result.updateIn(['beings', 'byId', action.payload.entityId], (entity: EntityRecord) => {\n        return {\n          ...entity,\n          [action.payload.slot]: null\n        };\n      });\n    }\n    case CombatVictoryAction.typeId: {\n      let result: EntityStateRecord = state;\n      const victoryAction: CombatVictoryAction = action;\n      return result.updateIn(['beings'], (beings: EntityCollectionRecord) => {\n        let updateBeingsResult = beings;\n        victoryAction.payload.party.forEach((partyEntity: Entity) => {\n          assertTrue(!!(partyEntity && partyEntity.eid), 'invalid party entity in combat victory action');\n          updateBeingsResult = mergeEntityInCollection(updateBeingsResult, partyEntity, partyEntity.eid);\n        });\n        return updateBeingsResult;\n      });\n    }\n    default:\n      exhaustiveCheck(action);\n      return state;\n  }\n}\n\n/** @internal {@see sliceEntitiesState} */\nexport const sliceEntityBeingIds = (state: EntityState) => state.beings.allIds;\n/** @internal {@see sliceEntitiesState} */\nexport const sliceEntityBeings = (state: EntityState) => state.beings.byId;\n/** @internal {@see sliceEntitiesState} */\nexport const sliceEntityItemIds = (state: EntityState) => state.items.allIds;\n/** @internal {@see sliceEntitiesState} */\nexport const sliceEntityItems = (state: EntityState) => state.items.byId;\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/entity/entity.reducer.ts","import * as Immutable from 'immutable';\nimport {\n  addEntityToCollection,\n  EntityCollection,\n  entityCollectionFromJSON,\n  EntityCollectionRecord\n} from '../base-entity';\nimport {\n  ITemplateArmor,\n  ITemplateClass,\n  ITemplateEnemy,\n  ITemplateFixedEncounter,\n  ITemplateId,\n  ITemplateBaseItem,\n  ITemplateMagic,\n  ITemplateRandomEncounter,\n  ITemplateWeapon\n} from './game-data.model';\nimport {\n  GameDataActionClasses, GameDataAddSheetAction, GameDataFetchAction, GameDataFetchFailAction,\n  GameDataFetchSuccessAction,\n  GameDataRemoveSheetAction,\n  IGameDataAddPayload\n} from './game-data.actions';\nimport {TypedRecord} from 'typed-immutable-record';\nimport {assertTrue, exhaustiveCheck, makeRecordFactory} from '../util';\n\n// Weapons\n//\n/** @internal */\nexport interface EntityWeaponsRecord extends TypedRecord<EntityWeaponsRecord>, EntityCollection<ITemplateWeapon> {\n}\n/** @internal */\nconst entityWeaponsCollectionFactory = makeRecordFactory<EntityCollection<ITemplateWeapon>, EntityWeaponsRecord>({\n  byId: Immutable.Map<string, ITemplateWeapon>(),\n  allIds: Immutable.List<string>()\n});\n\n// Items\n//\n/** @internal */\nexport interface EntityItemsRecord extends TypedRecord<EntityItemsRecord>, EntityCollection<ITemplateBaseItem> {\n}\n/** @internal */\nconst entityItemsCollectionFactory = makeRecordFactory<EntityCollection<ITemplateBaseItem>, EntityItemsRecord>({\n  byId: Immutable.Map<string, ITemplateBaseItem>(),\n  allIds: Immutable.List<string>()\n});\n\n// Armors\n//\n/** @internal */\nexport interface EntityArmorsRecord extends TypedRecord<EntityArmorsRecord>, EntityCollection<ITemplateArmor> {\n}\n/** @internal */\nconst entityArmorsCollectionFactory = makeRecordFactory<EntityCollection<ITemplateArmor>, EntityArmorsRecord>({\n  byId: Immutable.Map<string, ITemplateArmor>(),\n  allIds: Immutable.List<string>()\n});\n\n// Enemies\n//\n/** @internal */\nexport interface EntityEnemiesRecord extends TypedRecord<EntityEnemiesRecord>, EntityCollection<ITemplateEnemy> {\n}\n/** @internal */\nconst entityEnemiesCollectionFactory = makeRecordFactory<EntityCollection<ITemplateEnemy>, EntityEnemiesRecord>({\n  byId: Immutable.Map<string, ITemplateEnemy>(),\n  allIds: Immutable.List<string>()\n});\n\n// Magics\n//\n/** @internal */\nexport interface EntityMagicsRecord extends TypedRecord<EntityMagicsRecord>, EntityCollection<ITemplateMagic> {\n}\n/** @internal */\nconst entityMagicsCollectionFactory = makeRecordFactory<EntityCollection<ITemplateMagic>, EntityMagicsRecord>({\n  byId: Immutable.Map<string, ITemplateMagic>(),\n  allIds: Immutable.List<string>()\n});\n\n// Classes\n//\n/** @internal */\nexport interface EntityClassesRecord extends TypedRecord<EntityClassesRecord>, EntityCollection<ITemplateClass> {\n}\n/** @internal */\nconst entityClassesCollectionFactory = makeRecordFactory<EntityCollection<ITemplateClass>, EntityClassesRecord>({\n  byId: Immutable.Map<string, ITemplateClass>(),\n  allIds: Immutable.List<string>()\n});\n\n// Fixed Encounters\n//\n/** @internal */\nexport interface EntityFixedEncountersRecord extends TypedRecord<EntityFixedEncountersRecord>,\n  EntityCollection<ITemplateFixedEncounter> {\n}\n/** @internal */\nconst entityFixedEncountersCollectionFactory =\n  makeRecordFactory<EntityCollection<ITemplateFixedEncounter>, EntityFixedEncountersRecord>({\n    byId: Immutable.Map<string, ITemplateFixedEncounter>(),\n    allIds: Immutable.List<string>()\n  });\n\n// Random Encounters\n//\n/** @internal */\nexport interface EntityRandomEncountersRecord extends TypedRecord<EntityRandomEncountersRecord>,\n  EntityCollection<ITemplateRandomEncounter> {\n}\n/** @internal */\nconst entityRandomEncountersCollectionFactory =\n  makeRecordFactory<EntityCollection<ITemplateRandomEncounter>, EntityRandomEncountersRecord>({\n    byId: Immutable.Map<string, ITemplateRandomEncounter>(),\n    allIds: Immutable.List<string>()\n  });\n\n// Game Data state\n\n/** @internal */\nexport interface GameDataStateRecord extends TypedRecord<GameDataStateRecord>, GameDataState {\n}\n/** @internal */\nexport const gameDataFactory = makeRecordFactory<GameDataState, GameDataStateRecord>({\n  loaded: false,\n  weapons: entityWeaponsCollectionFactory(),\n  items: entityItemsCollectionFactory(),\n  armor: entityArmorsCollectionFactory(),\n  enemies: entityEnemiesCollectionFactory(),\n  magic: entityMagicsCollectionFactory(),\n  classes: entityClassesCollectionFactory(),\n  fixedEncounters: entityFixedEncountersCollectionFactory(),\n  randomEncounters: entityRandomEncountersCollectionFactory(),\n});\n\n/** Collection of game data template objects */\nexport interface GameDataState {\n  loaded: boolean;\n  weapons: EntityCollection<ITemplateWeapon>;\n  items: EntityCollection<ITemplateBaseItem>;\n  armor: EntityCollection<ITemplateArmor>;\n  enemies: EntityCollection<ITemplateEnemy>;\n  magic: EntityCollection<ITemplateMagic>;\n  classes: EntityCollection<ITemplateClass>;\n  fixedEncounters: EntityCollection<ITemplateFixedEncounter>;\n  randomEncounters: EntityCollection<ITemplateRandomEncounter>;\n}\n\n/**\n * Convert input Plain JSON object into an Immutable.js representation with the correct records.\n * @param object The input values.\n */\nexport function gameDataFromJSON(object: GameDataState): GameDataState {\n  const result = gameDataFactory({\n    loaded: object.loaded,\n    weapons: entityWeaponsCollectionFactory(entityCollectionFromJSON(object.weapons)),\n    items: entityItemsCollectionFactory(entityCollectionFromJSON(object.items)),\n    armor: entityArmorsCollectionFactory(entityCollectionFromJSON(object.armor)),\n    enemies: entityEnemiesCollectionFactory(entityCollectionFromJSON(object.enemies)),\n    magic: entityMagicsCollectionFactory(entityCollectionFromJSON(object.magic)),\n    classes: entityClassesCollectionFactory(entityCollectionFromJSON(object.classes)),\n    fixedEncounters: entityFixedEncountersCollectionFactory(entityCollectionFromJSON(object.fixedEncounters)),\n    randomEncounters: entityRandomEncountersCollectionFactory(entityCollectionFromJSON(object.randomEncounters))\n  });\n  return result;\n}\n\n/**\n * Manage shared state for game-design data. Items for sale, monsters that exist in a fixed combat\n * encounter, base attributes for each class, etc.\n */\nexport function gameDataReducer(state: GameDataState = gameDataFactory(),\n                                action: GameDataActionClasses): GameDataState {\n  const stateRecord = state as GameDataStateRecord;\n  switch (action.type) {\n    case GameDataFetchAction.typeId:\n    case GameDataFetchFailAction.typeId: {\n      return state;\n    }\n    case GameDataFetchSuccessAction.typeId: {\n      return stateRecord.merge({\n        loaded: true\n      });\n    }\n    case GameDataAddSheetAction.typeId: {\n      const addSheet: IGameDataAddPayload = action.payload;\n      assertTrue(!!state[addSheet.sheet], 'unknown collection cannot be added with sheet name: ' + addSheet.sheet);\n      return stateRecord.updateIn([addSheet.sheet], (record: EntityCollectionRecord) => {\n        addSheet.data.forEach((data: ITemplateId) => {\n          record = addEntityToCollection(record, data, data.id);\n        });\n        return record;\n      });\n    }\n    case GameDataRemoveSheetAction.typeId: {\n      const removeId: string = action.payload;\n      assertTrue(stateRecord.has(removeId), 'cannot remove sheet that does not exist: ' + removeId);\n      return stateRecord.updateIn([removeId], (e: EntityCollectionRecord) => {\n        return e\n          .set('byId', e.byId.clear())\n          .set('allIds', e.allIds.clear());\n      });\n    }\n    default:\n      exhaustiveCheck(action);\n      return state;\n  }\n}\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceGameDataType = (type: string) => {\n  return (state: GameDataState) => state[type].byId;\n};\n/** @internal {@see sliceGameDataState} */\nexport const sliceGameDataTypeIds = (type: string) => {\n  return (state: GameDataState) => state[type].allIds;\n};\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceGameDataLoaded = (state: GameDataState) => state.loaded;\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceWeaponIds = (state: GameDataState) => state.weapons.allIds;\n/** @internal {@see sliceGameDataState} */\nexport const sliceWeapons = (state: GameDataState) => state.weapons.byId;\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceArmorIds = (state: GameDataState) => state.armor.allIds;\n/** @internal {@see sliceGameDataState} */\nexport const sliceArmors = (state: GameDataState) => state.armor.byId;\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceItemIds = (state: GameDataState) => state.items.allIds;\n/** @internal {@see sliceGameDataState} */\nexport const sliceItems = (state: GameDataState) => state.items.byId;\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceEnemiesIds = (state: GameDataState) => state.enemies.allIds;\n/** @internal {@see sliceGameDataState} */\nexport const sliceEnemies = (state: GameDataState) => state.enemies.byId;\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceMagicIds = (state: GameDataState) => state.magic.allIds;\n/** @internal {@see sliceGameDataState} */\nexport const sliceMagics = (state: GameDataState) => state.magic.byId;\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceClassesIds = (state: GameDataState) => state.classes.allIds;\n/** @internal {@see sliceGameDataState} */\nexport const sliceClasses = (state: GameDataState) => state.classes.byId;\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceRandomEncounterIds = (state: GameDataState) => state.randomEncounters.allIds;\n/** @internal {@see sliceGameDataState} */\nexport const sliceRandomEncounters = (state: GameDataState) => state.randomEncounters.byId;\n\n/** @internal {@see sliceGameDataState} */\nexport const sliceFixedEncounterIds = (state: GameDataState) => state.fixedEncounters.allIds;\n/** @internal {@see sliceGameDataState} */\nexport const sliceFixedEncounters = (state: GameDataState) => state.fixedEncounters.byId;\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-data/game-data.reducer.ts","import {\n  GameStateActions,\n  GameStateAddGoldAction,\n  GameStateAddInventoryAction,\n  GameStateDeleteAction,\n  GameStateDeleteFailAction,\n  GameStateDeleteSuccessAction,\n  GameStateEquipItemAction,\n  GameStateHealPartyAction,\n  GameStateLoadAction,\n  GameStateLoadFailAction,\n  GameStateLoadSuccessAction,\n  GameStateMoveAction,\n  GameStateNewAction,\n  GameStateNewFailAction,\n  GameStateNewSuccessAction,\n  GameStateRemoveInventoryAction,\n  GameStateSaveAction,\n  GameStateSaveFailAction,\n  GameStateSaveSuccessAction,\n  GameStateSetBattleCounterAction,\n  GameStateSetKeyDataAction,\n  GameStateTravelAction,\n  GameStateTravelFailAction,\n  GameStateTravelSuccessAction,\n  GameStateUnequipItemAction\n} from './game-state.actions';\nimport {GameState} from './game-state.model';\nimport * as Immutable from 'immutable';\nimport {Item} from '../item';\nimport {assertTrue, exhaustiveCheck, makeRecordFactory} from '../util';\nimport {TypedRecord} from 'typed-immutable-record';\nimport {pointFactory} from '../records';\n\n/**\n * Game state record.\n * @private\n * @internal\n */\ninterface GameStateRecord extends TypedRecord<GameStateRecord>, GameState {\n}\n\n/**\n * Factory for creating combat state records. Useful for instantiating combat subtree\n * with a set of configured values on top of defaults. Helpful for deserialization and\n * testing.\n * @internal\n */\nexport const gameStateFactory = makeRecordFactory<GameState, GameStateRecord>({\n  party: Immutable.List<string>(),\n  inventory: Immutable.List<string>(),\n  keyData: Immutable.Map<string, any>(),\n  battleCounter: 64,\n  gold: 0,\n  location: '',\n  combatZone: '',\n  position: pointFactory(),\n  shipPosition: pointFactory()\n});\n\n/**\n * Convert input Plain JSON object into an Immutable.js representation with the correct records.\n * @param object The input values.\n */\nexport function gameStateFromJSON(object: GameState): GameState {\n  const recordValues = {\n    ...object,\n    party: Immutable.List<string>(object.party),\n    inventory: Immutable.List<string>(object.inventory),\n    keyData: Immutable.Map<string, any>(object.keyData),\n    position: pointFactory(object.position),\n    shipPosition: pointFactory(object.shipPosition)\n  };\n  return gameStateFactory(recordValues);\n}\n\nexport function gameStateReducer(state: GameStateRecord = gameStateFactory(), action: GameStateActions): GameState {\n  switch (action.type) {\n    case GameStateNewAction.typeId: {\n      return gameStateFromJSON(action.payload);\n    }\n    case GameStateNewSuccessAction.typeId:\n    case GameStateNewFailAction.typeId:\n      return state;\n    case GameStateTravelAction.typeId: {\n      return state.merge({\n        position: pointFactory(action.payload.position),\n        location: action.payload.location\n      });\n    }\n    case GameStateEquipItemAction.typeId:\n      assertTrue(state.party.find((i) => i === action.payload.entityId),\n        'cannot equip item on entity that is not in the party');\n      assertTrue(state.inventory.find((i) => i === action.payload.itemId), 'item does not exist in inventory');\n      return state.merge({\n        inventory: state.inventory.filter((i: string) => i !== action.payload.itemId)\n      });\n    case GameStateUnequipItemAction.typeId:\n      assertTrue(state.party.find((i) => i === action.payload.entityId),\n        'cannot remove item from entity that is not in the party');\n      assertTrue(!state.inventory.find((i) => i === action.payload.itemId), 'item already exists in inventory');\n      return state.merge({\n        inventory: state.inventory.push(action.payload.itemId)\n      });\n    case GameStateTravelSuccessAction.typeId:\n    case GameStateTravelFailAction.typeId:\n    case GameStateLoadAction.typeId:\n    case GameStateLoadSuccessAction.typeId:\n    case GameStateLoadFailAction.typeId:\n    case GameStateDeleteAction.typeId:\n    case GameStateDeleteSuccessAction.typeId:\n    case GameStateDeleteFailAction.typeId:\n    case GameStateSaveAction.typeId:\n    case GameStateSaveSuccessAction.typeId:\n    case GameStateSaveFailAction.typeId:\n      return state;\n    case GameStateMoveAction.typeId: {\n      return state.merge({\n        position: action.payload\n      });\n    }\n    case GameStateSetBattleCounterAction.typeId: {\n      return state.merge({\n        battleCounter: action.payload\n      });\n    }\n    case GameStateSetKeyDataAction.typeId:\n      return state.merge({\n        keyData: state.keyData.set(action.payload.key, action.payload.value)\n      });\n    case GameStateAddGoldAction.typeId: {\n      return state.merge({\n        gold: state.gold + action.payload\n      });\n    }\n    case GameStateHealPartyAction.typeId: {\n      // Subtract cost and return.\n      return state.merge({\n        gold: state.gold - action.payload.cost\n      });\n    }\n    case GameStateAddInventoryAction.typeId: {\n      const item: Item = action.payload;\n      assertTrue(item, 'cannot add invalid item to inventory');\n      assertTrue(item.eid, 'item must have an eid. consider using \"entityId\" or \"instantiateEntity\" during creation');\n      assertTrue(item.id, 'item must have a template id. see game-data models for more information');\n      const exists: boolean = !!state.inventory.find((i: string) => i === item.eid);\n      assertTrue(!exists, 'item already exists in inventory');\n      return state.merge({\n        inventory: state.inventory.push(item.eid)\n      });\n    }\n    case GameStateRemoveInventoryAction.typeId: {\n      const item: Item = action.payload;\n      const inventory = state.inventory.filter((i: string) => i !== item.eid);\n      assertTrue(inventory.count() === state.inventory.count() - 1, 'item does not exist in party inventory to remove');\n      return state.merge({\n        inventory\n      });\n    }\n    default:\n      exhaustiveCheck(action);\n      return state;\n  }\n}\n/** @internal {@see sliceGameState} */\nexport const sliceGameStateKeyData = (state: GameState) => state.keyData;\n\nexport function sliceGold(state: GameState) {\n  return state.gold;\n}\n\nexport function sliceMap(state: GameState) {\n  return state.location;\n}\n\nexport function slicePosition(state: GameState) {\n  return state.position;\n}\n\nexport function sliceShipPosition(state: GameState) {\n  return state.shipPosition;\n}\n\nexport function sliceBattleCounter(state: GameState) {\n  return state.battleCounter;\n}\n\nexport function sliceCombatZone(state: GameState) {\n  return state.combatZone;\n}\n\nexport function slicePartyIds(state: GameState) {\n  return state.party;\n}\n\nexport function sliceInventoryIds(state: GameState) {\n  return state.inventory;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-state/game-state.reducer.ts","import * as Immutable from 'immutable';\nimport {assertTrue, exhaustiveCheck, makeRecordFactory} from '../util';\nimport {TypedRecord} from 'typed-immutable-record';\nimport {SpriteData, SpriteState} from './sprites.model';\nimport {\n  SpriteActions, SpritesLoadAction, SpritesLoadFailAction, SpritesLoadSuccessAction,\n  SpritesRegisterAction\n} from './sprites.actions';\nimport {registerSprites} from '../../../game/pow2/core/api';\n\ninterface SpritesStateRecord extends TypedRecord<SpritesStateRecord>, SpriteState {\n}\n\n/**\n * @internal\n */\nexport const spritesStateFactory = makeRecordFactory<SpriteState, SpritesStateRecord>({\n  loaded: false,\n  spritesById: Immutable.Map<string, SpriteData>()\n});\n\n/**\n * Convert input Plain JSON object into an Immutable.js representation with the correct records.\n * @param object The input values.\n */\nexport function spritesFromJSON(object: SpriteState): SpriteState {\n  const recordValues = {\n    spritesById: Immutable.Map<string, SpriteData>(object.spritesById),\n    loaded: object.loaded\n  };\n  registerSprites('', object.spritesById);\n  return spritesStateFactory(recordValues);\n}\n\nexport function spritesReducer(state: SpritesStateRecord = spritesStateFactory(),\n                               action: SpriteActions): SpritesStateRecord {\n  switch (action.type) {\n    case SpritesRegisterAction.typeId: {\n      const map = Immutable.Map<string, SpriteData>(action.payload);\n      map.forEach((value, key) => {\n        assertTrue(!state.spritesById.has(key), `duplicates are not allowed. sprite (${key}) is already declared`);\n      });\n      return state.updateIn(['spritesById'], (s) => s.merge(action.payload));\n    }\n    case SpritesLoadSuccessAction.typeId: {\n      return state.merge({\n        loaded: true\n      });\n    }\n    // These only have side-effects\n    case SpritesLoadFailAction.typeId:\n    case SpritesLoadAction.typeId:\n      return state;\n    default:\n      exhaustiveCheck(action);\n      return state;\n  }\n}\n\n/** @internal {@see sliceSpritesState} */\nexport const sliceSpritesLoaded = (state: SpritesStateRecord) => state.loaded;\n/** @internal {@see sliceSpritesState} */\nexport const sliceSpritesById = (state: SpritesStateRecord) => state.spritesById;\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/sprites/sprites.reducer.ts","import * as _ from 'underscore';\nimport {GameEntityObject} from '../../../../scene/game-entity-object';\nimport {CombatEndTurnStateComponent} from '../../states/combat-end-turn.state';\nimport {getSoundEffectUrl, ISpriteMeta} from '../../../../../game/pow2/core/api';\nimport {AnimatedSpriteBehavior} from '../../../../../game/pow2/tile/behaviors/animated-sprite.behavior';\nimport {SpriteComponent} from '../../../../../game/pow2/tile/behaviors/sprite.behavior';\nimport {DamageComponent} from '../../../../behaviors/damage.behavior';\nimport {SoundBehavior} from '../../../../../game/pow2/scene/behaviors/sound-behavior';\nimport {CombatPlayerRenderBehaviorComponent} from '../combat-player-render.behavior';\nimport {CombatActionBehavior} from '../combat-action.behavior';\nimport {Component, Input} from '@angular/core';\nimport {IPlayerActionCallback} from '../../states/combat.machine';\nimport {CombatAttackSummary, CombatComponent} from '../../combat.component';\nimport {AppState} from '../../../../app.model';\nimport {Store} from '@ngrx/store';\nimport {CombatAttackAction} from '../../../../models/combat/combat.actions';\nimport {CombatAttack} from '../../../../models/combat/combat.model';\nimport {Entity, EntityWithEquipment} from '../../../../models/entity/entity.model';\nimport {GameWorld} from '../../../../services/game-world';\nimport {ImageResource} from '../../../../../game/pow-core/resources/image.resource';\nimport {CombatService} from '../../../../models/combat/combat.service';\nimport {getEntityEquipment} from '../../../../models/selectors';\n/**\n * Attack another entity in combat.\n */\n@Component({\n  selector: 'combat-attack-behavior',\n  template: '<ng-content></ng-content>'\n})\nexport class CombatAttackBehaviorComponent extends CombatActionBehavior {\n  name: string = 'attack';\n\n  @Input() combat: CombatComponent;\n\n  constructor(private store: Store<AppState>,\n              private combatService: CombatService,\n              private gameWorld: GameWorld) {\n    super();\n  }\n\n  canBeUsedBy(entity: GameEntityObject) {\n    // Exclude magic casters from physical attacks\n    const excludedTypes = [\n      'lifemage',\n      'deathmage'\n    ];\n    const partyMember = entity.model as Entity;\n    if (partyMember.type !== undefined && _.indexOf(excludedTypes, partyMember.type) !== -1) {\n      return false;\n    }\n    return super.canBeUsedBy(entity);\n  }\n\n  act(then?: IPlayerActionCallback): boolean {\n    if (!this.isCurrentTurn()) {\n      return false;\n    }\n    const done = (error?: any) => {\n      if (then) {\n        then(this, error);\n      }\n      this.combat.machine.setCurrentState(CombatEndTurnStateComponent.NAME);\n    };\n\n    //\n    const attacker: GameEntityObject = this.from;\n    const defender: GameEntityObject = this.to;\n    const playerRender =\n      attacker.findBehavior(CombatPlayerRenderBehaviorComponent) as CombatPlayerRenderBehaviorComponent;\n    const attack = () => {\n      this.store.select(getEntityEquipment(attacker.model.eid)).combineLatest(\n        this.store.select(getEntityEquipment(defender.model.eid)),\n        (equippedAttacker: EntityWithEquipment, equippedDefender: EntityWithEquipment) => {\n          const damage: number =\n            this.combatService.attackCombatant(equippedAttacker || attacker.model, equippedDefender || defender.model);\n          const didKill: boolean = (defender.model.hp - damage) <= 0;\n          const hit: boolean = damage > 0;\n          const defending: boolean = false; // TODO: Maps to guard action\n          const hitSound: string =\n            getSoundEffectUrl(didKill ? 'killed' : (hit ? (defending ? 'miss' : 'hit') : 'miss'));\n\n          const attackData: CombatAttack = {\n            attacker: attacker.model,\n            defender: defender.model,\n            damage\n          };\n          this.store.dispatch(new CombatAttackAction(attackData));\n\n          const damageAnimation: string = hit ? (defending ? 'animSmoke.png' : 'animHit.png') : 'animMiss.png';\n          const meta: ISpriteMeta = this.gameWorld.sprites.getSpriteMeta(damageAnimation);\n          if (!meta) {\n            console.warn('could not find damage animation in sprites metadata: ' + damageAnimation);\n            return done();\n          }\n\n          this.gameWorld.sprites.getSpriteSheet(meta.source).then((damageImages: ImageResource[]) => {\n            const damageImage: HTMLImageElement = damageImages[0].data;\n            const components = {\n              animation: new AnimatedSpriteBehavior({\n                spriteName: 'attack',\n                lengthMS: 350\n              }),\n              sprite: new SpriteComponent({\n                name: 'attack',\n                icon: damageAnimation,\n                meta,\n                image: damageImage\n              }),\n              damage: new DamageComponent(),\n              sound: new SoundBehavior({\n                url: hitSound,\n                volume: 0.3\n              })\n            };\n            if (playerRender) {\n              playerRender.setState('Moving');\n            }\n            defender.addComponentDictionary(components);\n            components.damage.once('damage:done', () => {\n              if (playerRender) {\n                playerRender.setState();\n              }\n              if (didKill) {\n                _.defer(() => {\n                  defender.destroy();\n                });\n              }\n              defender.removeComponentDictionary(components);\n            });\n            const data: CombatAttackSummary = {\n              damage,\n              attacker,\n              defender\n            };\n            this.combat.machine.notify('combat:attack', data, done);\n          });\n\n        })\n        .take(1)\n        .subscribe();\n    };\n\n    if (playerRender) {\n      playerRender.attack(attack);\n    }\n    else {\n      // TODO: Shouldn't be here.  This mess is currently to delay NPC attacks.\n      _.delay(() => {\n        attack();\n      }, 1000);\n    }\n    return true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/behaviors/actions/combat-attack.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {SceneObjectBehavior} from '../../../../game/pow2/scene/scene-object-behavior';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {UsableModel} from '../../../../game/rpg/models/usableModel';\nimport {IPlayerAction, IPlayerActionCallback} from '../states/combat.machine';\nimport {Item} from '../../../models/item';\nimport {ITemplateMagic} from '../../../models/game-data/game-data.model';\n\nexport class CombatActionBehavior extends SceneObjectBehavior implements IPlayerAction {\n  name: string = 'default';\n  from: GameEntityObject = null;\n  to: GameEntityObject = null;\n  spell: ITemplateMagic = null;\n  item: Item = null;\n\n  getActionName(): string {\n    return this.name;\n  }\n\n  isCurrentTurn(): boolean {\n    console.warn('combat: current turn update needed');\n    // return this.combat.machine.current === this.from;\n    return true;\n  }\n\n  canTarget(): boolean {\n    return true;\n  }\n\n  canTargetMultiple(): boolean {\n    return this.canTarget();\n  }\n\n  /**\n   * Method used to determine if this action is usable by a given\n   * [GameEntityObject].  This may be subclassed in an action to\n   * select the types of entities that may use the action.\n   * @param entity The object that would use the action.\n   * @returns {boolean} True if the entity may use this action.\n   */\n  canBeUsedBy(entity: GameEntityObject) {\n    // return entity.model && entity.model instanceof EntityModel;\n    return true;\n  }\n\n  /**\n   * Base class invokes the then callback and returns true.\n   * @returns {boolean} Whether the act was successful or not.\n   */\n  act(then?: IPlayerActionCallback): boolean {\n    if (then) {\n      then(this, null);\n    }\n    return true;\n  }\n\n  /**\n   * The action has been selected for the current turn.\n   */\n  select() {\n    // nothing\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/behaviors/combat-action.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {NgModule, ModuleWithProviders} from '@angular/core';\nimport {CombatDamageComponent} from './combat-damage.component';\nimport {CombatComponent} from './combat.component';\nimport {CommonModule} from '@angular/common';\nimport {CanActivateCombat} from './combat.guards';\nimport {COMBAT_PLAYER_COMPONENTS} from './combat-player.entity';\nimport {BehaviorsModule} from '../../behaviors/index';\nimport {COMBAT_ENEMY_COMPONENTS} from './combat-enemy.entity';\nimport {COMBAT_STATE_COMPONENTS} from './states/index';\nimport {AppComponentsModule} from '../../components/index';\nimport {COMBAT_MAP_COMPONENTS} from './combat-map.entity';\n\nexport * from './combat-damage.component';\nexport * from './combat.component';\n\n/** Components associated with combat */\nexport const COMBAT_EXPORTS = [\n  CombatDamageComponent,\n  CombatComponent,\n  ...COMBAT_PLAYER_COMPONENTS,\n  ...COMBAT_ENEMY_COMPONENTS,\n  ...COMBAT_STATE_COMPONENTS,\n  ...COMBAT_MAP_COMPONENTS\n];\n\nexport const COMBAT_PROVIDERS = [\n  CanActivateCombat\n];\n\n@NgModule({\n  declarations: COMBAT_EXPORTS,\n  exports: COMBAT_EXPORTS,\n  imports: [\n    CommonModule,\n    BehaviorsModule,\n    AppComponentsModule\n  ]\n})\nexport class CombatModule {\n\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: CombatModule\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/index.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {CombatMachineState} from './combat-base.state';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {CombatStateMachineComponent} from './combat.machine';\nimport {Component} from '@angular/core';\n\nexport interface CombatDefeatSummary {\n  party: GameEntityObject[];\n  enemies: GameEntityObject[];\n}\n@Component({\n  selector: 'combat-defeat-state',\n  template: `<ng-content></ng-content>`\n})\nexport class CombatDefeatStateComponent extends CombatMachineState {\n  static NAME: string = 'Combat Defeat';\n  name: string = CombatDefeatStateComponent.NAME;\n\n  enter(machine: CombatStateMachineComponent) {\n    super.enter(machine);\n    const data: CombatDefeatSummary = {\n      enemies: machine.enemies.toArray(),\n      party: machine.party.toArray()\n    };\n    machine.notify('combat:defeat', data, () => {\n      alert('defeat is not implemented');\n      // machine.parent.world.reportEncounterResult(false);\n      // TODO: This is a hack.  Need better game lifetime management.\n      window.location.reload(true);\n      // machine.parent.setCurrentState(PlayerDefaultState.NAME);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/combat-defeat.state.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {CombatMachineState} from './combat-base.state';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {CombatStateMachineComponent} from './combat.machine';\nimport {Component} from '@angular/core';\n\n/**\n * Describe the result of a combat run action.\n */\nexport interface CombatRunSummary {\n  success: boolean;\n  player: GameEntityObject;\n}\n\n@Component({\n  selector: 'combat-escape-state',\n  template: `<ng-content></ng-content>`\n})\nexport class CombatEscapeStateComponent extends CombatMachineState {\n  static NAME: string = 'Combat Escaped';\n  name: string = CombatEscapeStateComponent.NAME;\n\n  enter(machine: CombatStateMachineComponent) {\n    super.enter(machine);\n    machine.notify('combat:escape', {\n      player: machine.current\n    }, () => {\n      alert('combat escape needs fixin\\'');\n      // machine.parent.world.reportEncounterResult(false);\n      // machine.parent.setCurrentState(PlayerMapState.NAME);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/combat-escape.state.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {CombatMachineState} from './combat-base.state';\nimport {CombatStateMachineComponent} from './combat.machine';\nimport {CombatChooseActionStateComponent} from './combat-choose-action.state';\nimport {Component} from '@angular/core';\nimport {NotificationService} from '../../../components/notification/notification.service';\n\n// Combat Begin\n@Component({\n  selector: 'combat-start-state',\n  template: `<ng-content></ng-content>`\n})\nexport class CombatStartStateComponent extends CombatMachineState {\n  static NAME: string = 'Combat Started';\n  name: string = CombatStartStateComponent.NAME;\n\n  constructor(private notify: NotificationService) {\n    super();\n  }\n\n  enter(machine: CombatStateMachineComponent) {\n    super.enter(machine);\n    _.defer(() => {\n      const encounter = machine.encounter;\n      const _done = () => {\n        machine.setCurrentState(CombatChooseActionStateComponent.NAME);\n      };\n      if (encounter && encounter.message) {\n        // If the message contains pipe's, treat what is between each pipe as a separate\n        // message to be displayed.\n        let msgs = encounter.message.slice();\n        const last = msgs.pop();\n        msgs.forEach((m) => this.notify.show(m, null, 0));\n        this.notify.show(last, _done, 0);\n      }\n      else {\n        _done();\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/combat-start.state.ts","import {CombatMachineState} from './combat-base.state';\nimport {HeroModel} from '../../../../game/rpg/models/heroModel';\nimport {ItemModel} from '../../../../game/rpg/models/itemModel';\nimport {CombatStateMachineComponent} from './combat.machine';\nimport {Component} from '@angular/core';\nimport {Entity} from '../../../models/entity/entity.model';\nimport {Item} from '../../../models/item';\nimport {Combatant, CombatState} from '../../../models/combat/combat.model';\nimport {AppState} from '../../../app.model';\nimport {Store} from '@ngrx/store';\nimport {getGameDataArmors, getGameDataItems, getGameDataWeapons, sliceCombatState} from '../../../models/selectors';\nimport {assertTrue} from '../../../models/util';\nimport {GameStateAddGoldAction, GameStateAddInventoryAction} from '../../../models/game-state/game-state.actions';\nimport {instantiateEntity, ITemplateBaseItem} from '../../../models/game-data/game-data.model';\nimport {Observable} from 'rxjs/Observable';\nimport {\n  getAgilityForLevel,\n  getHPForLevel,\n  getIntelligenceForLevel,\n  getStrengthForLevel,\n  getVitalityForLevel,\n  getXPForLevel\n} from '../../../models/levels';\nimport {CombatVictoryAction, CombatVictorySummary} from '../../../models/combat/combat.actions';\nimport * as Immutable from 'immutable';\n\n@Component({\n  selector: 'combat-victory-state',\n  template: `\n    <ng-content></ng-content>`\n})\nexport class CombatVictoryStateComponent extends CombatMachineState {\n  static NAME: string = 'Combat Victory';\n  name: string = CombatVictoryStateComponent.NAME;\n  /**\n   * Item templates to instantiate any combat victory reward items\n   */\n  private items$: Observable<Immutable.List<ITemplateBaseItem>> = this.store.select(getGameDataWeapons)\n    .combineLatest(\n      this.store.select(getGameDataArmors),\n      this.store.select(getGameDataItems),\n      (weapons, armors, items) => {\n        return items.concat(weapons).concat(armors);\n      });\n\n  constructor(public store: Store<AppState>) {\n    super();\n  }\n\n  awardExperience(exp: number, model: Entity): Entity {\n    const newExp: number = model.exp + exp;\n    let result: Entity = {\n      ...model,\n      exp: newExp\n    };\n    const nextLevel: number = getXPForLevel(model.level + 1);\n    if (newExp >= nextLevel) {\n      result = this.awardLevelUp(model);\n    }\n    return result;\n  }\n\n  awardLevelUp(model: Entity): Entity {\n    const nextLevel: number = model.level + 1;\n    const newHP = getHPForLevel(nextLevel, model);\n    return {\n      ...model,\n      level: nextLevel,\n      maxhp: newHP,\n      hp: newHP,\n      attack: getStrengthForLevel(nextLevel, model),\n      speed: getAgilityForLevel(nextLevel, model),\n      defense: getVitalityForLevel(nextLevel, model),\n      magic: getIntelligenceForLevel(nextLevel, model)\n    };\n  }\n\n  enter(machine: CombatStateMachineComponent) {\n    super.enter(machine);\n\n    this.store.select(sliceCombatState)\n      .take(1)\n      .combineLatest(this.items$, (state: CombatState, items: ITemplateBaseItem[]) => {\n        let players: Entity[] = state.party.toArray();\n        let enemies: Combatant[] = state.enemies.toArray();\n        assertTrue(players.length > 0, 'no living players during combat victory state');\n        let gold: number = 0;\n        let exp: number = 0;\n        let itemTemplateIds: string[] = [];\n\n        // Sum experience and gold for each enemy that was defeated\n        state.enemies.forEach((combatant: Combatant) => {\n          gold += combatant.gold || 0;\n          exp += combatant.exp || 0;\n        });\n\n        // Apply Fixed encounter bonus awards\n        //\n        if (state.type === 'fixed') {\n          if (state.gold > 0) {\n            gold += state.gold;\n          }\n          if (state.experience > 0) {\n            exp += state.experience;\n          }\n          if (state.items && state.items.length > 0) {\n            itemTemplateIds = itemTemplateIds.concat(state.items);\n          }\n        }\n\n        // Award gold\n        //\n        this.store.dispatch(new GameStateAddGoldAction(gold));\n\n        // Award items\n        //\n        const itemInstances: Item[] = [];\n        itemTemplateIds.forEach((itemId: string) => {\n          const item: ITemplateBaseItem = items.find((i: ITemplateBaseItem) => i.id === itemId);\n          assertTrue(!!item, 'cannot award unknown item ' + itemId);\n          const model = instantiateEntity<Item>(item);\n          this.store.dispatch(new GameStateAddInventoryAction(model));\n        });\n\n        // Award experience\n        //\n        const expPerParty: number = Math.round(exp / players.length);\n        const levelUps: Entity[] = [];\n        players = players.map((player: Entity) => {\n          let result = this.awardExperience(expPerParty, player);\n          if (result.level > player.level) {\n            levelUps.push(result);\n          }\n          return result;\n        });\n\n        // Dispatch victory action\n        const summary: CombatVictorySummary = {\n          type: machine.encounter.type,\n          id: machine.encounter.id,\n          party: players,\n          enemies,\n          levels: levelUps,\n          items: itemInstances,\n          gold,\n          exp\n        };\n        this.store.dispatch(new CombatVictoryAction(summary));\n      }).subscribe();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/combat-victory.state.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {GameWorld} from '../../../services/game-world';\nimport {StateMachine} from '../../../../game/pow2/core/state-machine';\nimport {IState} from '../../../../game/pow2/core/state';\nimport {CombatStartStateComponent} from './combat-start.state';\nimport {Component, AfterViewInit, ViewChildren, QueryList, Input} from '@angular/core';\nimport {CombatEncounter} from '../../../models/combat/combat.model';\nimport {CombatMachineState} from './combat-base.state';\nimport {Scene} from '../../../../game/pow2/scene/scene';\nimport {CombatPlayerComponent} from '../combat-player.entity';\nimport {CombatEnemyComponent} from '../combat-enemy.entity';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {TileMapView} from '../../../../game/pow2/tile/tile-map-view';\nimport {CombatService} from '../../../models/combat/combat.service';\n\n/**\n * Completion callback for a player action.\n */\nexport interface IPlayerActionCallback {\n  (action: IPlayerAction, error?: any): void;\n}\n/**\n * A Player action during combat\n */\nexport interface IPlayerAction {\n  name: string;\n  from: GameEntityObject;\n  to: GameEntityObject;\n  act(then?: IPlayerActionCallback): boolean;\n}\n\n// Combat State Machine\n\n@Component({\n  selector: 'combat-state-machine',\n  template: `\n    <combat-start-state #start></combat-start-state>\n    <combat-begin-turn-state #beginTurn></combat-begin-turn-state>\n    <combat-choose-action-state\n      [pointAt]=\"current\"\n      #chooseAction></combat-choose-action-state>\n    <combat-end-turn-state #endTurn></combat-end-turn-state>\n    <combat-defeat-state #defeat></combat-defeat-state>\n    <combat-victory-state #victory></combat-victory-state>\n    <combat-escape-state #escape></combat-escape-state>\n  `\n})\nexport class CombatStateMachineComponent extends StateMachine implements AfterViewInit {\n  defaultState: string = CombatStartStateComponent.NAME;\n  world: GameWorld;\n  states: IState[] = [];\n  turnList: GameEntityObject[] = [];\n  playerChoices: {\n    [id: string]: IPlayerAction\n  } = {};\n  focus: GameEntityObject;\n  current: GameEntityObject;\n  currentDone: boolean = false;\n\n  constructor(private combatService: CombatService) {\n    super();\n  }\n\n  @Input() scene: Scene;\n  @Input() encounter: CombatEncounter;\n  @Input() party: QueryList<CombatPlayerComponent>;\n  @Input() enemies: QueryList<CombatEnemyComponent>;\n\n  @Input() view: TileMapView;\n\n  @ViewChildren('start,beginTurn,chooseAction,endTurn,defeat,victory,escape')\n  childStates: QueryList<CombatMachineState>;\n\n  ngAfterViewInit(): void {\n    this.addStates(this.childStates.toArray());\n    this.setCurrentState(this.getState(this.defaultState));\n  }\n\n  isFriendlyTurn(): boolean {\n    return !!(this.current && this.party.find((member) => member._uid === this.current._uid));\n  }\n\n  getLiveParty(): CombatPlayerComponent[] {\n    return this.party.filter((obj: CombatPlayerComponent) => {\n      return !this.combatService.isDefeated(obj.model);\n    });\n  }\n\n  getLiveEnemies(): CombatEnemyComponent[] {\n    return this.enemies.filter((obj: CombatEnemyComponent) => {\n      return !this.combatService.isDefeated(obj.model);\n    });\n  }\n\n  getRandomPartyMember(): GameEntityObject {\n    const players = <CombatPlayerComponent[]> _.shuffle(this.party.toArray());\n    while (players.length > 0) {\n      const p = players.shift();\n      if (!this.combatService.isDefeated(p.model)) {\n        return p;\n      }\n    }\n    return null;\n  }\n\n  getRandomEnemy(): GameEntityObject {\n    const players = <CombatEnemyComponent[]> _.shuffle(this.enemies.toArray());\n    while (players.length > 0) {\n      const p = players.shift();\n      if (!this.combatService.isDefeated(p.model)) {\n        return p;\n      }\n    }\n    return null;\n  }\n\n  partyDefeated(): boolean {\n    return this.getLiveParty().length === 0;\n  }\n\n  enemiesDefeated(): boolean {\n    return this.getLiveEnemies().length === 0;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/combat.machine.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {TickedBehavior} from '../../../../game/pow2/scene/behaviors/ticked-behavior';\nimport {TileObject} from '../../../../game/pow2/tile/tile-object';\nimport {Animator} from '../../../../game/pow2/core/animator';\nimport {Component} from '@angular/core';\nexport enum MoveFrames {\n  LEFT = 10,\n  RIGHT = 4,\n  DOWN = 7,\n  UP = 1,\n  LEFTALT = 11,\n  RIGHTALT = 5,\n  DOWNALT = 8,\n  UPALT = 2\n}\n\n// The order here maps to the first four frames in MoveFrames above.\n// It matters, don't change without care.\nexport enum Headings {\n  WEST = 0,\n  EAST = 1,\n  SOUTH = 2,\n  NORTH = 3\n}\n\n@Component({\n  selector: 'player-render-behavior',\n  template: `<ng-content></ng-content>`\n})\nexport class PlayerRenderBehaviorComponent extends TickedBehavior {\n  host: TileObject;\n  private _animator: Animator = new Animator();\n  heading: Headings = Headings.WEST;\n  animating: boolean = false;\n\n  setHeading(direction: Headings, animating: boolean) {\n    if (!this._animator.sourceAnims) {\n      this._animator.setAnimationSource(this.host.icon);\n    }\n    this.heading = direction;\n    switch (this.heading) {\n      case Headings.SOUTH:\n        this._animator.setAnimation('down');\n        break;\n      case Headings.NORTH:\n        this._animator.setAnimation('up');\n        break;\n      case Headings.EAST:\n        this._animator.setAnimation('right');\n        break;\n      case Headings.WEST:\n        this._animator.setAnimation('left');\n        break;\n      default:\n        console.warn('unsupported heading direction: ' + this.heading);\n        break;\n    }\n    this._animator.updateTime(0);\n    this.animating = animating;\n  }\n\n  setMoving(moving: boolean) {\n    this.animating = moving;\n  }\n\n  interpolateTick(elapsed: number) {\n    super.interpolateTick(elapsed);\n    if (this.animating) {\n      this._animator.updateTime(elapsed);\n    }\n    this.host.frame = this._animator.getFrame();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/behaviors/player-render.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Injectable} from '@angular/core';\n/**\n * Provide an API for animating elements with CSS transitions\n */\n@Injectable()\nexport class Animate {\n\n  /**\n   * Look up the transition event name for the browser type and cache it.\n   */\n  eventName: string = this.whichTransitionEvent();\n\n  enter(el: HTMLElement, cssClass: string): Promise<void> {\n    return new Promise<void>((resolve) => {\n      el.classList.add(cssClass);\n      const duration = this.getTransitionDuration(el, true);\n      let callTimeout;\n      const done = () => {\n        clearTimeout(callTimeout);\n        el.removeEventListener(this.eventName, done);\n        resolve();\n      };\n      callTimeout = setTimeout(() => done(), duration);\n      el.addEventListener(this.eventName, done);\n    });\n  }\n\n  leave(el: HTMLElement, cssClass: string): Promise<void> {\n    return new Promise<void>((resolve) => {\n      const duration = this.getTransitionDuration(el, true);\n      let callTimeout;\n      const done = () => {\n        clearTimeout(callTimeout);\n        el.removeEventListener(this.eventName, done);\n        resolve();\n      };\n      callTimeout = setTimeout(() => done(), duration);\n      el.addEventListener(this.eventName, done);\n      el.classList.remove(cssClass);\n    });\n  }\n\n  /**\n   * Get the duration of any transitions being applied to the given element.\n   *\n   * Based on: https://gist.github.com/snorpey/5323028\n   * @param element The element to query\n   * @param includeDelay Include any specified transition-delay value.\n   * @returns {number}\n   */\n  getTransitionDuration(element: HTMLElement, includeDelay: boolean = false) {\n    const prefixes = ['moz', 'webkit', 'ms', 'o', 'khtml'];\n    const style: any = window.getComputedStyle(element);\n    for (let i = 0; i < prefixes.length; i++) {\n      let duration = style['-' + prefixes[i] + '-transition-duration'];\n      if (!duration) {\n        continue;\n      }\n      duration = ( duration.indexOf('ms') > -1 ) ? parseFloat(duration) : parseFloat(duration) * 1000;\n      if (includeDelay) {\n        let delay = style['-' + prefixes[i] + '-transition-delay'];\n        if (typeof delay !== 'undefined') {\n          duration += ( delay.indexOf('ms') > -1 ) ? parseFloat(delay) : parseFloat(delay) * 1000;\n        }\n      }\n      return duration;\n    }\n    return 0;\n  }\n\n  /* From Modernizr */\n  whichTransitionEvent(): string {\n    let t: string;\n    const el: any = document.createElement('fakeelement');\n    const transitions: {[prefix: string]: string} = {\n      transition: 'transitionend',\n      OTransition: 'oTransitionEnd',\n      MozTransition: 'transitionend',\n      WebkitTransition: 'webkitTransitionEnd'\n    };\n\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/services/animate.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {data, ISpriteMeta} from '../../game/pow2/core/api';\nimport {Rect} from '../../game/pow-core/rect';\nimport {ImageResource} from '../../game/pow-core/resources/image.resource';\nimport {Injectable} from '@angular/core';\nimport {ResourceManager} from '../../game/pow-core/resource-manager';\n\n@Injectable()\nexport class SpriteRender {\n  static SIZE: number = 16;\n\n  static getSpriteSheetUrl(name: string): string {\n    return `assets/images/${name}.png`;\n  }\n\n  canvas: HTMLCanvasElement = null;\n  context: CanvasRenderingContext2D = null;\n\n  constructor(public loader: ResourceManager) {\n    this.canvas = document.createElement('canvas');\n    this.sizeCanvas(SpriteRender.SIZE, SpriteRender.SIZE);\n  }\n\n  sizeCanvas(width: number, height: number) {\n    this.canvas.width = width;\n    this.canvas.height = height;\n    this.context = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n    (<any> this.context).msImageSmoothingEnabled = false;\n    (<any> this.context).imageSmoothingEnabled = false;\n    (<any> this.context).webkitImageSmoothingEnabled = false;\n    (<any> this.context).mozImageSmoothingEnabled = false;\n  }\n\n  getSpriteSheet(name: string): Promise<ImageResource[]> {\n    return this.loader.load(SpriteRender.getSpriteSheetUrl(name));\n  }\n\n  getSingleSprite(spriteName: string, frame: number = 0): Promise<HTMLImageElement> {\n    let coords: any = data.sprites[spriteName];\n    if (!coords) {\n      return Promise.reject(`Unable to find sprite by name: ${spriteName}`);\n    }\n    return new Promise<HTMLImageElement>((resolve, reject) => {\n      this.getSpriteSheet(coords.source).then((images: ImageResource[]) => {\n        const image = images[0];\n        const cell: Rect = this.getSpriteRect(spriteName, frame);\n\n        // Resize render target to match cell size\n        this.sizeCanvas(cell.extent.x, cell.extent.y);\n\n        // Clear the canvas\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n        // Render the sprite to the canvas at 0,0\n        this.context.drawImage(image.data,\n          // x,y\n          cell.point.x, cell.point.y,\n          // width,height\n          cell.extent.x, cell.extent.y,\n          // target x,y\n          0, 0,\n          // target width,height\n          this.canvas.width, this.canvas.height);\n\n        // Serialize the canvas and return as an HTMLImageElement\n        const src: string = this.canvas.toDataURL();\n        const result: HTMLImageElement = new Image();\n        result.src = src;\n        result.onload = () => {\n          resolve(result);\n        };\n        result.onerror = (err) => {\n          reject(err);\n        };\n      });\n    });\n  }\n\n  getSpriteRect(name: string, frame: number = 0) {\n    const c: ISpriteMeta = this.getSpriteMeta(name);\n    let cx = c.x;\n    let sourceWidth: number = SpriteRender.SIZE;\n    let sourceHeight: number = SpriteRender.SIZE;\n    let cy = c.y;\n    if (c.frames > 1) {\n      if (c && typeof c.cellWidth !== 'undefined' && typeof c.cellHeight !== 'undefined') {\n        sourceWidth = c.cellWidth;\n        sourceHeight = c.cellHeight;\n      }\n      const cwidth = c.width / sourceWidth;\n      const fx = (frame % (cwidth));\n      const fy = Math.floor((frame - fx) / cwidth);\n      cx += fx * sourceWidth;\n      cy += fy * sourceHeight;\n    }\n    else {\n      sourceWidth = c.width;\n      sourceHeight = c.height;\n    }\n    return new Rect(cx, cy, sourceWidth, sourceHeight);\n  }\n\n  getSpriteMeta(name: string): ISpriteMeta {\n    const desc = data.sprites[name];\n    return desc;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/services/sprite-render.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Resource} from '../resource';\n/**\n * Use html image element to load an image resource.\n */\nexport class ImageResource extends Resource {\n  data: HTMLImageElement;\n\n  fetch(url?: string): Promise<ImageResource> {\n    this.url = url || this.url;\n    return new Promise<ImageResource>((resolve, reject) => {\n      const reference: HTMLImageElement = new Image();\n      reference.onload = () => {\n        this.data = reference;\n        resolve(this);\n      };\n      reference.onerror = (err: any) => {\n        reject(err);\n      };\n      reference.src = this.url;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/resources/image.resource.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {errors} from '../../errors';\nimport {\n  writeITiledObjectBase,\n  xml2Str,\n  writeITiledLayerBase,\n  readTiledProperties,\n  compactUrl,\n  readITiledLayerBase,\n  readITiledObject,\n  setElAttribute,\n  writeTiledProperties\n} from './tiled';\nimport {XMLResource} from '../xml.resource';\nimport {Resource} from '../../resource';\nimport {TiledTSXResource} from './tiled-tsx.resource';\nimport * as _ from 'underscore';\nimport * as $ from 'jquery';\nimport 'jquery';\nimport {ITiledObject, ITileSetDependency, ITiledLayer} from './tiled.model';\n\n/**\n * Use jQuery to load a TMX $map file from a URL.\n */\nexport class TiledTMXResource extends XMLResource {\n  $map: any; // The <map> element\n  width: number = 0;\n  height: number = 0;\n  orientation: string = 'orthogonal';\n  tileheight: number = 16;\n  tilewidth: number = 16;\n  version: number = 1;\n  properties: any = {};\n  tilesets: any = {};\n  layers: ITiledLayer[] = [];\n  xmlHeader: string = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>';\n\n  write(): any {\n    let root: any = $('<map/>');\n    setElAttribute(root, 'version', this.version);\n    setElAttribute(root, 'orientation', this.orientation);\n    setElAttribute(root, 'width', this.width);\n    setElAttribute(root, 'height', this.height);\n    setElAttribute(root, 'tilewidth', this.tilewidth);\n    setElAttribute(root, 'tileheight', this.tileheight);\n    writeTiledProperties(root, this.properties);\n\n    _.each(this.tilesets, (tileSet: any) => {\n      if (!tileSet.literal) {\n        throw new Error('Add support for inline TSX writing');\n      }\n      if (!tileSet.firstgid) {\n        throw new Error(errors.INVALID_ITEM);\n      }\n      const tilesetElement: any = $('<tileset/>');\n      tilesetElement.attr('firstgid', tileSet.firstgid);\n      tilesetElement.attr('source', tileSet.literal);\n      root.append(tilesetElement);\n    });\n\n    _.each(this.layers, (layer: ITiledLayer) => {\n      let layerElement: any = null;\n      if (typeof layer.data !== 'undefined') {\n        layerElement = $('<layer/>');\n        writeITiledObjectBase(layerElement, layer);\n        const dataElement: any = $('<data/>');\n\n        // Validate data length\n        const expectLength: number = this.width * this.height;\n        if (layer.data.length !== expectLength) {\n          throw new Error(errors.INVALID_ITEM);\n        }\n\n        // Only supports CSV. Add GZIP support some day.\n        dataElement.attr('encoding', 'csv');\n        dataElement.text(layer.data.join(','));\n        layerElement.append(dataElement);\n      }\n      else if (typeof layer.objects !== 'undefined') {\n        layerElement = $('<objectgroup/>');\n        _.each(layer.objects, (obj: ITiledObject) => {\n          const objectElement = $('<object/>');\n          writeITiledObjectBase(objectElement, obj);\n          writeTiledProperties(objectElement, obj.properties);\n          layerElement.append(objectElement);\n        });\n      }\n      else {\n        throw new Error(errors.INVALID_ITEM);\n      }\n      writeITiledLayerBase(layerElement, layer);\n      root.append(layerElement);\n    });\n    return this.xmlHeader + xml2Str(root[0]);\n  }\n\n  load(data?: any): Promise<Resource> {\n    this.data = data || this.data;\n    return new Promise<TiledTMXResource>((resolve, reject) => {\n      this.$map = this.getRootNode('map');\n      this.version = parseInt(this.getElAttribute(this.$map, 'version'), 10);\n      this.width = parseInt(this.getElAttribute(this.$map, 'width'), 10);\n      this.height = parseInt(this.getElAttribute(this.$map, 'height'), 10);\n      this.orientation = this.getElAttribute(this.$map, 'orientation');\n      this.tileheight = parseInt(this.getElAttribute(this.$map, 'tileheight'), 10);\n      this.tilewidth = parseInt(this.getElAttribute(this.$map, 'tilewidth'), 10);\n      this.properties = readTiledProperties(this.$map);\n      const tileSetDeps: ITileSetDependency[] = [];\n      const tileSets = this.getChildren(this.$map, 'tileset');\n      const relativePath: string = this.url.substr(0, this.url.lastIndexOf('/') + 1);\n      _.each(tileSets, (ts) => {\n        const source: string = this.getElAttribute(ts, 'source');\n        const firstGid: number = parseInt(this.getElAttribute(ts, 'firstgid') || '-1', 10);\n        if (source) {\n          tileSetDeps.push({\n            source: compactUrl(relativePath, source),\n            literal: source,\n            firstgid: firstGid\n          });\n        }\n        // Tileset element is inline, load from the existing XML and\n        // assign the source (used for relative image loading) to be\n        // the .tmx file.\n        else {\n          tileSetDeps.push({\n            data: ts,\n            source: relativePath,\n            firstgid: firstGid\n          });\n        }\n      });\n\n      // Extract tile <layer>s and <objectgroup>s\n      const layers = this.getChildren(this.$map, 'layer,objectgroup');\n      let failed: boolean = false;\n      _.each(layers, (layer) => {\n        if (failed) {\n          return;\n        }\n        const tileLayer: ITiledLayer = readITiledLayerBase(layer);\n        this.layers.push(tileLayer);\n\n        // Take CSV and convert it to JSON array, then parse.\n        const layerData: any = this.getChild(layer, 'data');\n        if (layerData) {\n          const encoding: string = this.getElAttribute(layerData, 'encoding');\n          if (!encoding || encoding.toLowerCase() !== 'csv') {\n            failed = true;\n            return reject(`pow-core only supports CSV maps. Edit the Map Properties (for:${this.url}) to use the CSV`);\n          }\n          tileLayer.data = JSON.parse('[' + $.trim(layerData.text()) + ']');\n        }\n\n        // Any custom color for this layer?\n        const color: string = this.getElAttribute(layer, 'color');\n        if (color) {\n          tileLayer.color = color;\n        }\n\n        // Read any child objects\n        const objects = this.getChildren(layer, 'object');\n        if (objects) {\n          tileLayer.objects = [];\n          _.each(objects, (object) => {\n            tileLayer.objects.push(readITiledObject(object));\n          });\n        }\n      });\n\n      // IF failed is set to true, the promise will already have been rejected, so we can return safely here.\n      if (failed) {\n        return;\n      }\n\n      // Load any source references.\n      const _next = (): any => {\n        if (tileSetDeps.length <= 0) {\n          return resolve(this);\n        }\n        const dep = tileSetDeps.shift();\n        if (dep.data) {\n          new TiledTSXResource()\n            .load(dep.data)\n            .then((resource: TiledTSXResource) => {\n              resource.relativeTo = relativePath;\n              resource.firstgid = dep.firstgid;\n              this.tilesets[resource.name] = resource;\n              _next();\n            })\n            .catch((e) => reject(e));\n        }\n        else if (dep.source) {\n          new TiledTSXResource()\n            .fetch(dep.source)\n            .then((resource: TiledTSXResource) => {\n              this.tilesets[resource.name] = resource;\n              resource.firstgid = dep.firstgid;\n              resource.literal = dep.literal;\n              _next();\n            })\n            .catch((e) => reject(e));\n        }\n        else {\n          reject('Unknown type of tile set data');\n        }\n      };\n      _next();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/resources/tiled/tiled-tmx.resource.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {XMLResource} from '../xml.resource';\nimport {ImageResource} from '../image.resource';\nimport * as _ from 'underscore';\nimport {ITileInstanceMeta, compactUrl, readTiledProperties} from './tiled';\nimport * as $ from 'jquery';\n\nexport class TilesetTile {\n  id: number;\n  properties: any = {};\n\n  constructor(id: number) {\n    this.id = id;\n  }\n}\n/**\n * A Tiled TSX tileset resource\n */\nexport class TiledTSXResource extends XMLResource {\n  name: string = null;\n  tilewidth: number = 16;\n  tileheight: number = 16;\n  imageWidth: number = 0;\n  imageHeight: number = 0;\n  image: ImageResource = null;\n  url: string;\n  firstgid: number = -1;\n  tiles: any[] = [];\n  relativeTo: string = null;\n  imageUrl: string = null;\n  literal: string = null; // The literal source path specified in xml\n  load(data?: any): Promise<TiledTSXResource> {\n    this.data = data || this.data;\n    return new Promise<TiledTSXResource>((resolve, reject) => {\n      const tileSet = this.getRootNode('tileset');\n      this.name = this.getElAttribute(tileSet, 'name');\n      this.tilewidth = parseInt(this.getElAttribute(tileSet, 'tilewidth'), 10);\n      this.tileheight = parseInt(this.getElAttribute(tileSet, 'tileheight'), 10);\n      const relativePath: string = this.url ? this.url.substr(0, this.url.lastIndexOf('/') + 1) : '';\n\n      // Load tiles and custom properties.\n      const tiles = this.getChildren(tileSet, 'tile');\n      _.each(tiles, (ts: any) => {\n        const id: number = parseInt(this.getElAttribute(ts, 'id'), 10);\n        const tile: TilesetTile = new TilesetTile(id);\n        tile.properties = readTiledProperties(ts);\n        this.tiles.push(tile);\n      });\n\n      const image: any = this.getChild(tileSet, 'img');\n      if (!image || image.length === 0) {\n        return resolve(this);\n      }\n      const source = this.getElAttribute(image, 'source');\n      this.imageWidth = parseInt(this.getElAttribute(image, 'width') || '0', 10);\n      this.imageHeight = parseInt(this.getElAttribute(image, 'height') || '0', 10);\n      this.imageUrl = compactUrl(this.relativeTo ? this.relativeTo : relativePath, source);\n      console.log(`Tileset source: ${this.imageUrl}`);\n\n      new ImageResource(this.imageUrl)\n        .fetch()\n        .then((res?: ImageResource) => {\n          this.image = res;\n          this.imageWidth = this.image.data.width;\n          this.imageHeight = this.image.data.height;\n\n          // Finally, build an expanded tileset from the known image w/h and the\n          // tiles with properties that are specified in the form of <tile> objects.\n          const xUnits = this.imageWidth / this.tilewidth;\n          const yUnits = this.imageHeight / this.tileheight;\n          const tileCount = xUnits * yUnits;\n          const tileLookup = new Array(tileCount);\n          for (let i = 0; i < tileCount; i++) {\n            tileLookup[i] = false;\n          }\n          _.each(this.tiles, (tile) => {\n            tileLookup[tile.id] = tile.properties;\n          });\n          this.tiles = tileLookup;\n\n          resolve(this);\n        })\n        .catch((e) => {\n          reject(`Failed to load required TileMap image: ${source} - ${e}`);\n        });\n    });\n  }\n\n  hasGid(gid: number): boolean {\n    return this.firstgid !== -1\n      && gid >= this.firstgid\n      && gid < this.firstgid + this.tiles.length;\n  }\n\n  getTileMeta(gidOrIndex: number): ITileInstanceMeta {\n    const index: number = this.firstgid !== -1 ? (gidOrIndex - (this.firstgid)) : gidOrIndex;\n    const tilesX = this.imageWidth / this.tilewidth;\n    const x = index % tilesX;\n    const y = Math.floor((index - x) / tilesX);\n    return _.extend(this.tiles[index] || {}, {\n      image: this.image,\n      url: this.imageUrl,\n      x: x * this.tilewidth,\n      y: y * this.tileheight,\n      width: this.tilewidth,\n      height: this.tileheight\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/resources/tiled/tiled-tsx.resource.ts","/*! Copyright (c) 2013-2017 Justin DuJardin and Contributors. MIT License. */\nimport * as _ from 'underscore';\nimport {ITiledBase, ITiledObject, ITiledLayerBase} from './tiled.model';\nimport * as $ from 'jquery';\nexport interface ITileInstanceMeta {\n  image: HTMLImageElement;\n  url: string;\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  data?: any;\n}\n\n// Tiled object XML reading utilities.\nexport function readITiledBase(el: any): ITiledBase {\n  return {\n    name: getElAttribute(el, 'name'),\n    x: parseInt(getElAttribute(el, 'x') || '0', 10),\n    y: parseInt(getElAttribute(el, 'y') || '0', 10),\n    width: parseInt(getElAttribute(el, 'width') || '0', 10),\n    height: parseInt(getElAttribute(el, 'height') || '0', 10),\n    visible: parseInt(getElAttribute(el, 'visible') || '1', 10) === 1, // 0 or 1,\n    _xml: el\n  };\n}\n\nexport function writeITiledBase(el: any, data: ITiledObject) {\n  setElAttribute(el, 'name', data.name);\n  if (data.type) {\n    setElAttribute(el, 'type', data.type);\n  }\n  if (data.x !== 0) {\n    setElAttribute(el, 'x', data.x);\n  }\n  if (data.y !== 0) {\n    setElAttribute(el, 'y', data.y);\n  }\n  setElAttribute(el, 'width', data.width);\n  setElAttribute(el, 'height', data.height);\n  if (data.visible === false) {\n    setElAttribute(el, 'visible', data.visible);\n  }\n  if (typeof data.color !== 'undefined') {\n    setElAttribute(el, 'color', data.color);\n  }\n}\n\nexport function writeITiledObjectBase(el: any, data: ITiledObject) {\n  writeITiledBase(el, data);\n}\n\nexport function readITiledObject(el: any): ITiledObject {\n  // Base layer properties\n  const result: ITiledObject = readITiledLayerBase(el);\n  const type: string = getElAttribute(el, 'type');\n  if (type) {\n    result.type = type;\n  }\n  return result;\n}\n\nexport function readITiledLayerBase(el: any): ITiledLayerBase {\n  // Base layer properties\n  const result: ITiledLayerBase = readITiledBase(el) as ITiledLayerBase;\n  // Layer opacity is 0-1\n  result.opacity = parseInt(getElAttribute(el, 'opacity') || '1', 10);\n  // Custom properties\n  const props = readTiledProperties(el);\n  if (props) {\n    result.properties = props;\n  }\n  return result;\n}\n\n// StackOverflow: http://stackoverflow.com/questions/14780350/convert-relative-path-to-absolute-using-javascript\nexport function compactUrl(base: string, relative: string) {\n  const stack = base.split('/');\n  const parts = relative.split('/');\n  stack.pop(); // remove current file name (or empty string)\n  // (omit if \"base\" is the current folder without trailing slash)\n  for (let i = 0; i < parts.length; i++) {\n    if (parts[i] === '.') {\n      continue;\n    }\n    if (parts[i] === '..') {\n      stack.pop();\n    }\n    else {\n      stack.push(parts[i]);\n    }\n  }\n  return stack.join('/');\n}\n\nexport function xml2Str(xmlNode) {\n\n  try {\n    // Gecko- and Webkit-based browsers (Firefox, Chrome), Opera.\n    return (new XMLSerializer()).serializeToString(xmlNode);\n  }\n  catch (e) {\n    try {\n      // Internet Explorer.\n      return xmlNode.xml;\n    }\n    catch (e) {\n      // Other browsers without XML Serializer\n      throw new Error('Xmlserializer not supported');\n    }\n  }\n}\n\nexport function writeITiledLayerBase(el: any, data: ITiledLayerBase) {\n  writeITiledBase(el, data);\n  setElAttribute(el, 'opacity', data.opacity);\n  writeTiledProperties(el, data.properties);\n}\n\nexport function readTiledProperties(el: any) {\n  const propsObject: any = getChild(el, 'properties');\n  if (propsObject && propsObject.length > 0) {\n    const properties = {};\n    let props = getChildren(propsObject, 'property');\n    _.each(props, (p) => {\n      const key = getElAttribute(p, 'name');\n      let value: any = getElAttribute(p, 'value');\n\n      // Do some horrible type guessing.\n      if (typeof value === 'string') {\n        let checkValue: any = value.toLowerCase();\n        let checkNumber = parseFloat(value);\n        if (checkValue === 'true' || checkValue === 'false') {\n          value = checkValue === 'true';\n        }\n        else if (!isNaN((checkNumber))) {\n          value = checkNumber;\n        }\n      }\n      properties[key] = value;\n    });\n    return properties;\n  }\n  return null;\n}\n\nexport function writeTiledProperties(el: any, data: any) {\n  const result: any = $('<properties/>');\n  _.each(data, (value: any, key: string) => {\n    const prop: any = $('<property/>');\n    setElAttribute(prop, 'name', key);\n    setElAttribute(prop, 'value', value);\n    result.append(prop);\n  });\n  if (result.children().length > 0) {\n    el.append(result);\n  }\n}\n\n// XML Utilities\n\nexport function getChildren(el: any, tag: string): any[] {\n  const list = el.find(tag);\n  return _.compact(_.map(list, (c) => {\n    const child: any = $(c);\n    return child.parent()[0] !== el[0] ? null : child;\n  }));\n}\n\nexport function getChild(el: any, tag: string): any {\n  return getChildren(el, tag)[0];\n}\n\nexport function setElAttribute(el: any, name: string, value: any) {\n  el.attr(name, value);\n}\n\nexport function getElAttribute(el: any, name: string): string {\n  return el.attr(name) || null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/resources/tiled/tiled.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {Injectable} from '@angular/core';\n\nexport interface IProcessObject {\n  _uid?: string;\n  tick?(elapsed?: number);\n  processFrame?(elapsed?: number);\n}\n\nlet _shared: Time = null;\n\n@Injectable()\nexport class Time {\n  tickRateMS: number = 32;\n  mspf: number = 0;\n  world: any = null;\n  lastTime: number = 0;\n  time: number = 0;\n  running: boolean = false;\n  objects: IProcessObject[] = [];\n\n  constructor() {\n    this.polyFillAnimationFrames();\n  }\n\n  static get(): Time {\n    if (!_shared) {\n      _shared = new Time();\n    }\n    return _shared;\n  }\n\n  start(): Time {\n    if (this.running) {\n      return;\n    }\n    this.running = true;\n    const _frameCallback: FrameRequestCallback = (time: number) => {\n      if (!this.running) {\n        return;\n      }\n      this.time = Math.floor(time);\n      const now: number = new Date().getMilliseconds();\n      const elapsed: number = Math.floor(time - this.lastTime);\n      if (elapsed >= this.tickRateMS) {\n        this.lastTime = time;\n        this.tickObjects(elapsed);\n      }\n      this.processFrame(elapsed);\n      this.mspf = new Date().getMilliseconds() - now;\n      window.requestAnimationFrame(_frameCallback);\n    };\n    _frameCallback(0);\n    return this;\n  }\n\n  stop(): Time {\n    this.running = false;\n    return this;\n  }\n\n  removeObject(object: IProcessObject): Time {\n    this.objects = _.reject(this.objects, (o: IProcessObject) => {\n      return o._uid === object._uid;\n    }) as IProcessObject[];\n    return this;\n  }\n\n  addObject(object: IProcessObject): Time {\n    if (!object._uid) {\n      object._uid = _.uniqueId('u');\n    }\n    if (_.where(this.objects, {_uid: object._uid}).length === 0) {\n      this.objects.push(object);\n    }\n    return this;\n  }\n\n  tickObjects(elapsedMS: number): Time {\n    const values: any[] = this.objects;\n    for (let i: number = values.length - 1; i >= 0; --i) {\n      if (values[i].tick) {\n        values[i].tick(elapsedMS);\n      }\n    }\n    return this;\n  }\n\n  processFrame(elapsedMS: number): Time {\n    const values: any[] = this.objects;\n    for (let i: number = values.length - 1; i >= 0; --i) {\n      if (values[i].processFrame) {\n        values[i].processFrame(elapsedMS);\n      }\n    }\n    return this;\n  }\n\n  polyFillAnimationFrames() {\n    let lastTime: number = 0;\n    const vendors: string[] = ['ms', 'moz', 'webkit', 'o'];\n    for (let i: number = 0; i < vendors.length; i++) {\n      if (window.requestAnimationFrame) {\n        return;\n      }\n      window.requestAnimationFrame = window[vendors[i] + 'RequestAnimationFrame'];\n    }\n    if (!window.requestAnimationFrame) {\n      window.requestAnimationFrame = (callback: FrameRequestCallback): number => {\n        const currTime: number = new Date().getTime();\n        const timeToCall: number = Math.max(0, 16 - (currTime - lastTime));\n        /* tslint:disable */\n        const tickListener: Function = function powRAFTimeTick() {\n          callback(currTime + timeToCall);\n        };\n        /* tslint:enable */\n        const id: number = window.setTimeout(tickListener, timeToCall);\n        lastTime = currTime + timeToCall;\n        return id;\n      };\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/time.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {SceneObjectBehavior} from '../scene-object-behavior';\nimport {SceneView} from '../scene-view';\nimport {Point} from '../../../pow-core/point';\n\nexport class CameraBehavior extends SceneObjectBehavior {\n  process(view: SceneView) {\n    view.camera.point.set(this.host.point);\n    view.cameraScale = view.context.canvas.width > 768 ? 4 : 2;\n    const screenPoint = new Point(view.context.canvas.width, view.context.canvas.height);\n    const canvasSize = view.screenToWorld(screenPoint, view.cameraScale);\n    view.camera.extent.set(canvasSize);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/behaviors/camera-behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {IPoint, Point} from '../../../pow-core/point';\nimport {SceneView} from '../../scene/scene-view';\nimport {ISpriteMeta} from '../../core/api';\n\nexport interface TileRenderable {\n  icon: string;\n  image: HTMLImageElement;\n  visible: boolean;\n  scale: number;\n  frame: number;\n}\n\nexport class TileObjectRenderer {\n  private _renderPoint: Point = new Point();\n\n  render(object: TileRenderable, at: IPoint, view: SceneView, spriteMeta?: ISpriteMeta) {\n\n    if (!object || object.visible === false || !object.image) {\n      return;\n    }\n\n    // Build render data.\n    this._renderPoint.set(at);\n    const point = this._renderPoint;\n    let sourceWidth: number = view.unitSize;\n    let sourceHeight: number = view.unitSize;\n    if (spriteMeta && typeof spriteMeta.cellWidth !== 'undefined' && typeof spriteMeta.cellHeight !== 'undefined') {\n      sourceWidth = spriteMeta.cellWidth;\n      sourceHeight = spriteMeta.cellHeight;\n    }\n    const objWidth = view.fastScreenToWorldNumber(sourceWidth);\n    const objHeight = view.fastScreenToWorldNumber(sourceHeight);\n    point.x -= objWidth * object.scale / 2;\n    point.y -= objHeight * object.scale / 2;\n    view.fastWorldToScreenPoint(point, point);\n\n    if (object.icon && spriteMeta) {\n      let cx = spriteMeta.x;\n      let cy = spriteMeta.y;\n      if (spriteMeta.frames > 1) {\n        const cwidth = spriteMeta.width / sourceWidth;\n        const fx = (object.frame % (cwidth));\n        const fy = Math.floor((object.frame - fx) / cwidth);\n        cx += fx * sourceWidth;\n        cy += fy * sourceHeight;\n      }\n      view.context.drawImage(object.image, cx, cy, sourceWidth, sourceHeight,\n        point.x, point.y, sourceWidth * object.scale, sourceHeight * object.scale);\n    }\n    else {\n      view.context.drawImage(object.image, point.x, point.y, sourceWidth * object.scale, sourceHeight * object.scale);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/tile/render/tile-object-renderer.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {SceneView} from '../scene/scene-view';\nimport {TileMapRenderer} from './render/tile-map-renderer';\nimport {TileMap} from './tile-map';\nimport {IRect} from '../../pow-core/rect';\nimport {CameraBehavior} from '../scene/behaviors/camera-behavior';\nimport {Point} from '../../pow-core';\n\nexport class TileMapView extends SceneView {\n  mapRenderer: TileMapRenderer = new TileMapRenderer();\n  map: TileMap;\n\n  /**\n   * The map view bounds in world space.\n   */\n  protected _bounds: Point = new Point();\n\n  public _onResize(event?: Event) {\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n    this._bounds.set(this.canvas.width, this.canvas.height);\n    this._bounds = this.screenToWorld(this._bounds);\n    const context: any = this.context;\n    context.webkitImageSmoothingEnabled = false;\n    context.mozImageSmoothingEnabled = false;\n    context.imageSmoothingEnabled = false;\n  }\n\n  /*\n   * Get the camera clip rectangle.\n   * @returns {Rect}\n   */\n  getCameraClip() {\n    if (!this.map) {\n      return this.camera;\n    }\n    const clipGrow = this.camera.clone();\n    clipGrow.point.round();\n    clipGrow.extent.round();\n\n    // Clamp to tilemap bounds.\n    const rect: IRect = this.map.bounds;\n    if (clipGrow.point.x < rect.point.x) {\n      clipGrow.point.x += rect.point.x - clipGrow.point.x;\n    }\n    if (clipGrow.point.y < rect.point.y) {\n      clipGrow.point.y += rect.point.y - clipGrow.point.y;\n    }\n    if (clipGrow.point.x + clipGrow.extent.x > rect.point.x + rect.extent.x) {\n      clipGrow.point.x -= ((clipGrow.point.x + clipGrow.extent.x) - (rect.point.x + rect.extent.x));\n    }\n    if (clipGrow.point.y + clipGrow.extent.y > rect.point.y + rect.extent.y) {\n      clipGrow.point.y -= ((clipGrow.point.y + clipGrow.extent.y) - (rect.point.y + rect.extent.y));\n    }\n    return clipGrow;\n  }\n\n  /*\n   * Update the camera for this frame.\n   */\n  processCamera() {\n    this.cameraComponent = this.findBehavior(CameraBehavior) as CameraBehavior;\n    if (!this.cameraComponent && this.map) {\n      this.cameraComponent = this.map.findBehavior(CameraBehavior) as CameraBehavior;\n    }\n    if (!this.cameraComponent) {\n      this.cameraComponent = this.scene.componentByType(CameraBehavior) as CameraBehavior;\n    }\n    super.processCamera();\n  }\n\n  /*\n   * Set the pre-render canvas state.\n   */\n  setRenderState() {\n    super.setRenderState();\n    if (!this.camera || !this.context || !this.map) {\n      return;\n    }\n    let worldCameraPos = this.worldToScreen(this.camera.point);\n    let worldTilePos = this.worldToScreen(this.map.bounds.point);\n    worldTilePos.x = parseFloat(worldTilePos.x.toFixed(2));\n    worldTilePos.y = parseFloat(worldTilePos.y.toFixed(2));\n    worldCameraPos.x = parseFloat(worldCameraPos.x.toFixed(2));\n    worldCameraPos.y = parseFloat(worldCameraPos.y.toFixed(2));\n    this.context.translate(worldTilePos.x - worldCameraPos.x, worldTilePos.y - worldCameraPos.y);\n  }\n\n  /*\n   * Render the tile $map, and any features it has.\n   */\n  renderFrame(elapsed: number) {\n    this.clearRect();\n    if (!this.map) {\n      return;\n    }\n    this.mapRenderer.render(this.map, this);\n    return this;\n  }\n\n  /**\n   * Draw any post-frame rendering effects.\n   */\n  renderPost() {\n    // nothing\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/tile/tile-map-view.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {TileObject} from './tile-object';\nimport {TileMap} from './tile-map';\nimport {SceneObjectBehavior} from '../scene/scene-object-behavior';\nexport class TileObjectBehavior extends SceneObjectBehavior {\n  host: TileObject;\n  isEntered: boolean;\n\n  /**\n   * Events triggered on host object for enter/exit of\n   * tiles.\n   */\n  static Events: any = {\n    ENTERED: 'tile:entered',\n    EXITED: 'tile:exited'\n  };\n\n  syncBehavior(): boolean {\n    return !!this.host.tileMap && this.host.tileMap instanceof TileMap;\n  }\n\n  disconnectBehavior(): boolean {\n    return true;\n  }\n\n  enter(object: TileObject): boolean {\n    return true;\n  }\n\n  entered(object: TileObject) {\n    this.host.trigger(TileObjectBehavior.Events.ENTERED, this);\n    this.isEntered = true;\n    return true;\n  }\n\n  exit(object: TileObject): boolean {\n    return true;\n  }\n\n  exited(object: TileObject) {\n    this.host.trigger(TileObjectBehavior.Events.EXITED, this);\n    this.isEntered = false;\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/tile/tile-object-behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {ImageResource} from '../../pow-core/resources/image.resource';\nimport {SpriteComponent} from './behaviors/sprite.behavior';\nimport {Scene} from '../scene/scene';\nimport {IPoint, Point} from '../../pow-core';\nimport {MovableBehavior} from '../scene/behaviors/movable-behavior';\nimport {GameWorld} from '../../../app/services/game-world';\nimport {TileMap} from './tile-map';\nimport {SceneObject} from '../scene/scene-object';\nimport {ISpriteMeta} from '../core/api';\n\nexport interface TileObjectOptions {\n  point?: IPoint;\n  renderPoint?: IPoint;\n  image?: HTMLImageElement;\n  scale?: number;\n  visible?: boolean;\n  enabled?: boolean;\n  tileMap: TileMap;\n\n  // Game Sprite support.\n  // ----------------------------------------------------------------------\n  // The sprite name, e.g. \"party.png\" or \"knight.png\"\n  icon?: string;\n  // The sprite sheet source information\n  meta?: any;\n  // The sprite sheet frame (if applicable)\n  frame?: number;\n}\n\nexport const DEFAULTS: TileObjectOptions = {\n  visible: true,\n  enabled: true,\n  icon: '',\n  scale: 1,\n  image: null,\n  tileMap: null\n};\n\nexport class TileObject extends SceneObject implements TileObjectOptions {\n  point: IPoint;\n  renderPoint: Point;\n  image: HTMLImageElement;\n  visible: boolean;\n  enabled: boolean;\n  tileMap: TileMap;\n  world: GameWorld;\n  scale: number;\n\n  private _icon: string;\n  set icon(value: string) {\n    this._updateIcon(value);\n    this._icon = value;\n  }\n\n  get icon(): string {\n    return this._icon;\n  }\n\n  meta: ISpriteMeta;\n  frame: number = 0;\n\n  constructor() {\n    super({});\n    _.extend(this, _.defaults({}, DEFAULTS));\n    return this;\n  }\n\n  setPoint(point: IPoint) {\n    const newPoint = new Point(point).round();\n    if (this.renderPoint) {\n      this.renderPoint = newPoint.clone();\n    }\n    this.point = newPoint.clone();\n    const moveComponent = this.findBehavior(MovableBehavior) as MovableBehavior;\n    if (moveComponent) {\n      moveComponent.targetPoint.set(newPoint);\n      moveComponent.path.length = 0;\n    }\n  }\n\n  /**\n   * When added to a scene, resolve a feature icon to a renderable sprite.\n   */\n  onAddToScene(scene: Scene) {\n    super.onAddToScene(scene);\n    if (this.icon) {\n      this.setSprite(this.icon);\n    }\n    if (!this.tileMap) {\n      this.tileMap = this.scene.objectByType(TileMap) as TileMap;\n    }\n  }\n\n  /**\n   * Set the current sprite name.  Returns the previous sprite name.\n   * TODO: Refactor to async friendly method (promise?)\n   */\n  setSprite(name: string, frame: number = 0): string {\n    const oldSprite: string = this.icon;\n    if (!name) {\n      this.meta = null;\n    }\n    else {\n      const world = GameWorld.get();\n      if (!world) {\n        return oldSprite;\n      }\n      const meta = world.sprites.getSpriteMeta(name);\n      world.sprites.getSpriteSheet(meta.source).then((images: ImageResource[]) => {\n        const image = images[0];\n        this.meta = meta;\n        this.image = image.data;\n        this.frame = frame;\n      });\n    }\n    this.icon = name;\n    return oldSprite;\n  }\n\n  _updateIcon(icon: string) {\n    const world = GameWorld.get();\n    if (!world || this._icon === icon) {\n      return;\n    }\n    const meta = world.sprites.getSpriteMeta(name);\n    if (meta) {\n      world.sprites.getSpriteSheet(meta.source).then((images: ImageResource[]) => {\n        const image = images[0];\n        this.meta = meta;\n        this.image = image.data;\n      });\n    }\n  }\n\n  getIcon() {\n    if (this.icon) {\n      return this.icon;\n    }\n    const spriteComponent = this.findBehavior(SpriteComponent) as SpriteComponent;\n    if (spriteComponent) {\n      return spriteComponent.icon;\n    }\n    return null;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/tile/tile-object.ts","module.exports = (__webpack_require__(2))(12);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/Subject.js from dll-reference vendor_lib\n// module id = 105\n// module chunks = 0","module.exports = (__webpack_require__(2))(423);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/observable/of.js from dll-reference vendor_lib\n// module id = 107\n// module chunks = 0","module.exports = (__webpack_require__(2))(67);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/operator/map.js from dll-reference vendor_lib\n// module id = 108\n// module chunks = 0","// Angular 2\nimport {enableDebugTools, disableDebugTools} from '@angular/platform-browser';\nimport {ApplicationRef, enableProdMode} from '@angular/core';\n// Environment Providers\nlet PROVIDERS: any[] = [\n  // common env directives\n];\n\n// Angular debug tools in the dev console\n// https://github.com/angular/angular/blob/86405345b781a9dc2438c0fbe3e9409245647019/TOOLS_JS.md\nlet _decorateModuleRef = <T>(value: T): T => {\n  return value;\n};\n\nif ('production' === ENV) {\n  enableProdMode();\n\n  // Production\n  _decorateModuleRef = (modRef: any) => {\n    disableDebugTools();\n\n    return modRef;\n  };\n\n  PROVIDERS = [\n    ...PROVIDERS,\n    // custom providers in production\n  ];\n\n} else {\n\n  _decorateModuleRef = (modRef: any) => {\n    const appRef = modRef.injector.get(ApplicationRef);\n    const cmpRef = appRef.components[0];\n\n    let _ng = (<any> window).ng;\n    enableDebugTools(cmpRef);\n    (<any> window).ng.probe = _ng.probe;\n    (<any> window).ng.coreTokens = _ng.coreTokens;\n    return modRef;\n  };\n\n  // Development\n  PROVIDERS = [\n    ...PROVIDERS,\n    // custom providers in development\n  ];\n\n}\n\nexport const decorateModuleRef = _decorateModuleRef;\n\nexport const ENV_PROVIDERS = [\n  ...PROVIDERS\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/environment.ts","module.exports = (__webpack_require__(2))(207);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/@angularclass/hmr/dist/index.js from dll-reference vendor_lib\n// module id = 110\n// module chunks = 0","import {Component, ViewEncapsulation} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {AppState} from './app.model';\nimport {GameWorld} from './services/game-world';\nimport {NotificationService} from './components/notification/notification.service';\n\n@Component({\n  selector: 'app',\n  encapsulation: ViewEncapsulation.None,\n  styles: [require('./app.component.scss')],\n  template: require('./app.component.html')\n})\nexport class AppComponent {\n\n  constructor(public store: Store<AppState>,\n              public world: GameWorld,\n              public notifications: NotificationService) {\n    // TODO: Game \"creation\" here, or state update from stored file.\n    //  - \"create\" will setup the ngrx/store for a new game file. It will download the latest game data from\n    //    the source, load sprite metadata files from disk, initialize the current map and cache it. This is\n    //    relatively expensive, but we can show some cool \"initializing game\" distractions to make it fun.\n    //  - \"state update\" is the fast load path for games that have been saved and are being resumed. The entirety\n    //    of the game data is loaded directly from a serialized JSON blob. This should avoid a bunch of network\n    //    requests, and hopefully bring the game back very quickly on load.\n\n    // TODO: Should the app component be responsible for setting up notifications?\n    // Maybe notification service should not need to be in the world, and should\n    // use setTimeout rather than rAF updates.\n    this.world.time.addObject(notifications);\n    this.world.mark(notifications);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/app.component.ts","import {Injectable} from '@angular/core';\nimport {Effect, Actions} from '@ngrx/effects';\nimport {\n  GameStateTravelAction,\n  GameStateTravelFailAction,\n  GameStateTravelSuccessAction\n} from './models/game-state/game-state.actions';\nimport {LoadingService} from './components/loading';\nimport {replace} from '@ngrx/router-store';\n\n/**\n * AppComponent effects describe the navigation side-effects of various game actions.\n */\n@Injectable()\nexport class AppEffects {\n\n  constructor(private actions$: Actions, private loadingService: LoadingService) {\n  }\n\n  /** When the game is loading or traveling, show the loading ui. */\n  @Effect({dispatch: false}) loadingIndicator$ = this.actions$\n    .ofType(GameStateTravelAction.typeId)\n    .distinctUntilChanged()\n    .do((action: GameStateTravelAction) => {\n      this.loadingService.message = `Traveling to ${action.payload.location}...`;\n      this.loadingService.loading = true;\n    });\n  /** When the game is done loading or traveling, hide the loading ui. */\n  @Effect({dispatch: false}) loadingDoneIndicator$ = this.actions$\n    .ofType(GameStateTravelSuccessAction.typeId, GameStateTravelFailAction.typeId)\n    .distinctUntilChanged()\n    .do((action: GameStateTravelSuccessAction | GameStateTravelFailAction) => {\n      this.loadingService.loading = false;\n    });\n\n  /** route update to world map */\n  @Effect() navigateToWorldRoute$ = this.actions$\n    .ofType(GameStateTravelSuccessAction.typeId)\n    .debounceTime(100)\n    .distinctUntilChanged()\n    .map((action: GameStateTravelSuccessAction) => {\n      return replace(['world', action.payload]);\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/app.effects.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {IMoveDescription, MovableBehavior} from '../../game/pow2/scene/behaviors/movable-behavior';\nimport {TileObject} from '../../game/pow2/tile/tile-object';\nimport {Point} from '../../game/pow-core/point';\nimport {Headings, PlayerRenderBehaviorComponent} from '../routes/world/behaviors/player-render.behavior';\nimport {TileObjectBehavior} from '../../game/pow2/tile/tile-object-behavior';\nimport {TileMap} from '../../game/pow2/tile/tile-map';\nimport {ITiledLayer} from '../../game/pow-core/resources/tiled/tiled.model';\nimport {SceneObject} from '../../game/pow2/scene/scene-object';\n\nexport class BasePlayerComponent extends MovableBehavior {\n  host: TileObject;\n  passableKeys: string[] = ['passable'];\n  // TODO: Pass in collide types during entity creation, and assert on invalid types.\n  static COLLIDE_TYPES: string[] = [\n    'TempleFeatureComponent',\n    'StoreFeatureComponent',\n    'DialogFeatureComponent',\n    'sign'\n  ];\n  private _lastFrame: number = 3;\n  private _renderFrame: number = 3;\n  heading: Point = new Point(0, -1);\n  sprite: PlayerRenderBehaviorComponent = null;\n  collideComponentType: any = TileObjectBehavior;\n\n  static Events: any = {\n    MOVE_BEGIN: 'move:begin',\n    MOVE_END: 'move:end'\n  };\n\n  syncBehavior(): boolean {\n    this.sprite = <PlayerRenderBehaviorComponent>\n      this.host.findBehavior(PlayerRenderBehaviorComponent);\n    return super.syncBehavior();\n  }\n\n  tick(elapsed: number) {\n    // There are four states and two rows.  The second row is all alt states, so mod it out\n    // when a move ends.\n    this._lastFrame = this._renderFrame > 3 ? this._renderFrame - 4 : this._renderFrame;\n    super.tick(elapsed);\n  }\n\n  interpolateTick(elapsed: number) {\n    super.interpolateTick(elapsed);\n    if (!this.sprite) {\n      return;\n    }\n    const xMove = this.targetPoint.x !== this.host.renderPoint.x;\n    const yMove = this.targetPoint.y !== this.host.renderPoint.y;\n    if (this.velocity.y > 0 && yMove) {\n      this.sprite.setHeading(Headings.SOUTH, yMove);\n      this.heading.set(0, 1);\n    }\n    else if (this.velocity.y < 0 && yMove) {\n      this.sprite.setHeading(Headings.NORTH, yMove);\n      this.heading.set(0, -1);\n    }\n    else if (this.velocity.x < 0 && xMove) {\n      this.sprite.setHeading(Headings.WEST, xMove);\n      this.heading.set(-1, 0);\n    }\n    else if (this.velocity.x > 0 && xMove) {\n      this.sprite.setHeading(Headings.EAST, xMove);\n      this.heading.set(1, 0);\n    }\n    else {\n      if (this.velocity.y > 0) {\n        this.sprite.setHeading(Headings.SOUTH, false);\n        this.heading.set(0, 1);\n      }\n      else if (this.velocity.y < 0) {\n        this.sprite.setHeading(Headings.NORTH, false);\n        this.heading.set(0, -1);\n      }\n      else if (this.velocity.x < 0) {\n        this.sprite.setHeading(Headings.WEST, false);\n        this.heading.set(-1, 0);\n      }\n      else if (this.velocity.x > 0) {\n        this.sprite.setHeading(Headings.EAST, false);\n        this.heading.set(1, 0);\n      }\n      else {\n        this.sprite.setMoving(false);\n      }\n    }\n  }\n\n  /**\n   * Determine if a point on the map collides with a given terrain\n   * attribute.  If the attribute is set to false, a collision occurs.\n   *\n   * @param at {Point} The point to check.\n   * @param passableAttribute {string} The attribute to check.\n   * @returns {boolean} True if the passable attribute was found and set to false.\n   */\n  collideWithMap(at: Point, passableAttribute: string): boolean {\n    let map = <TileMap> this.host.scene.objectByType(TileMap);\n    if (map) {\n      const layers: ITiledLayer[] = map.getLayers();\n      for (let i = 0; i < layers.length; i++) {\n        const terrain = map.getTileData(layers[i], at.x, at.y);\n        if (!terrain) {\n          continue;\n        }\n        if (terrain[passableAttribute] === false) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  collideMove(x: number, y: number, results: SceneObject[] = []) {\n    return false;\n  }\n\n  beginMove(move: IMoveDescription) {\n    let comp: TileObjectBehavior;\n    let o: TileObject;\n    let i;\n    this.host.trigger(BasePlayerComponent.Events.MOVE_BEGIN, this, move.from, move.to);\n    if (!this.collider) {\n      return;\n    }\n\n    const results = [];\n    this.collider.collide(move.from.x, move.from.y, TileObject, results);\n    for (i = 0; i < results.length; i++) {\n      o = results[i];\n      comp = <TileObjectBehavior> o.findBehavior(this.collideComponentType);\n      if (!comp || !comp.enter) {\n        continue;\n      }\n      if (comp.exit(this.host) === false) {\n        return;\n      }\n    }\n    results.length = 0;\n    this.collider.collide(move.to.x, move.to.y, TileObject, results);\n    for (i = 0; i < results.length; i++) {\n      o = results[i];\n      comp = <TileObjectBehavior> o.findBehavior(this.collideComponentType);\n      if (!comp || !comp.enter) {\n        continue;\n      }\n      if (comp.enter(this.host) === false) {\n        return;\n      }\n    }\n  }\n\n  // TODO: Refactor this to have a set of outputs for moving, and delegate the entered/exit logic\n  //       to the world-map entity.\n  completeMove(move: IMoveDescription) {\n    let comp;\n    this.host.trigger(BasePlayerComponent.Events.MOVE_END, this, move.from, move.to);\n    if (!this.collider) {\n      return;\n    }\n\n    // Trigger exit on previous components\n    const hits: TileObject[] = [];\n    this.collider.collide(move.from.x, move.from.y, TileObject, hits);\n    const fromObject: TileObject = _.find(hits, (o: TileObject) => {\n      return o._uid !== this.host._uid;\n    });\n    if (fromObject) {\n      comp = <TileObjectBehavior> fromObject.findBehavior(this.collideComponentType);\n      if (comp && comp.host._uid !== this.host._uid) {\n        comp.exited(this.host);\n      }\n    }\n\n    // Trigger enter on new components\n    hits.length = 0;\n    this.collider.collide(move.to.x, move.to.y, TileObject, hits);\n    const toObject: TileObject = _.find(hits, (o: TileObject) => {\n      return o._uid !== this.host._uid;\n    });\n    if (toObject) {\n      comp = <TileObjectBehavior> toObject.findBehavior(this.collideComponentType);\n      if (comp && comp.host._uid !== this.host._uid) {\n        comp.entered(this.host);\n      }\n    }\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/behaviors/base-player.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {AfterViewInit, Component, Input, OnDestroy} from '@angular/core';\nimport {SceneObjectBehavior} from '../../game/pow2/scene/scene-object-behavior';\nimport {Observable} from 'rxjs/Observable';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {Subscription} from 'rxjs/Subscription';\nimport {ImageResource} from '../../game/pow-core/resources/image.resource';\nimport {GameWorld} from '../services/game-world';\nimport {ISpriteMeta} from '../../game/pow2/core/api';\n\n@Component({\n  selector: 'sprite-render-behavior',\n  template: `\n    <ng-content></ng-content>`\n})\nexport class SpriteRenderBehaviorComponent extends SceneObjectBehavior implements AfterViewInit, OnDestroy {\n\n  constructor(public gameWorld: GameWorld) {\n    super();\n  }\n\n  private _icon$: BehaviorSubject<string> = new BehaviorSubject(null);\n  icon$: Observable<string> = this._icon$;\n\n  @Input() set icon(value: string) {\n    this._icon$.next(value);\n  }\n\n  get icon(): string {\n    return this._icon$.value;\n  }\n\n  private _subscription: Subscription;\n\n  meta: ISpriteMeta | null = null;\n  image: HTMLImageElement | null = null;\n\n  ngAfterViewInit(): void {\n    this._subscription = this.icon$.distinctUntilChanged().do((name: string) => {\n      if (!name) {\n        this.meta = null;\n        this.image = null;\n        return;\n      }\n      this.meta = this.gameWorld.sprites.getSpriteMeta(name);\n      if (this.meta) {\n        this.gameWorld.sprites.getSpriteSheet(this.meta.source).then((images: ImageResource[]) => {\n          this.image = images[0].data;\n        });\n      }\n    }).subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this._subscription.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/behaviors/sprite-render.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Component, Input} from '@angular/core';\nimport {BaseEntity} from '../../models/base-entity';\n\n@Component({\n  selector: 'rpg-health-bar',\n  styles: [require('./health-bar.component.scss')],\n  template: `\n  <div [ngClass]=\"getCSSClassMap()\" [style.width]=\"getProgressBarWidth() + '%'\">\n    <ng-content></ng-content>\n  </div>`\n})\nexport class RPGHealthBarComponent {\n  @Input()\n  model: BaseEntity;\n\n  getCSSClassMap(): {[className: string]: boolean} {\n    if (!this.model) {\n      return {};\n    }\n    const pct: number = Math.round(this.model.hp / this.model.maxhp * 100);\n    return {\n      dead: pct === 0,\n      critical: pct < 33,\n      hurt: pct < 66,\n      fine: pct > 66\n    };\n  }\n\n  getProgressBarWidth(): number {\n    let width = 0;\n    if (this.model && this.model) {\n      width = Math.ceil(this.model.hp / this.model.maxhp * 100);\n    }\n    return width;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/health-bar/health-bar.component.ts","import {RPGHealthBarComponent} from './health-bar.component';\n\nexport * from './health-bar.component';\n\nexport const RPG_HEALTH_BAR_EXPORTS = [\n  RPGHealthBarComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/health-bar/index.ts","import {Component, ChangeDetectionStrategy} from '@angular/core';\nimport {LoadingService} from './loading.service';\n\n@Component({\n  selector: 'loading',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n  <div class=\"loading fade\" *ngIf=\"loadingService.loading$ | async\">\n    <div class=\"loading-wrapper\">\n      <div class=\"loading-wrapper-inner hero-container\">\n        <h1>\n          <a target=\"_blank\" href=\"https://github.com/justindujardin/angular-rpg\">{{loadingService.title$ | async}}</a>\n        </h1>\n        <p>{{loadingService.message$ | async}}</p>\n      </div>\n    </div>\n  </div>`\n})\nexport class LoadingComponent {\n  constructor(public loadingService: LoadingService) {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/loading/loading.component.ts","import {RPGNotificationComponent} from './notification.component';\nimport {NotificationService} from './notification.service';\n\nexport * from './notification.component';\n\nexport const RPG_NOTIFICATION_EXPORTS = [\n  RPGNotificationComponent\n];\n\nexport const RPG_NOTIFICATION_PROVIDERS = [\n  NotificationService\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/notification/index.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Component, ElementRef} from '@angular/core';\nimport {NotificationService} from '../../services/index';\nimport {LoadingService} from '../loading/loading.service';\n\n@Component({\n  selector: 'rpg-notification',\n  styles: [require('./notification.component.scss')],\n  template: `<span class=\"message\" \n      [innerText]=\"notify.message\" \n      [class.loading]=\"loadingService.loading$ | async\">\n</span>`,\n})\nexport class RPGNotificationComponent {\n  constructor(public notify: NotificationService,\n              public loadingService: LoadingService,\n              private element: ElementRef) {\n    notify.container = element.nativeElement;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/notification/notification.component.ts","import {PartyInventoryComponent} from './party-inventory.component';\nexport const RPG_PARTY_INVENTORY_EXPORTS = [\n  PartyInventoryComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/party-inventory/index.ts","import {PartyMenuComponent} from './party-menu.component';\nexport const RPG_PARTY_MENU_EXPORTS = [\n  PartyMenuComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/party-menu/index.ts","import {Component, Input} from '@angular/core';\nimport {NotificationService, RPGGame} from '../../services/index';\nimport {AppState} from '../../app.model';\nimport {Store} from '@ngrx/store';\nimport {Observable} from 'rxjs';\nimport {getGameParty, getGamePartyGold} from '../../models/selectors';\nimport {Entity} from '../../models/entity/entity.model';\nimport {GameStateDeleteAction, GameStateSaveAction} from '../../models/game-state/game-state.actions';\nimport * as Immutable from 'immutable';\nimport {animate, style, transition, trigger} from '@angular/animations';\nimport {GameStateService} from '../../models/game-state/game-state.service';\n\nexport type PartyMenuStates = 'party' | 'inventory' | 'settings';\n\n@Component({\n  selector: 'party-menu',\n  styles: [require('./party-menu.component.scss')],\n  template: require('./party-menu.component.html'),\n  animations: [\n    trigger(\n      'card', [\n        transition(':enter', [\n          style({transform: 'translateY(100%)'}),\n          animate('110ms', style({transform: 'translateY(0)'}))\n        ]),\n        transition(':leave', [\n          style({transform: 'translateY(0)'}),\n          animate('110ms', style({transform: 'translateY(100%)'}))\n        ])\n      ]\n    ),\n    trigger(\n      'toolbar', [\n        transition(':enter', [\n          style({transform: 'translateY(-100%)'}),\n          animate('110ms', style({transform: 'translateY(0)'}))\n        ]),\n        transition(':leave', [\n          style({transform: 'translateY(0)'}),\n          animate('110ms', style({transform: 'translateY(-100%)'}))\n        ])\n      ]\n    ),\n    trigger(\n      'fab', [\n        transition(':enter', [\n          style({transform: 'translateY(100%)'}),\n          animate('110ms', style({transform: 'translateY(0)'}))\n        ]),\n        transition(':leave', [\n          style({transform: 'translateY(0)'}),\n          animate('110ms', style({transform: 'translateY(100%)'}))\n        ])\n      ]\n    )\n  ]\n})\nexport class PartyMenuComponent {\n  @Input()\n  page: PartyMenuStates = 'party';\n  @Input()\n  open: boolean = false;\n\n  partyGold$: Observable<number> = this.store.select(getGamePartyGold);\n  party$: Observable<Immutable.List<Entity>> = this.store.select(getGameParty);\n\n  resetGame() {\n    this.store.dispatch(new GameStateDeleteAction());\n  }\n\n  saveGame() {\n    this.store.dispatch(new GameStateSaveAction());\n  }\n\n  constructor(public game: RPGGame,\n              public store: Store<AppState>,\n              public gameStateService: GameStateService,\n              public notify: NotificationService) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/party-menu/party-menu.component.ts","import {PlayerCardComponent} from './player-card.component';\nexport const RPG_PLAYER_CARD_EXPORTS = [\n  PlayerCardComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/player-card/index.ts","import {PlayerStatsComponent} from './player-stats.component';\nexport const RPG_PLAYER_STATS_EXPORTS = [\n  PlayerStatsComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/player-stats/index.ts","import {RPGSpriteComponent} from './sprite.component';\n\nexport * from './sprite.component';\n\nexport const RPG_SPRITE_EXPORTS = [\n  RPGSpriteComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/sprite/index.ts","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\nimport {SpriteRender} from '../../services/sprite-render';\nimport {BehaviorSubject, Observable, ReplaySubject} from 'rxjs';\nimport {DomSanitizer, SafeResourceUrl} from '@angular/platform-browser';\n\n@Component({\n  selector: 'rpg-sprite',\n  styles: [require('./sprite.component.scss')],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `<img [style.width]=\"width$ | async\" [style.height]=\"height$ | async\" [src]=\"dataUrl$ | async\">`\n})\nexport class RPGSpriteComponent {\n\n  static INVALID_IMAGE: string = 'assets/images/a/blank.gif';\n\n  private _dataUrl$ = new ReplaySubject<SafeResourceUrl>(1);\n  dataUrl$: Observable<SafeResourceUrl> = this._dataUrl$;\n  private _width$ = new BehaviorSubject<string>('64');\n  width$: Observable<string> = this._width$;\n  private _height$ = new BehaviorSubject<string>('64');\n  height$: Observable<string> = this._height$;\n  private _name$ = new BehaviorSubject<string>(RPGSpriteComponent.INVALID_IMAGE);\n  name$: Observable<string> = this._name$;\n  private _frame$ = new BehaviorSubject<number>(0);\n  frame$: Observable<number> = this._frame$;\n\n  @Input()\n  set width(value: string) {\n    this._width$.next(value);\n  }\n\n  @Input()\n  set height(value: string) {\n    this._height$.next(value);\n  }\n\n  @Input()\n  set frame(value: number) {\n    if (this._frame$.value !== value) {\n      this._frame$.next(value);\n      this._get(this._name$.value);\n    }\n  }\n\n  @Input()\n  set name(value: string) {\n    if (!value) {\n      this._name$.next(RPGSpriteComponent.INVALID_IMAGE);\n      return;\n    }\n    this._name$.next(value);\n    this._get(value);\n  }\n\n  styleBackground: string = 'rgba(0,0,0,1)';\n  /**\n   * Use a singleton canvas for rendering all sprites\n   */\n  private static _renderCanvas: HTMLCanvasElement;\n  private _canvasAcquired: boolean = false;\n\n  constructor(private sanitizer: DomSanitizer,\n              private renderer: SpriteRender) {\n    if (!RPGSpriteComponent._renderCanvas) {\n      RPGSpriteComponent._renderCanvas = document.createElement('canvas') as HTMLCanvasElement;\n      RPGSpriteComponent._renderCanvas.width = RPGSpriteComponent._renderCanvas.height = 64;\n      RPGSpriteComponent._renderCanvas.style.position = 'absolute';\n      RPGSpriteComponent._renderCanvas.style.left = RPGSpriteComponent._renderCanvas.style.top = '-9000px';\n    }\n  }\n\n  /**\n   * Returns a canvas rendering context that may be drawn to.  A corresponding\n   * call to releaseRenderContext will return the drawn content of the context.\n   */\n  getRenderContext(width: number, height: number): CanvasRenderingContext2D {\n    if (this._canvasAcquired) {\n      throw new Error('Only one rendering canvas is available at a time.' +\n        ' Check for calls to this function without corresponding releaseCanvas() calls.');\n    }\n    this._canvasAcquired = true;\n    RPGSpriteComponent._renderCanvas.width = width;\n    RPGSpriteComponent._renderCanvas.height = height;\n    const context: any = RPGSpriteComponent._renderCanvas.getContext('2d');\n    context.webkitImageSmoothingEnabled = false;\n    context.mozImageSmoothingEnabled = false;\n    context.msImageSmoothingEnabled = false;\n    (<any> context).imageSmoothingEnabled = false;\n    return context;\n  }\n\n  /**\n   * Call this after getRenderContext to finish rendering and have the source\n   * of the canvas content returned as a data url string.\n   */\n  releaseRenderContext(): string {\n    this._canvasAcquired = false;\n    return RPGSpriteComponent._renderCanvas.toDataURL();\n  }\n\n  private _get(src: string) {\n    if (!src || src === RPGSpriteComponent.INVALID_IMAGE) {\n      this._dataUrl$.next(RPGSpriteComponent.INVALID_IMAGE);\n      return;\n    }\n    this.renderer.getSingleSprite(src, this._frame$.value).then((sprite: HTMLImageElement) => {\n      // Get the context for drawing\n      const width: number = parseInt(this._width$.value, 10);\n      const height: number = parseInt(this._height$.value, 10);\n\n      const renderContext: any = this.getRenderContext(width, height);\n      renderContext.clearRect(0, 0, width, height);\n      renderContext.drawImage(sprite, 0, 0, width, height);\n      const imageDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.releaseRenderContext());\n      this._dataUrl$.next(imageDataUrl);\n    });\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/sprite/sprite.component.ts","import * as Immutable from 'immutable';\nimport {TypedRecord} from 'typed-immutable-record';\nimport {assertTrue} from './util';\nimport {ITemplateId} from './game-data/game-data.model';\n\n/**\n * Most basic entity only has an `eid` unique identifier for indexing.\n */\nexport interface EntityObject {\n  eid: string;\n}\n\n/**\n * Hidden attributes that are used to differentiate base level of competency for\n * a character in a given category. If a player has a high baseattack, they will\n * in general do more damage than others.\n *\n * TODO: How to balance this? I've been generally trying allocating (n) points total for hidden attributes.\n * Needs further thought and documentation.\n */\nexport interface IHiddenAttributes {\n  /**\n   * Base attack value\n   */\n  readonly baseattack: number;\n  /**\n   * Base defense value\n   */\n  readonly basedefense: number;\n  /**\n   * Base magic value\n   */\n  readonly basemagic: number;\n  /**\n   * Base speed value\n   */\n  readonly basespeed: number;\n}\n\n/**\n * The most basic form of an entity is the template used to create an instance. It differs\n * from a {@see BaseEntity} in that it does not have `maxmp` or `maxhp` properties. When an\n * instance is created from a template, `maxmp` and `maxhp` are assigned from the `hp` and `mp` properties.\n */\nexport interface TemplateEntity extends EntityObject {\n  /** User readable name */\n  readonly name?: string;\n  /** Icon to render the entity with */\n  readonly icon: string;\n  /** The entity level */\n  readonly level: number;\n  /** Current magic points */\n  readonly mp: number;\n  /** Current health points */\n  readonly hp: number;\n  /** Attack strength */\n  readonly attack: number;\n  /** Defense effectiveness */\n  readonly defense: number;\n  /** Magic strength */\n  readonly magic: number;\n  /** Agility/Dexterity */\n  readonly speed: number;\n\n}\n\n/** Basic model for a life form */\nexport interface BaseEntity extends TemplateEntity {\n  /** Maximum magic points */\n  readonly maxmp: number;\n  /** Maximum health points */\n  readonly maxhp: number;\n}\n\n/** Describe a collection of entities of a single type */\nexport interface EntityCollection<T> {\n  byId: Immutable.Map<string, T>;\n  allIds: Immutable.List<string>;\n}\n\nexport type EntityCollectionItem = BaseEntity | ITemplateId;\n\n/**\n * Entity collection record. DO NOT USE outside of models/ folder.\n * @private\n * @internal\n */\nexport interface EntityCollectionRecord extends TypedRecord<EntityCollectionRecord>, EntityCollection<BaseEntity> {\n}\n\n/**\n * @internal Add an entity to a given collection, and return a new collection. If there\n * is already an object with the given ID, the existing collection will be returned.\n */\nexport function addEntityToCollection(collection: EntityCollectionRecord,\n                                      entity: EntityCollectionItem, entityId: string): EntityCollectionRecord {\n  const index = collection.allIds.indexOf(entityId);\n  assertTrue(index === -1, `item (${entityId}) already exists in collection`);\n  collection = collection.updateIn(['allIds'], (allIds: Immutable.List<string>) => {\n    return allIds.push(entityId);\n  });\n  return collection.updateIn(['byId'], (byId: Immutable.Map<string, EntityCollectionItem>) => {\n    return byId.set(entityId, entity);\n  });\n}\n\n/**\n * @internal Update an entity in the given collection, and return a new collection. If there\n * is no object with the given ID, throw.\n */\nexport function mergeEntityInCollection(collection: EntityCollectionRecord,\n                                        entity: Partial<BaseEntity | ITemplateId>,\n                                        entityId: string): EntityCollectionRecord {\n  const index = collection.allIds.indexOf(entityId);\n  assertTrue(index !== -1, `item (${entityId}) does not exist in collection`);\n  return collection.updateIn(['byId'], (byId: Immutable.Map<string, BaseEntity>) => {\n    return byId.set(entityId, Immutable.Map<string, any>(byId.get(entityId)).merge(entity).toJS());\n  });\n}\n\n/**\n * @internal Remove an entity from a collection. IF the entity does not exist, return the\n * input collection, otherwise return a copy of the new collection.\n */\nexport function removeEntityFromCollection(collection: EntityCollectionRecord,\n                                           entityId: string): EntityCollectionRecord {\n  const index = collection.allIds.indexOf(entityId);\n  assertTrue(index !== -1, `item (${entityId}) does not exist in collection`);\n  collection = collection.updateIn(['allIds'], (allIds) => allIds.filter((id) => id !== entityId));\n  return collection.updateIn(['byId'], (byId: Immutable.Map<string, BaseEntity>) => byId.remove(entityId));\n}\n\n/**\n * Convert input Plain JSON object into an Immutable.js representation with the correct records.\n * @param object The input values.\n */\nexport function entityCollectionFromJSON(object: EntityCollection<any>): EntityCollection<any> {\n  return {\n    byId: Immutable.Map<string, any>(object.byId),\n    allIds: Immutable.List<string>(object.allIds)\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/base-entity.ts","import {GameDataResource} from './game-data.resource';\nimport {Injectable} from '@angular/core';\nimport {ResourceManager} from '../../../game/pow-core/resource-manager';\nimport {Store} from '@ngrx/store';\nimport {AppState} from '../../app.model';\nimport {SPREADSHEET_ID} from './game-data.model';\nimport {GameDataAddSheetAction} from './game-data.actions';\nimport {Observable} from 'rxjs/Observable';\n\n@Injectable()\nexport class GameDataService {\n\n  constructor(public loader: ResourceManager, public store: Store<AppState>) {\n  }\n\n  /** Load game data from google spreadsheet */\n  loadGameData(spreadsheetId: string = SPREADSHEET_ID): Observable<void> {\n    return Observable.fromPromise(this.loader.loadAsType(spreadsheetId, GameDataResource).then((resource) => {\n      this.store.dispatch(new GameDataAddSheetAction('weapons', resource.data.weapons));\n      this.store.dispatch(new GameDataAddSheetAction('armor', resource.data.armor));\n      this.store.dispatch(new GameDataAddSheetAction('items', resource.data.items));\n      this.store.dispatch(new GameDataAddSheetAction('enemies', resource.data.enemies));\n      this.store.dispatch(new GameDataAddSheetAction('magic', resource.data.magic));\n      this.store.dispatch(new GameDataAddSheetAction('classes', resource.data.classes));\n      this.store.dispatch(new GameDataAddSheetAction('randomEncounters', resource.data.randomencounters));\n      this.store.dispatch(new GameDataAddSheetAction('fixedEncounters', resource.data.fixedencounters));\n    }));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-data/game-data.service.ts","import {compose} from '@ngrx/core/compose';\nimport {ActionReducer, combineReducers} from '@ngrx/store';\nimport {storeFreeze} from 'ngrx-store-freeze';\nimport {routerReducer} from '@ngrx/router-store';\nimport * as fromGameState from './game-state/game-state.reducer';\nimport * as fromGameData from './game-data/game-data.reducer';\nimport {gameDataFromJSON} from './game-data/game-data.reducer';\nimport * as fromCombat from './combat/combat.reducer';\nimport {combatFromJSON} from './combat/combat.reducer';\nimport * as fromEntity from './entity/entity.reducer';\nimport * as fromSprites from './sprites/sprites.reducer';\nimport {spritesFromJSON} from './sprites/sprites.reducer';\nimport {entityFromJSON} from './entity/entity.reducer';\nimport {GameStateLoadSuccessAction} from './game-state/game-state.actions';\nimport {gameStateFromJSON} from './game-state/game-state.reducer';\nimport {rpgLogger} from './logger';\n\nexport const reducers = {\n  router: routerReducer,\n  gameData: fromGameData.gameDataReducer,\n  gameState: fromGameState.gameStateReducer,\n  combat: fromCombat.combatReducer,\n  entities: fromEntity.entityReducer,\n  sprites: fromSprites.spritesReducer\n};\n\n// Generate a reducer to set the root state in dev mode for HMR\nfunction stateSetter(reducer: ActionReducer<any>): ActionReducer<any> {\n  return (state, action) => {\n    switch (action.type) {\n      case 'SET_ROOT_STATE':\n      case GameStateLoadSuccessAction.typeId:\n        return {\n          ...action.payload,\n          gameState: gameStateFromJSON(action.payload.gameState),\n          entities: entityFromJSON(action.payload.entities),\n          gameData: gameDataFromJSON(action.payload.gameData),\n          combat: combatFromJSON(action.payload.combat),\n          sprites: spritesFromJSON(action.payload.sprites)\n        };\n      default:\n        return reducer(state, action);\n    }\n  };\n}\n\nconst DEV_REDUCERS = [stateSetter, storeFreeze, rpgLogger];\nconst PROD_REDUCERS = [stateSetter];\n\nconst developmentReducer = compose(...DEV_REDUCERS, combineReducers)(reducers);\nconst productionReducer = compose(...PROD_REDUCERS, combineReducers)(reducers);\n\nexport function rootReducer(state: any, action: any) {\n  if (ENV !== 'development') {\n    return productionReducer(state, action);\n  } else {\n    return developmentReducer(state, action);\n  }\n}\n\nexport const MODEL_PROVIDERS: any[] = [];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/index.ts","import {Entity} from './entity/entity.model';\n/**\n * Leveling is important--It's the difference between being able to summon a chicken and\n * a dragon. That being said, there has not been enough thought put into this system. It\n * is still malleable if someone feels inspired.\n *\n * This file contains a set of functions that will return stat values related to leveling\n * game players. You can {@see getXPForLevel} or {@see getStrengthForLevel} and pass in the\n * associated {@see Entity} model.\n *\n * @fileOverview\n */\n\n/**\n * Level experience breakpoints where each index represents how much experience is required\n * to advance to the next level. In this way the value of 0 for index 0 ensures that you will\n * always immediately advance to level 1 as a new character.\n */\nconst LEVEL_EXPERIENCE = [\n  0,\n  32,\n  96,\n  208,\n  400,\n  672,\n  1056,\n  1552,\n  2184,\n  2976\n];\n\nexport function getXPForLevel(level: number) {\n  return LEVEL_EXPERIENCE[level === 0 ? level : level - 1];\n}\n\nexport function getHPForLevel(level: number, model: Entity) {\n  return Math.floor(model.defense * Math.pow(level, 1.1)) + (model.basedefense * 2);\n}\n\nexport function getStrengthForLevel(level: number, model: Entity) {\n  return Math.floor(model.baseattack * Math.pow(level, 0.65));\n}\n\nexport function getAgilityForLevel(level: number, model: Entity) {\n  return Math.floor(model.basespeed * Math.pow(level, 0.95));\n}\n\nexport function getVitalityForLevel(level: number, model: Entity) {\n  return Math.floor(model.basedefense * Math.pow(level, 0.95));\n}\n\nexport function getIntelligenceForLevel(level: number, model: Entity) {\n  return Math.floor(model.basemagic * Math.pow(level, 0.95));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/levels.ts","import {Injectable} from '@angular/core';\nimport {JSONResource} from '../../../game/pow-core/resources/json.resource';\nimport {ResourceManager} from '../../../game/pow-core/resource-manager';\nimport {AppState} from '../../app.model';\nimport {Store} from '@ngrx/store';\nimport {SpritesRegisterAction} from './sprites.actions';\nimport {getSpritesLoaded} from '../selectors';\nimport {SpriteDataMap} from './sprites.model';\nimport {Observable} from 'rxjs/Observable';\nimport * as _ from 'underscore';\nimport {registerSprites} from '../../../game/pow2/core/api';\n\n@Injectable()\nexport class SpritesService {\n\n  constructor(private resourceLoader: ResourceManager,\n              private store: Store<AppState>) {\n  }\n\n  /** Preload sprite sheet metadata */\n  loadSprites(indexMetaUrl: string): Observable<void> {\n    return this.store.select(getSpritesLoaded)\n      .take(1)\n      .switchMap((loaded: boolean) => {\n        if (!loaded) {\n          return Observable.fromPromise(this.resourceLoader.load(indexMetaUrl)\n            .then((res: JSONResource[]) => {\n              const jsonRes = res[0];\n              const sources = _.map(jsonRes.data, (baseName: string) => {\n                return `${baseName}.json`;\n              });\n              return Promise.all(_.map(sources, (fileName: string) => {\n                return this.resourceLoader.load(fileName)\n                  .then((spritesLoaded: JSONResource[]) => {\n                    const meta: SpriteDataMap = spritesLoaded[0].data;\n                    this.store.dispatch(new SpritesRegisterAction(meta));\n                    registerSprites(fileName, meta);\n                  });\n              }));\n            })\n            .then(() => Promise.resolve<void>(undefined)));\n        }\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/sprites/sprites.service.ts","import * as _ from 'underscore';\nimport {Component} from '@angular/core';\nimport {TickedBehavior} from '../../../../game/pow2/scene/behaviors/ticked-behavior';\nimport {Headings} from '../../world/behaviors/player-render.behavior';\nimport {AnimatedBehaviorComponent, IAnimationConfig} from '../../../behaviors/animated.behavior';\nimport {Point} from '../../../../game/pow-core/point';\nimport {CombatService} from '../../../models/combat/combat.service';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nexport enum StateFrames {\n  DEFAULT = 10,\n  SWING = 1,\n  INJURED = 2,\n  WALK = 3,\n  STRIKE = 3,\n  CELEBRATE = 4,\n  DEAD = 5\n}\n\n@Component({\n  selector: 'combat-player-render-behavior',\n  template: `<ng-content></ng-content>`\n})\nexport class CombatPlayerRenderBehaviorComponent extends TickedBehavior {\n  _elapsed: number = 0;\n  private _renderFrame: number = 3;\n  state: string = '';\n  animating: boolean = false;\n  animator: AnimatedBehaviorComponent = null;\n  attackDirection: Headings = Headings.WEST;\n  host: GameEntityObject;\n\n  constructor(private combatService: CombatService) {\n    super();\n  }\n\n  syncBehavior(): boolean {\n    this.animator = this.host.findBehavior(AnimatedBehaviorComponent) as AnimatedBehaviorComponent;\n    return super.syncBehavior();\n  }\n\n  setState(name: string = 'Default') {\n    this.state = name;\n  }\n\n  attack(attackCb: () => any, cb?: () => void) {\n    this._attack(cb, this.getAttackAnimation(attackCb));\n  }\n\n  magic(attackCb: () => any, cb?: () => void) {\n    this._attack(cb, this.getMagicAnimation(attackCb));\n  }\n\n  getForwardDirection(): number {\n    return this.attackDirection === Headings.WEST ? -1 : 1;\n  }\n\n  getBackwardDirection(): number {\n    return this.attackDirection === Headings.WEST ? 1 : -1;\n  }\n\n  getForwardFrames(): number[] {\n    return this.attackDirection === Headings.WEST ? [9, 11, 10] : [3, 5, 4];\n  }\n\n  getBackwardFrames(): number[] {\n    return this.attackDirection === Headings.WEST ? [10, 11, 9] : [4, 5, 3];\n  }\n\n  getAttackFrames(): number[] {\n    return this.attackDirection === Headings.WEST ? [12, 13, 14, 15, 14, 13, 12] : [4, 5, 6, 7, 6, 5, 4];\n  }\n\n  getMagicAnimation(strikeCb: () => any) {\n    return [\n      {\n        name: 'Prep Animation',\n        callback: () => {\n          this.host.setSprite(this.host.icon.replace('.png', '-magic.png'), 19);\n        }\n      },\n      {\n        name: 'Magic cast',\n        repeats: 0,\n        duration: 1000,\n        frames: [19, 18, 17, 16, 15],\n        callback: () => {\n          if (strikeCb) {\n            strikeCb();\n          }\n        }\n      },\n      {\n        name: 'Back to rest',\n        repeats: 0,\n        duration: 1000,\n        frames: [15, 16, 17, 18, 19],\n        callback: () => {\n          this.host.setSprite(this.host.icon.replace('-magic.png', '.png'), 10);\n        }\n      }\n\n    ];\n  }\n\n  getAttackAnimation(strikeCb: () => any) {\n    return [\n      {\n        name: 'Move Forward for Attack',\n        repeats: 0,\n        duration: 250,\n        frames: this.getForwardFrames(),\n        move: new Point(this.getForwardDirection(), 0),\n        callback: () => {\n          const attackAnimationsSource = this.host.icon.replace('.png', '-attack.png');\n          if (this.host.world.sprites.getSpriteMeta(attackAnimationsSource)) {\n            this.host.setSprite(attackAnimationsSource, 12);\n          }\n        }\n      },\n      {\n        name: 'Strike at Opponent',\n        repeats: 1,\n        duration: 100,\n        frames: this.getAttackFrames(),\n        callback: () => {\n          this.host.setSprite(this.host.icon.replace('-attack.png', '.png'), 10);\n          if (strikeCb) {\n            strikeCb();\n          }\n        }\n      },\n      {\n        name: 'Return to Party',\n        duration: 250,\n        repeats: 0,\n        frames: this.getBackwardFrames(),\n        move: new Point(this.getBackwardDirection(), 0)\n      }\n    ];\n  }\n\n  moveForward(then?: () => any) {\n    this._playAnimation([{\n      name: 'Move Forward',\n      repeats: 0,\n      duration: 250,\n      frames: this.getForwardFrames(),\n      move: new Point(this.getForwardDirection(), 0)\n    }], then);\n  }\n\n  moveBackward(then?: () => any) {\n    this._playAnimation([{\n      name: 'Move Backward',\n      repeats: 0,\n      duration: 250,\n      frames: this.getBackwardFrames(),\n      move: new Point(this.getBackwardDirection(), 0)\n    }], then);\n  }\n\n  _playAnimation(animation: IAnimationConfig[], then: () => any) {\n    if (!this.animator || this.animating) {\n      return;\n    }\n    const animations: IAnimationConfig[] = _.map(animation, (anim: IAnimationConfig) => {\n      const result = _.extend({}, anim);\n      if (typeof result.move !== 'undefined') {\n        result.move = result.move.clone();\n      }\n      return result;\n    });\n    this.animating = true;\n    this.animator.playChain(animations, () => {\n      this.animating = false;\n      if (then) {\n        then();\n      }\n    });\n  }\n\n  _attack(cb: () => void, attackAnimation: any) {\n    if (!this.animator || this.animating) {\n      return;\n    }\n    const animations: IAnimationConfig[] = _.map(attackAnimation, (anim: IAnimationConfig) => {\n      const result = _.extend({}, anim);\n      if (typeof result.move !== 'undefined') {\n        result.move = result.move.clone();\n      }\n      return result;\n    });\n    this.animating = true;\n    this.animator.playChain(animations, () => {\n      this.animating = false;\n      if (cb) {\n        cb();\n      }\n    });\n  }\n\n  interpolateTick(elapsed: number) {\n    super.interpolateTick(elapsed);\n\n    if (!this.animating) {\n\n      // Choose frame for interpolated position\n      const factor = this._elapsed / this.tickRateMS;\n      const altFrame = (factor > 0.0 && factor < 0.5);\n      let frame = StateFrames.DEFAULT;\n      switch (this.state) {\n        case 'Injured':\n          frame = StateFrames.DEFAULT;\n          break;\n        case 'Dead':\n          frame = StateFrames.DEFAULT;\n          break;\n        case 'Attacking':\n          frame = altFrame ? StateFrames.STRIKE : StateFrames.SWING;\n          break;\n        default:\n        // Do nothing\n      }\n      this.host.frame = this._renderFrame = frame;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/behaviors/combat-player-render.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Component, Input, AfterViewInit, ViewChild, ElementRef} from '@angular/core';\nimport {Animate} from '../../services/index';\nimport {Point} from '../../../game/pow-core/point';\n\n@Component({\n  selector: 'combat-damage',\n  template: `\n    <span #damageValue class=\"damage-value\"\n          [ngClass]=\"classes\"\n          [innerText]=\"value\"\n          [style.top]=\"position?.y + 'px'\"\n          [style.left]=\"position?.x + 'px'\">\n    </span>\n  `,\n  styles: [require('./combat-damage.component.scss')]\n})\nexport class CombatDamageComponent implements AfterViewInit {\n  @Input() classes: string[] = [];\n  @Input() value: number = 0;\n  @Input() position: Point = new Point();\n  @ViewChild('damageValue') damageValue: ElementRef;\n\n  constructor(public animate: Animate) {\n  }\n\n  ngAfterViewInit(): void {\n    const anim: string = 'active';\n    const element = this.damageValue.nativeElement;\n    if (!element) {\n      return console.warn('unable to find damage value');\n    }\n    this.animate.enter(element, anim).then(() => {\n      element.classList.remove('active');\n      this.animate.enter(element, 'remove').then(() => {\n        element.classList.remove('remove');\n      });\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/combat-damage.component.ts","import {AfterViewInit, Component, forwardRef, Inject, Input, OnDestroy, ViewChild} from '@angular/core';\nimport {GameEntityObject} from '../../scene/game-entity-object';\nimport {CombatComponent} from './combat.component';\nimport {Combatant} from '../../models/combat/combat.model';\nimport {BehaviorSubject, Observable, Subscription} from 'rxjs';\nimport {CombatAttackBehaviorComponent} from './behaviors/actions/combat-attack.behavior';\nimport {SpriteRenderBehaviorComponent} from '../../behaviors/sprite-render.behavior';\n\n@Component({\n  selector: 'combat-enemy',\n  template: `\n    <sprite-render-behavior [icon]=\"(model$ | async)?.icon\"></sprite-render-behavior>\n    <combat-attack-behavior [combat]=\"combat\" #attack></combat-attack-behavior>\n    <ng-content></ng-content>\n  `\n})\nexport class CombatEnemyComponent extends GameEntityObject implements AfterViewInit, OnDestroy {\n\n  @ViewChild(CombatAttackBehaviorComponent) attack: CombatAttackBehaviorComponent;\n\n  @ViewChild(SpriteRenderBehaviorComponent) render: SpriteRenderBehaviorComponent;\n  private _model$ = new BehaviorSubject<Combatant>(null);\n\n  model$: Observable<Combatant> = this._model$;\n\n  @Input() icon: string;\n\n  @Input() set model(value: Combatant) {\n    this._model$.next(value);\n  }\n\n  get model(): Combatant {\n    return this._model$.value;\n  }\n\n  private _spriteSubscription: Subscription;\n\n  constructor(@Inject(forwardRef(() => CombatComponent)) public combat: CombatComponent) {\n    super();\n  }\n\n  get visible(): boolean {\n    return this.model && this.model.hp > 0;\n  }\n\n  ngAfterViewInit(): void {\n    this.combat.scene.addObject(this);\n    this.addBehavior(this.render);\n    this.addBehavior(this.attack);\n    this._spriteSubscription = this.model$.distinctUntilChanged().do((m: Combatant) => {\n      this.setSprite(m ? m.icon : null);\n    }).subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this.removeBehavior(this.render);\n    this.removeBehavior(this.attack);\n    this.combat.scene.removeObject(this);\n    this._spriteSubscription.unsubscribe();\n    this.destroy();\n  }\n\n}\n\n/** Components associated with combat enemy */\nexport const COMBAT_ENEMY_COMPONENTS = [\n  CombatEnemyComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/combat-enemy.entity.ts","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport {GameTileMap} from '../../scene/game-tile-map';\nimport {ISceneViewRenderer} from '../../../game/pow2/scene/scene.model';\nimport {Scene} from '../../../game/pow2/scene/scene';\nimport {TiledTMXResource} from '../../../game/pow-core/resources/tiled/tiled-tmx.resource';\nimport {Observable} from 'rxjs/Observable';\nimport {getCombatEncounterEnemies, getCombatEncounterParty, sliceCombatState} from '../../models/selectors';\nimport {Store} from '@ngrx/store';\nimport {AppState} from '../../app.model';\nimport {LoadingService} from '../../components/loading/loading.service';\nimport {ResourceManager} from '../../../game/pow-core/resource-manager';\nimport {TileObjectRenderer} from '../../../game/pow2/tile/render/tile-object-renderer';\nimport {SceneView} from '../../../game/pow2/scene/scene-view';\nimport {Combatant, CombatState} from '../../models/combat/combat.model';\nimport {CombatCameraBehaviorComponent} from './behaviors/combat-camera.behavior';\nimport {CombatService} from '../../models/combat/combat.service';\nimport {CombatPlayerComponent} from './combat-player.entity';\nimport {CombatEnemyComponent} from './combat-enemy.entity';\nimport {TileMapRenderer} from '../../../game/pow2/tile/render/tile-map-renderer';\nimport {TileMapView} from '../../../game/pow2/tile/tile-map-view';\nimport {Subscription} from 'rxjs/Subscription';\nimport {IPoint, Point} from '../../../game/pow-core/point';\nimport {SpriteComponent} from '../../../game/pow2/tile/behaviors/sprite.behavior';\nimport {CombatHUDComponent} from './combat-hud.component';\nimport {List} from 'immutable';\n\n@Component({\n  selector: 'combat-map',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: require('./combat-map.entity.html')\n})\nexport class CombatMapComponent extends GameTileMap implements AfterViewInit, OnDestroy, ISceneViewRenderer {\n\n  private _tileRenderer: TileMapRenderer = new TileMapRenderer();\n\n  @Input() scene: Scene;\n\n  @ViewChild(CombatCameraBehaviorComponent) camera: CombatCameraBehaviorComponent;\n\n  /** Observable<Combatant[]> of enemies */\n  enemies$: Observable<List<Combatant>> = this.store.select(getCombatEncounterEnemies);\n\n  /** Observable<Entity[]> of player-card members */\n  party$: Observable<List<Combatant>> = this.store.select(getCombatEncounterParty);\n\n  /** Observable<CombatEncounter> */\n  encounter$: Observable<CombatState> = this.store.select(sliceCombatState);\n\n  @ViewChildren(CombatPlayerComponent) party: QueryList<CombatPlayerComponent>;\n  @ViewChildren(CombatEnemyComponent) enemies: QueryList<CombatEnemyComponent>;\n\n  /** The {@see TiledTMXResource} map at the input url */\n  resource$: Observable<TiledTMXResource> = this.combatService.combatMap$\n    .distinctUntilChanged()\n    .map((result: TiledTMXResource) => {\n      this.setMap(result);\n      return result;\n    });\n\n  /** Features can be derived after a new map resource has been loaded */\n  features$: Observable<any> = this.resource$.map(() => {\n    return this.features.objects;\n  });\n\n  constructor(public combatService: CombatService,\n              public store: Store<AppState>,\n              public loadingService: LoadingService,\n              public loader: ResourceManager) {\n    super();\n  }\n\n  /**\n   * @internal used to make `resource$` observable hot. Can be removed if the template references an\n   * async binding for this at any point.\n   */\n  private _resourceSubscription: Subscription;\n\n  ngAfterViewInit(): void {\n    this.scene.addObject(this);\n    this.addBehavior(this.camera);\n    // Whenever the underlying map resource changes, update party/enemy state from latest values.\n    this._resourceSubscription = this.resource$.do(() => {\n      this.party.forEach((p: CombatPlayerComponent, index: number) => {\n        p.setSprite(p.model.icon);\n        const battleSpawn = this.getFeature('p' + (index + 1)) as IPoint;\n        p.setPoint(new Point(battleSpawn.x / 16, battleSpawn.y / 16));\n      });\n      this.enemies.forEach((e: CombatEnemyComponent, index: number) => {\n        const battleSpawn = this.getFeature('e' + (index + 1)) as IPoint;\n        if (battleSpawn) {\n          e.setPoint(new Point(battleSpawn.x / 16, battleSpawn.y / 16));\n        }\n      });\n    }).subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this._resourceSubscription.unsubscribe();\n    this.scene.removeObject(this);\n    this.removeBehavior(this.camera);\n    this.destroy();\n  }\n\n  //\n  // ISceneViewRenderer\n  //\n  objectRenderer: TileObjectRenderer = new TileObjectRenderer();\n\n  beforeFrame(view: SceneView, elapsed: number) {\n    // Nope\n  }\n\n  /**\n   * Render all of the map feature components\n   */\n  renderFrame(view: TileMapView, elapsed: number) {\n    this._tileRenderer.render(this, view);\n    this.party.forEach((component: CombatPlayerComponent) => {\n      this.objectRenderer.render(component, component.renderPoint || component.point, view, component.meta);\n      const sprites = component.findBehaviors(SpriteComponent) as SpriteComponent[];\n      sprites.forEach((sprite: SpriteComponent) => {\n        this.objectRenderer.render(sprite, sprite.host.point, view, sprite.meta);\n      });\n    });\n    this.enemies.forEach((component: CombatEnemyComponent) => {\n      this.objectRenderer.render(component, component.renderPoint || component.point, view, component.meta);\n      const sprites = component.findBehaviors(SpriteComponent) as SpriteComponent[];\n      sprites.forEach((sprite: SpriteComponent) => {\n        this.objectRenderer.render(sprite, sprite.host.point, view, sprite.meta);\n      });\n    });\n  }\n\n  afterFrame(view: SceneView, elapsed: number) {\n    // Nope\n  }\n\n  /**\n   * Custom track by function for combatants. We need to keep them around by their\n   * entity instance id so that the components are not created/destroyed as their\n   * underlying model changes. This is important because these components instances\n   * are passed through the combat state machine and their references must remain valid.\n   */\n  combatTrackBy(index: number, item: Combatant): any {\n    return item.eid;\n  }\n}\n\n/** Components associated with combat map */\nexport const COMBAT_MAP_COMPONENTS = [\n  CombatMapComponent,\n  CombatHUDComponent,\n  CombatCameraBehaviorComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/combat-map.entity.ts","import {\n  AfterViewInit,\n  Component,\n  forwardRef,\n  Inject,\n  Input,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport {GameEntityObject} from '../../scene/game-entity-object';\nimport {CombatPlayerRenderBehaviorComponent} from './behaviors/combat-player-render.behavior';\nimport {SceneObjectBehavior} from '../../../game/pow2/scene/scene-object-behavior';\nimport {CombatAttackBehaviorComponent} from './behaviors/actions/combat-attack.behavior';\n// import {CombatMagicBehavior} from './behaviors/actions/combat-magic.behavior';\n// import {CombatItemBehavior} from './behaviors/actions/combat-item.behavior';\nimport {CombatRunBehavior} from './behaviors/actions/combat-run.behavior';\n// import {CombatGuardBehavior} from './behaviors/actions/combat-guard.behavior';\nimport {CombatComponent} from './combat.component';\nimport {Entity} from '../../models/entity/entity.model';\n\n@Component({\n  selector: 'combat-player',\n  template: `\n    <combat-player-render-behavior #render></combat-player-render-behavior>\n    <animated-behavior #animation></animated-behavior>\n    <combat-attack-behavior [combat]=\"combat\" #attack></combat-attack-behavior>\n    <!--<combat-magic-behavior [combat]=\"combat\" #magic></combat-magic-behavior>-->\n    <!--<combat-item-behavior [combat]=\"combat\" #item></combat-item-behavior>-->\n    <combat-run-behavior [combat]=\"combat\" #run></combat-run-behavior>\n    <!--<combat-guard-behavior [combat]=\"combat\" #guard></combat-guard-behavior>-->\n    <ng-content></ng-content>\n  `\n})\nexport class CombatPlayerComponent extends GameEntityObject implements AfterViewInit, OnDestroy {\n  @ViewChildren('render,animation,attack,magic,guard,item,run') behaviors: QueryList<SceneObjectBehavior>;\n\n  @ViewChild(CombatPlayerRenderBehaviorComponent) render: CombatPlayerRenderBehaviorComponent;\n\n  @Input() model: Entity;\n\n  @Input() icon: string;\n\n  constructor(@Inject(forwardRef(() => CombatComponent)) public combat: CombatComponent) {\n    super();\n  }\n\n  get visible(): boolean {\n    return this.model && this.model.hp > 0;\n  }\n\n  ngAfterViewInit(): void {\n    this.combat.scene.addObject(this);\n    this.behaviors.forEach((c: SceneObjectBehavior) => {\n      this.addBehavior(c);\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.combat.scene.removeObject(this);\n    this.behaviors.forEach((c: SceneObjectBehavior) => {\n      this.removeBehavior(c);\n    });\n    this.destroy();\n  }\n\n}\n\n/** Components associated with combat player */\nexport const COMBAT_PLAYER_COMPONENTS = [\n  CombatPlayerRenderBehaviorComponent,\n  CombatAttackBehaviorComponent,\n  // CombatMagicBehavior,\n  // CombatItemBehavior,\n  CombatRunBehavior,\n  // CombatGuardBehavior,\n  CombatPlayerComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/combat-player.entity.ts","import {ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot} from '@angular/router';\nimport {Injectable} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {AppState} from '../../app.model';\nimport {sliceCombatState} from '../../models/selectors';\nimport {CombatState} from '../../models/combat/combat.model';\n\n@Injectable()\nexport class CanActivateCombat implements CanActivate {\n  constructor(private store: Store<AppState>, private router: Router) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    return this.store.select(sliceCombatState).take(1).map((combatState: CombatState) => {\n      if (!combatState || combatState.type === 'none') {\n        this.router.navigate(['/']);\n        return false;\n      }\n      return combatState.id === route.params['id'];\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/combat.guards.ts","import {Component, ViewEncapsulation, OnInit} from '@angular/core';\nimport {NotificationService} from '../../components/notification/notification.service';\nimport {RPGGame} from '../../services/rpg-game';\nimport {GameWorld} from '../../services/game-world';\n\n@Component({\n  selector: 'game',\n  styles: [require('./game.component.scss')],\n  encapsulation: ViewEncapsulation.None,\n  template: require('./game.component.html')\n})\nexport class GameComponent implements OnInit {\n  constructor(public game: RPGGame,\n              public notify: NotificationService,\n              public world: GameWorld) {\n  }\n\n  ngOnInit() {\n    this.game.initGame().then((newGame: boolean) => {\n      if (newGame) {\n        const msgs: string[] = [\n          'Click, Touch, or use the Arrow Keys.'\n        ];\n        msgs.forEach((m: string) => this.notify.show(m, null, 0));\n      }\n    }).catch(console.error.bind(console));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/game/game.component.ts","import {Resolve, ActivatedRouteSnapshot, RouterStateSnapshot} from '@angular/router';\nimport {Injectable} from '@angular/core';\nimport 'rxjs/add/observable/of';\nimport {LoadingService} from '../../components/loading/loading.service';\nimport {GameWorld} from '../../services/game-world';\n\n@Injectable()\nexport class GameResolver implements Resolve<any> {\n\n  constructor(private world: GameWorld, private loadingService: LoadingService) {\n\n  }\n\n  /** Resolve when the world ready$ observable emits */\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    this.loadingService.loading = true;\n    this.loadingService.title = 'RPG!';\n    this.loadingService.message = 'Initializing the world...';\n    // Wait for the world.ready$ observable to emit\n    return this.world.ready$.take(1);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/game/game.resolver.ts","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'no-content',\n  template: `\n    <div>\n      <h1>404: page missing</h1>\n    </div>\n  `\n})\nexport class NoContentComponent {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/no-content/no-content.ts","import {NgModule, ModuleWithProviders} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {CanActivateWorld} from './world.guards';\nimport {AppComponentsModule} from '../../components/index';\nimport {WORLD_PLAYER_COMPONENTS} from './map/world-player.entity';\nimport {BehaviorsModule} from '../../behaviors/index';\nimport {WORLD_MAP_COMPONENTS} from './map/world-map.entity';\nimport {WORLD_MAP_FEATURES} from './map/features/index';\nimport {PortalModule} from '@angular/material';\nimport {WorldComponent} from './world.component';\n\nexport const WORLD_PROVIDERS = [\n  CanActivateWorld\n];\n\nexport const WORLD_EXPORTS = [\n  WorldComponent,\n  ...WORLD_PLAYER_COMPONENTS,\n  ...WORLD_MAP_COMPONENTS,\n  ...WORLD_MAP_FEATURES\n];\n\n@NgModule({\n  declarations: WORLD_EXPORTS,\n  exports: WORLD_EXPORTS,\n  imports: [\n    PortalModule,\n    CommonModule,\n    BehaviorsModule,\n    AppComponentsModule\n  ]\n})\nexport class WorldModule {\n\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: WorldModule,\n      providers: WORLD_PROVIDERS\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/index.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {TiledFeatureComponent, TiledMapFeatureData} from '../map-feature.component';\nimport {GameEntityObject} from '../../../../scene/game-entity-object';\nimport {PlayerBehaviorComponent} from '../../behaviors/player-behavior';\nimport {Component, Input} from '@angular/core';\nimport {Combatant, CombatEncounter, IZoneMatch} from '../../../../models/combat/combat.model';\nimport {entityId, ITemplateEnemy, ITemplateFixedEncounter} from '../../../../models/game-data/game-data.model';\nimport {AppState} from '../../../../app.model';\nimport {Store} from '@ngrx/store';\nimport {getGameDataEnemies, getGameDataFixedEncounters, getGameParty} from '../../../../models/selectors';\nimport {Entity} from '../../../../models/entity/entity.model';\nimport {CombatEncounterAction} from '../../../../models/combat/combat.actions';\nimport {List} from 'immutable';\n\n/**\n * A map feature that represents a fixed combat encounter.\n *\n * When a player enters the tile of a feature with this component\n * it will trigger a combat encounter that must be defeated before\n * the tile may be passed.\n */\n@Component({\n  selector: 'combat-feature',\n  template: `\n    <ng-content></ng-content>`\n})\nexport class CombatFeatureComponent extends TiledFeatureComponent {\n\n  party: PlayerBehaviorComponent = null;\n\n  @Input() feature: TiledMapFeatureData;\n\n  constructor(public store: Store<AppState>) {\n    super();\n  }\n\n  connectBehavior(): boolean {\n    if (!this.properties || !this.properties.id) {\n      console.error('Fixed encounters must have a given id so they may be hidden');\n      return false;\n    }\n    return super.connectBehavior();\n  }\n\n  enter(object: GameEntityObject): boolean {\n    this.party = object.findBehavior(PlayerBehaviorComponent) as PlayerBehaviorComponent;\n    if (!this.party) {\n      return false;\n    }\n\n    // Stop the moving entity until it has defeated the combat encounter.\n    this.party.velocity.zero();\n    object.setPoint(object.point);\n\n    // Find the combat zone and launch a fixed encounter.\n    const zone: IZoneMatch = this.host.tileMap.getCombatZones(this.party.host.point);\n\n    this.store.select(getGameParty)\n      .withLatestFrom(\n        this.store.select(getGameDataFixedEncounters),\n        this.store.select(getGameDataEnemies),\n        (party: Entity[], encounters: ITemplateFixedEncounter[], enemies: ITemplateEnemy[]) => {\n          const encounter: ITemplateFixedEncounter = encounters.find((e) => e.id === this.properties.id);\n          const toCombatant = (id: string): Combatant => {\n            const itemTemplate = enemies.find((e) => e.id === id);\n            return Object.assign({}, itemTemplate, {\n              eid: entityId(itemTemplate.id),\n              maxhp: itemTemplate.hp,\n              maxmp: itemTemplate.mp\n            }) as Combatant;\n          };\n          const payload: CombatEncounter = {\n            type: 'fixed',\n            id: encounter.id,\n            enemies: List<Combatant>(encounter.enemies.map(toCombatant)),\n            zone: zone.target || zone.map,\n            message: encounter.message,\n            party: List<Entity>(party)\n          };\n          this.store.dispatch(new CombatEncounterAction(payload));\n        })\n      .take(1)\n      .subscribe();\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/features/combat-feature.component.ts","import {TiledFeatureComponent, TiledMapFeatureData} from '../map-feature.component';\nimport {Component, Input, ViewEncapsulation, ChangeDetectionStrategy, EventEmitter, Output} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {IScene} from '../../../../../game/pow2/scene/scene.model';\n\n@Component({\n  selector: 'dialog-feature',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  styles: [require('./dialog-feature.component.scss')],\n  template: require('./dialog-feature.component.html')\n})\nexport class DialogFeatureComponent extends TiledFeatureComponent {\n  @Input() feature: TiledMapFeatureData;\n  @Input() scene: IScene;\n  @Input() active: boolean;\n  @Output() onClose = new EventEmitter();\n  active$: Observable<boolean>;\n\n  /** The dialog text */\n  text$: Observable<string> = this.feature$.map((f: TiledMapFeatureData) => {\n    return f.properties.text;\n  });\n\n  /** The dialog title */\n  title$: Observable<string> = this.feature$.map((f: TiledMapFeatureData) => {\n    return f.properties.title;\n  });\n\n  /** The icon to display for the dialog speaker */\n  icon$: Observable<string> = this.feature$.map((f: TiledMapFeatureData) => {\n    return f.properties.icon;\n  });\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/features/dialog-feature.component.ts","import {MapFeatureComponent} from '../map-feature.component';\nimport {CombatFeatureComponent} from './combat-feature.component';\nimport {DialogFeatureComponent} from './dialog-feature.component';\nimport {PortalFeatureComponent} from './portal-feature.component';\nimport {ShipFeatureComponent} from './ship-feature.component';\nimport {TempleFeatureComponent} from './temple-feature.component';\nimport {TreasureFeatureComponent} from './treasure-feature.component';\nimport {StoreFeatureComponent} from './store-feature.component';\nexport * from './combat-feature.component';\nexport * from './dialog-feature.component';\nexport * from './portal-feature.component';\nexport * from './ship-feature.component';\nexport * from './store-feature.component';\nexport * from './temple-feature.component';\nexport * from './treasure-feature.component';\n\nexport const WORLD_MAP_FEATURES = [\n  MapFeatureComponent,\n  CombatFeatureComponent,\n  DialogFeatureComponent,\n  PortalFeatureComponent,\n  ShipFeatureComponent,\n  StoreFeatureComponent,\n  TempleFeatureComponent,\n  TreasureFeatureComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/features/index.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {TiledFeatureComponent, TiledMapFeatureData} from '../map-feature.component';\nimport {TileObject} from '../../../../../game/pow2/tile/tile-object';\nimport {Component, Input} from '@angular/core';\nimport {AppState} from '../../../../app.model';\nimport {Store} from '@ngrx/store';\nimport {GameStateTravelAction} from '../../../../models/game-state/game-state.actions';\n@Component({\n  selector: 'portal-feature',\n  template: `\n    <ng-content></ng-content>`\n})\nexport class PortalFeatureComponent extends TiledFeatureComponent {\n  @Input() feature: TiledMapFeatureData;\n\n  constructor(private store: Store<AppState>) {\n    super();\n  }\n\n  entered(object: TileObject): boolean {\n    this.assertFeature();\n\n    if (!this.properties.target) {\n      return false;\n    }\n    this.store.dispatch(new GameStateTravelAction({\n      location: this.properties.target,\n      position: {\n        x: this.properties.targetX,\n        y: this.properties.targetY\n      }\n    }));\n    return true;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/features/portal-feature.component.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {TileObject} from '../../../../../game/pow2/tile/tile-object';\nimport {Subscription} from 'rxjs';\nimport {getGameShipPosition} from '../../../../models/selectors';\nimport {IPoint, Point} from '../../../../../game/pow-core/point';\nimport {TiledFeatureComponent, TiledMapFeatureData} from '../map-feature.component';\nimport {GameFeatureObject} from '../../../../scene/game-feature-object';\nimport {PlayerBehaviorComponent} from '../../behaviors/player-behavior';\nimport {GameStateSetKeyDataAction} from '../../../../models/game-state/game-state.actions';\nimport {Component, Input} from '@angular/core';\n@Component({\n  selector: 'ship-feature',\n  template: `<ng-content></ng-content>`\n})\nexport class ShipFeatureComponent extends TiledFeatureComponent {\n  party: PlayerBehaviorComponent;\n  partyObject: TileObject;\n  partySprite: string;\n  private _tickInterval: any = -1;\n  @Input() feature: TiledMapFeatureData;\n\n  private _subscription: Subscription = null;\n\n  disconnectBehavior(): boolean {\n    if (this._subscription) {\n      this._subscription.unsubscribe();\n      this._subscription = null;\n    }\n    return true;\n  }\n\n  connectBehavior(): boolean {\n    if (!super.connectBehavior()) {\n      return false;\n    }\n    const gameWorld = this.host.world;\n    if (gameWorld) {\n      this._subscription = this.host.world.store.select(getGameShipPosition)\n        .distinctUntilChanged()\n        .subscribe((p: IPoint) => {\n          this.host.setPoint(p);\n        });\n    }\n    return true;\n  }\n\n  enter(object: GameFeatureObject): boolean {\n    // Must have a entity component to board a ship.  Don't want buildings\n    // and NPCs boarding ships... or do we?  [maniacal laugh]\n    this.party = object.findBehavior(PlayerBehaviorComponent) as PlayerBehaviorComponent;\n    if (!this.party) {\n      return false;\n    }\n    this.partySprite = object.icon;\n    this.party.passableKeys = ['shipPassable'];\n    return true;\n  }\n\n  entered(object: GameFeatureObject): boolean {\n    return this.board(object);\n  }\n\n  /**\n   * Board an object onto the ship component.  This will modify the\n   * @param object\n   */\n  board(object: GameFeatureObject): boolean {\n    if (this.partyObject || !this.party) {\n      return false;\n    }\n    this.partyObject = object;\n    object.setSprite(this.host.icon);\n    this.host.visible = false;\n    this.host.enabled = false;\n\n    this._tickInterval = setInterval(() => {\n      if (Point.equal(this.partyObject.point, this.party.targetPoint) && !this.party.heading.isZero()) {\n        const from: Point = new Point(this.partyObject.point);\n        const to: Point = from.clone().add(this.party.heading);\n        if (!this.party.collideWithMap(from, 'shipPassable') && !this.party.collideWithMap(to, 'passable')) {\n          this.disembark(from, to, this.party.heading.clone());\n        }\n      }\n    }, 32);\n    return true;\n  }\n\n  disembark(from: Point, to: Point, heading: Point) {\n    clearInterval(this._tickInterval);\n    this.partyObject.setSprite(this.partySprite);\n    this.party.targetPoint.set(to);\n    this.party.velocity.set(heading);\n    this.party.passableKeys = ['passable'];\n    this.host.point.x = from.x;\n    this.host.point.y = from.y;\n    this.host.visible = true;\n    this.host.enabled = true;\n    this.partyObject = null;\n    this.party = null;\n    this.host.world.store.dispatch(new GameStateSetKeyDataAction('shipPosition', this.host.point));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/features/ship-feature.component.ts","import {TiledFeatureComponent, TiledMapFeatureData} from '../map-feature.component';\nimport {\n  Component,\n  Input,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  EventEmitter,\n  Output,\n  OnDestroy\n} from '@angular/core';\nimport {Observable, BehaviorSubject, Subject} from 'rxjs';\nimport {IScene} from '../../../../../game/pow2/scene/scene.model';\nimport {\n  instantiateEntity, ITemplateArmor, ITemplateBaseItem,\n  ITemplateWeapon\n} from '../../../../models/game-data/game-data.model';\nimport {\n  GameStateAddInventoryAction,\n  GameStateAddGoldAction,\n  GameStateRemoveInventoryAction\n} from '../../../../models/game-state/game-state.actions';\nimport {EntityAddItemAction, EntityRemoveItemAction} from '../../../../models/entity/entity.actions';\nimport {GameState} from '../../../../models/game-state/game-state.model';\nimport {\n  sliceGameState,\n  getGameInventory,\n  getGamePartyGold,\n  getGameDataItems,\n  getGameDataArmors,\n  getGameDataWeapons\n} from '../../../../models/selectors';\nimport {Item} from '../../../../models/item';\nimport {AppState} from '../../../../app.model';\nimport {RPGGame} from '../../../../services/rpg-game';\nimport {NotificationService} from '../../../../components/notification/notification.service';\nimport {Store} from '@ngrx/store';\nimport Immutable from 'immutable';\n\n/**\n * Given a list of potential items, filter it to only ones that can be bartered in this store.\n * @param items The list of items to filter\n * @param groups The item groups that are supported by this store\n * @param level The level of items that are sold in this store\n * @returns {ITemplateBaseItem[]} The filtered item list\n */\nexport function storeItemsFilter(items: Immutable.List<ITemplateBaseItem>,\n                                 groups: string[],\n                                 level: number): Immutable.List<ITemplateBaseItem> {\n  // TODO: This any cast shouldn't be here. I was in a hurry.\n  return <any> items.filter((i: ITemplateBaseItem) => {\n    const levelMatch: boolean = (typeof i.level === 'undefined' || i.level === level);\n    return levelMatch && itemInGroups(i, groups);\n  });\n}\n\n//\n//\n//\n// TODO: Maps need to be updated to change \"category\" for stores to a list of item types\n// because currently all stores show nothing to sell.\n//\n//\n\n/**\n * Given a list of potential items to sell, filter to only ones that can be bartered in this store.\n * @param items The list of items to filter\n * @param groups The item groups that are supported by this store\n * @returns {ITemplateBaseItem[]} The filtered item list\n */\nexport function sellItemsFilter(items: Immutable.List<ITemplateBaseItem>,\n                                groups: string[]) {\n  // TODO: This any cast shouldn't be here. I was in a hurry.\n  return <any> items.filter((i: ITemplateBaseItem) => {\n    return itemInGroups(i, groups);\n  });\n}\n\nexport function getFeatureProperty(name: string, defaultValue = null): (f: TiledMapFeatureData) => any {\n  return (f: TiledMapFeatureData) => {\n    return (f && f.properties && f.properties[name]) ? f.properties[name] : defaultValue;\n  };\n}\n\n/**\n * return true if the given item belongs to at least one of the given groups\n */\nexport function itemInGroups(item: ITemplateBaseItem, groups: string[]): boolean {\n  if (!item) {\n    return false;\n  }\n  // If there are no groups, the item is OK\n  let groupsMatch: boolean = !item.groups || groups.length === 0;\n  // If there are groups, make sure it matches at least one of them\n  (item.groups || []).forEach((group: string) => {\n    groupsMatch = groupsMatch || groups.indexOf(group) !== -1;\n  });\n  return groupsMatch;\n\n}\n\n/**\n * The categories of store (tied to definition of feature in TMX map\n */\nexport type StoreInventoryCategories = 'weapons' | 'armor' | 'items';\n\n@Component({\n  selector: 'store-feature',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  styles: [require('./store-feature.component.scss')],\n  template: require('./store-feature.component.html')\n})\nexport class StoreFeatureComponent extends TiledFeatureComponent implements OnDestroy {\n  @Input() feature: TiledMapFeatureData;\n  @Input() scene: IScene;\n  @Input() active: boolean;\n  @Output() onClose = new EventEmitter();\n  active$: Observable<boolean>;\n\n  constructor(public game: RPGGame,\n              public notify: NotificationService,\n              public store: Store<AppState>) {\n    super();\n  }\n\n  ngOnDestroy(): void {\n    this._doActionSubscription$.unsubscribe();\n    this._doToggleActionSubscription$.unsubscribe();\n  }\n\n  /** @internal */\n  private _level$: BehaviorSubject<number> = new BehaviorSubject<number>(1);\n  /** @internal */\n  private _weapons$: Observable<Immutable.List<ITemplateWeapon>> = this.store.select(getGameDataWeapons);\n  /** @internal */\n  private _armors$: Observable<Immutable.List<ITemplateArmor>> = this.store.select(getGameDataArmors);\n  /** @internal */\n  private _items$: Observable<Immutable.List<ITemplateBaseItem>> = this.store.select(getGameDataItems);\n  /** @internal */\n  private _selling$ = new BehaviorSubject<boolean>(false);\n\n  /**\n   * The name of this (fine) establishment.\n   */\n  name$: Observable<string> = this.feature$.map(getFeatureProperty('name'));\n\n  /**\n   * The item groups that this vendor sells\n   */\n  groups$: Observable<string[]> = this.feature$.map(getFeatureProperty('groups', []));\n\n  /**\n   * The category of store as determined by its map feature.\n   */\n  category$: Observable<StoreInventoryCategories> = this.feature$.map(getFeatureProperty('category'));\n\n  /**\n   * The amount of gold the party has to spend\n   */\n  partyGold$: Observable<number> = this.store.select(getGamePartyGold);\n\n  /**\n   * The level of items available at this store\n   */\n  level$: Observable<number> = this._level$;\n\n  /**\n   * The items that the party has available to sell to the merchant\n   */\n  partyInventory$: Observable<Immutable.List<Item>> = this.store.select(getGameInventory)\n    .combineLatest(this.category$, (inventory: Immutable.List<Item>, category: string) => {\n      return inventory.filter((i) => i && i.category === category);\n    })\n    // TODO: This cast shouldn't be here. Types being a pain. Hopefully immutable 4 has better types.\n    .combineLatest(this.groups$, <any> sellItemsFilter);\n\n  /**\n   * Calculate the inventory for the store. Filter by category, item grouping, and player level.\n   */\n  inventory$: Observable<Immutable.List<ITemplateBaseItem>> = this._weapons$\n    .combineLatest(this._armors$, this._items$, this.category$, (weapons, armors, items, cat) => {\n      switch (cat) {\n        case 'items':\n          return items;\n        case 'weapons':\n          return weapons;\n        case 'armor':\n          return armors;\n        default:\n          // If there is no category, the vendor can sell all types.\n          return items.concat(weapons).concat(armors);\n      }\n    })\n    .combineLatest(this.groups$, this.level$, storeItemsFilter);\n\n  /** Determine if the UI is in a selling state. */\n  selling$: Observable<boolean> = this._selling$;\n\n  /** @internal */\n  _selected$ = new BehaviorSubject<Item>(null);\n  /** The selected item to purchase/sell. */\n  selected$: Observable<Item> = this._selected$;\n\n  isBuying$: Observable<boolean> = Observable\n    .combineLatest(this.selected$, this.selling$, (selected: boolean, selling: boolean) => {\n      return !selected && !selling;\n    });\n\n  isSelling$: Observable<boolean> = Observable\n    .combineLatest(this.selected$, this.selling$, (selected: boolean, selling: boolean) => {\n      return !selected && selling;\n    });\n\n  /** Verb for the current buy/sell state for an action button */\n  actionVerb$: Observable<string> = this.selling$.map((selling: boolean) => {\n    return selling ? 'Sell' : 'Buy';\n  });\n\n  /** @internal */\n  _onAction$ = new Subject<void>();\n  /** @internal */\n  _onToggleAction$ = new Subject<Item>();\n\n  private _doToggleActionSubscription$ = this._onToggleAction$\n    .withLatestFrom(this.partyInventory$, (evt, inventory: Item[]) => {\n      let selling = this._selling$.value;\n      if (!selling) {\n        if (inventory.length === 0) {\n          this.notify.show(\"You don't have any inventory of this type to sell.\", null, 1500);\n          this._selling$.next(false);\n          return;\n        }\n      }\n      this._selling$.next(!selling);\n    })\n    .subscribe();\n\n  /** Stream of clicks on the actionable button */\n  private _doActionSubscription$ = this._onAction$\n    .withLatestFrom(this.store.select(sliceGameState), (evt, model: GameState) => {\n      if (!this._selected$.value) {\n        return;\n      }\n      const item = this._selected$.value;\n      const isSelling = this._selling$.value;\n      const value: number = item.value;\n      if (!isSelling && value > model.gold) {\n        this.notify.show(\"You don't have enough money\");\n        return;\n      }\n\n      this._selected$.next(null);\n      this._selling$.next(false);\n\n      if (isSelling) {\n        this.notify.show(`Sold ${item.name} for ${item.value} gold.`, null, 1500);\n        this.store.dispatch(new GameStateRemoveInventoryAction(item));\n        this.store.dispatch(new EntityRemoveItemAction(item.eid));\n        this.store.dispatch(new GameStateAddGoldAction(value));\n      }\n      else {\n        const itemInstance = instantiateEntity<Item>(item);\n        this.notify.show(`Purchased ${item.name}.`, null, 1500);\n        this.store.dispatch(new GameStateAddGoldAction(-value));\n        this.store.dispatch(new EntityAddItemAction(itemInstance));\n        this.store.dispatch(new GameStateAddInventoryAction(itemInstance));\n      }\n\n    }).subscribe();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/features/store-feature.component.ts","import {TiledFeatureComponent, TiledMapFeatureData} from '../map-feature.component';\nimport _ from 'underscore';\nimport {\n  Component,\n  Input,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  OnDestroy,\n  OnInit,\n  Output,\n  EventEmitter\n} from '@angular/core';\nimport {Observable, Subject, Subscription} from 'rxjs';\nimport {RPGGame} from '../../../../services/rpg-game';\nimport {Store} from '@ngrx/store';\nimport {AppState} from '../../../../app.model';\nimport {NotificationService} from '../../../../components/notification/notification.service';\nimport {getGamePartyGold, getGameParty} from '../../../../models/selectors';\nimport {Entity} from '../../../../models/entity/entity.model';\nimport {IScene} from '../../../../../game/pow2/scene/scene.model';\nimport {GameStateHealPartyAction} from '../../../../models/game-state/game-state.actions';\nimport * as Immutable from 'immutable';\n\n@Component({\n  selector: 'temple-feature',\n  styles: [require('./temple-feature.component.scss')],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  template: require('./temple-feature.component.html')\n})\nexport class TempleFeatureComponent extends TiledFeatureComponent implements OnInit, OnDestroy {\n  @Output() onClose = new EventEmitter();\n  @Input() scene: IScene;\n  @Input() active: boolean;\n  @Input() party: Entity[];\n  @Input() feature: TiledMapFeatureData;\n  active$: Observable<boolean>;\n\n  partyGold$: Observable<number> = this.store.select(getGamePartyGold);\n  party$: Observable<Immutable.List<Entity>> = this.store.select(getGameParty);\n\n  name$: Observable<string> = this.feature$.map((data: TiledMapFeatureData) => {\n    return data.properties.name;\n  });\n\n  icon$: Observable<string> = this.feature$.map((data: TiledMapFeatureData) => {\n    return data.properties.icon;\n  });\n\n  cost$: Observable<number> = this.feature$.map((data: TiledMapFeatureData) => {\n    return parseInt(data.properties.cost, 10);\n  });\n\n  constructor(public game: RPGGame,\n              public store: Store<AppState>,\n              public notify: NotificationService) {\n    super();\n  }\n\n  public _onRest$ = new Subject<void>();\n  private _onRestSubscription$: Subscription;\n\n  ngOnInit(): void {\n    this._onRestSubscription$ = this._onRest$.withLatestFrom(this.party$, this.partyGold$, this.cost$,\n      (evt, party: Immutable.List<Entity>, partyGold: number, cost: number) => {\n        const alreadyHealed: boolean = !party.find((p: Entity) => {\n          console.log(p, RPGGame.getHPForLevel(1, p));\n          return p.hp !== p.maxhp;\n        });\n        if (cost > partyGold) {\n          this.notify.show('You don\\'t have enough money');\n        }\n        else if (alreadyHealed) {\n          this.notify.show('Keep your money.\\nYour party is already fully healed.');\n        }\n        else {\n          const partyIds: string[] = party.map((p) => p.eid).toArray();\n          this.store.dispatch(new GameStateHealPartyAction({\n            cost,\n            partyIds\n          }));\n          const msg = 'Your party has been healed! \\nYou have (' + (partyGold - cost) + ') monies.';\n          this.notify.show(msg, null, 5000);\n        }\n        _.defer(() => {\n          this.onClose.next({});\n        });\n      })\n      .subscribe();\n  }\n\n  ngOnDestroy(): void {\n    this._onRestSubscription$.unsubscribe();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/features/temple-feature.component.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {TiledFeatureComponent, TiledMapFeatureData} from '../map-feature.component';\nimport {TileObject} from '../../../../../game/pow2/tile/tile-object';\nimport {AfterViewInit, Component, Input} from '@angular/core';\nimport {\n  GameStateAddGoldAction, GameStateAddInventoryAction,\n  GameStateSetKeyDataAction\n} from '../../../../models/game-state/game-state.actions';\nimport {AppState} from '../../../../app.model';\nimport {Store} from '@ngrx/store';\nimport {NotificationService} from '../../../../components/notification/notification.service';\nimport {getGameDataItems, getGameDataArmors, getGameDataWeapons} from '../../../../models/selectors';\nimport {\n  instantiateEntity, ITemplateArmor, ITemplateBaseItem, ITemplateItem,\n  ITemplateWeapon\n} from '../../../../models/game-data/game-data.model';\nimport * as Immutable from 'immutable';\nimport {Item} from '../../../../models/item';\nimport {Observable} from 'rxjs/Observable';\nimport {EntityAddItemAction} from '../../../../models/entity/entity.actions';\n\n@Component({\n  selector: 'treasure-feature',\n  template: `\n    <ng-content></ng-content>`\n})\nexport class TreasureFeatureComponent extends TiledFeatureComponent implements AfterViewInit {\n  @Input() feature: TiledMapFeatureData;\n\n  /** @internal */\n  private _weapons$: Observable<Immutable.List<ITemplateWeapon>> = this.store.select(getGameDataWeapons);\n  /** @internal */\n  private _armors$: Observable<Immutable.List<ITemplateArmor>> = this.store.select(getGameDataArmors);\n  /** @internal */\n  private _items$: Observable<Immutable.List<ITemplateBaseItem>> = this.store.select(getGameDataItems);\n\n  /** Available items that can be instantiated from a treasure chest. */\n  inventory$: Observable<Immutable.List<ITemplateBaseItem>> = this._weapons$\n    .combineLatest(this._armors$, this._items$, (weapons, armors, items) => {\n      return items.concat(weapons).concat(armors);\n    });\n\n  constructor(public store: Store<AppState>,\n              public notify: NotificationService) {\n    super();\n  }\n\n  ngAfterViewInit() {\n    if (!this.properties.id) {\n      throw new Error('treasure must always have a unique lower-snake-case id');\n    }\n  }\n\n  enter(object: TileObject): boolean {\n    if (typeof this.properties.gold !== 'undefined') {\n      this.store.dispatch(new GameStateAddGoldAction(this.properties.gold));\n      this.notify.show(`You found ${this.properties.gold} gold!`, null, 0);\n    }\n    if (typeof this.properties.item === 'string') {\n      this.inventory$.take(1).do((items: Immutable.List<ITemplateItem>) => {\n        const template = items.find((item) => {\n          return item.id === this.properties.item;\n        });\n        if (!template) {\n          throw new Error('could not find item template for id: ' + this.properties.item);\n        }\n        const itemInstance = instantiateEntity<Item>(template);\n        this.store.dispatch(new EntityAddItemAction(itemInstance));\n        this.store.dispatch(new GameStateAddInventoryAction(itemInstance));\n        this.notify.show(`You found ${template.name}!`, null, 0);\n      }).subscribe();\n    }\n    this.store.dispatch(new GameStateSetKeyDataAction(this.properties.id, true));\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/features/treasure-feature.component.ts","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport {CombatPlayerRenderBehaviorComponent} from './behaviors/combat-player-render.behavior';\nimport {SceneObjectBehavior} from '../../../../game/pow2/scene/scene-object-behavior';\nimport {CombatAttackBehaviorComponent} from './behaviors/actions/combat-attack.behavior';\nimport {CombatComponent} from './combat.component';\nimport {Observable, Subscription} from 'rxjs';\nimport {GameStateService} from '../../../models/game-state/game-state.service';\nimport {TiledTMXResource} from '../../../../game/pow-core/resources/tiled/tiled-tmx.resource';\nimport {ResourceManager} from '../../../../game/pow-core/resource-manager';\nimport {Behavior} from '../../../../game/pow-core/behavior';\nimport {MapFeatureInputBehaviorComponent} from '../behaviors/map-feature-input.behavior';\nimport {Scene} from '../../../../game/pow2/scene/scene';\nimport {MapFeatureComponent, TiledMapFeatureData} from './map-feature.component';\nimport {ISceneViewRenderer} from '../../../../game/pow2/scene/scene.model';\nimport {TileObjectRenderer} from '../../../../game/pow2/tile/render/tile-object-renderer';\nimport {SceneView} from '../../../../game/pow2/scene/scene-view';\nimport {WorldPlayerComponent} from './world-player.entity';\nimport {Entity} from '../../../models/entity/entity.model';\nimport {getGameKeyData, getGameParty, getGamePartyPosition} from '../../../models/selectors';\nimport {IPoint, Point} from '../../../../game/pow-core/point';\nimport {LoadingService} from '../../../components/loading/loading.service';\nimport {Store} from '@ngrx/store';\nimport {AppState} from '../../../app.model';\nimport {GameTileMap} from '../../../scene/game-tile-map';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport * as Immutable from 'immutable';\n\n//\n// TODO: Player position is not sync'd to store!\n//\n//\n\n@Component({\n  selector: 'world-map',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: require('./world-map.entity.html')\n})\nexport class WorldMapComponent extends GameTileMap implements AfterViewInit, OnDestroy, ISceneViewRenderer {\n\n  /** For referencing in template */\n  readonly self: WorldMapComponent = this;\n\n  @Input() scene: Scene;\n\n  renderPoint: Point = new Point();\n\n  @ViewChild(WorldPlayerComponent) player: WorldPlayerComponent;\n  @ViewChildren('input') behaviors: QueryList<Behavior>;\n  @ViewChildren(MapFeatureComponent) mapFeatures: QueryList<MapFeatureComponent>;\n\n  private _subscriptions: Subscription[] = [];\n\n  /** The {@see TiledTMXResource} map at the input url */\n  resource$: Observable<TiledTMXResource> = this.gameStateService.worldMap$\n    .distinctUntilChanged()\n    .map((result: TiledTMXResource) => {\n      this.setMap(result);\n      return result;\n    });\n\n  /** Features can be derived after a new map resource has been loaded */\n  features$: Observable<TiledMapFeatureData[]> = this.resource$.map(() => {\n    return this.features.objects;\n  });\n\n  /**\n   * Exclude features that are marked as hidden in the game keydata storage.\n   */\n  activeFeatures$: Observable<any> = this.store.select(getGameKeyData)\n    .combineLatest(this.features$, (keyMap: Immutable.Map<string, any>, features: TiledMapFeatureData[]) => {\n      return features.filter((f: TiledMapFeatureData) => {\n        // If it doesn't have an ID then it can't be hidden.\n        // If there is a value in the keyData with the id as a key and true as a value, the feature is hidden.\n        return !f.properties || !f.properties.id || keyMap.get(f.properties.id) !== true;\n      });\n    });\n\n  private _renderPoint$: BehaviorSubject<IPoint> = new BehaviorSubject(this.renderPoint);\n\n  /** Observable of the current player position in the world */\n  renderPoint$: Observable<Point> = this.store.select(getGamePartyPosition)\n    .combineLatest(this._renderPoint$, (point: IPoint, renderPoint: IPoint) => {\n      return this.renderPoint.set(point || renderPoint);\n    });\n\n  constructor(public gameStateService: GameStateService,\n              public store: Store<AppState>,\n              public loadingService: LoadingService,\n              public loader: ResourceManager) {\n    super();\n  }\n\n  ngAfterViewInit(): void {\n    this.scene.addObject(this);\n    this.behaviors.forEach((c: SceneObjectBehavior) => {\n      this.addBehavior(c);\n    });\n    // To update renderPoint when party point changes\n    this._subscriptions.push(this.position$.subscribe());\n  }\n\n  ngOnDestroy(): void {\n    this.scene.removeObject(this);\n    this.behaviors.forEach((c: SceneObjectBehavior) => {\n      this.removeBehavior(c);\n    });\n    this._subscriptions.forEach((s) => s.unsubscribe());\n    this._subscriptions.length = 0;\n    this.destroy();\n  }\n\n  //\n  // ISceneViewRenderer\n  //\n  objectRenderer: TileObjectRenderer = new TileObjectRenderer();\n\n  beforeFrame(view: SceneView, elapsed: number) {\n    // Nope\n  }\n\n  /**\n   * Render all of the map feature components\n   */\n  renderFrame(view: SceneView, elapsed: number) {\n    this.mapFeatures.forEach((mapFeatureComponent: MapFeatureComponent) => {\n      if (mapFeatureComponent.host) {\n        const data = mapFeatureComponent.host;\n        this.objectRenderer.render(data, data.renderPoint || data.point, view, data.meta);\n      }\n    });\n  }\n\n  afterFrame(view: SceneView, elapsed: number) {\n    // Nope\n  }\n\n  //\n  // Party position\n  //\n\n  notTraveling$: Observable<boolean> = this.loadingService.loading$.map((loading: boolean) => !loading);\n\n  /** Observable of the current player position in the world. Keeps renderPoint in sync after each move. */\n  position$: Observable<IPoint> = this.store\n    .select(getGamePartyPosition)\n    .distinctUntilChanged()\n    .do((position: IPoint) => {\n      this.renderPoint = new Point(position);\n    });\n\n  /** Observable of Entity representing the player-card leader to be rendered in the world */\n  partyLeader$: Observable<Entity> = this.store.select(getGameParty)\n    .map((party: Immutable.List<Entity>) => {\n      return party.get(0);\n    });\n\n}\n\n/** Components associated with world map */\nexport const WORLD_MAP_COMPONENTS = [\n  WorldMapComponent,\n  MapFeatureComponent,\n  MapFeatureInputBehaviorComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/world-map.entity.ts","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnDestroy,\n  QueryList,\n  ViewChild,\n  ViewChildren\n} from '@angular/core';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {CombatPlayerRenderBehaviorComponent} from './behaviors/combat-player-render.behavior';\nimport {SceneObjectBehavior} from '../../../../game/pow2/scene/scene-object-behavior';\nimport {CombatAttackBehaviorComponent} from './behaviors/actions/combat-attack.behavior';\nimport {CombatComponent} from './combat.component';\nimport {Entity} from '../../../models/entity/entity.model';\nimport {GameTileMap} from '../../../scene/game-tile-map';\nimport {CombatEncounterBehaviorComponent} from '../behaviors/combat-encounter.behavior';\nimport {PlayerBehaviorComponent} from '../behaviors/player-behavior';\nimport {PlayerCameraBehaviorComponent} from '../behaviors/player-camera.behavior';\nimport {PlayerMapPathBehaviorComponent} from '../behaviors/player-map-path.behavior';\nimport {PlayerRenderBehaviorComponent} from '../behaviors/player-render.behavior';\nimport {PlayerTriggerBehaviorComponent} from '../behaviors/player-look.behavior';\nimport {Scene} from '../../../../game/pow2/scene/scene';\nimport {Point} from '../../../../game/pow-core/point';\nimport {ISceneViewRenderer} from '../../../../game/pow2/scene/scene.model';\nimport {SceneView} from '../../../../game/pow2/scene/scene-view';\nimport {TileObjectRenderer} from '../../../../game/pow2/tile/render/tile-object-renderer';\nimport {Rect} from '../../../../game/pow-core/rect';\nimport {GameFeatureObject} from '../../../scene/game-feature-object';\nimport {TiledFeatureComponent} from './map-feature.component';\nimport {BehaviorSubject, Observable} from 'rxjs';\n\n@Component({\n  selector: 'world-player',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  template: `\n    <player-render-behavior #render></player-render-behavior>\n    <collision-behavior #collision></collision-behavior>\n    <player-map-path-behavior [tileMap]=\"map\" #path></player-map-path-behavior>\n    <player-behavior (onCompleteMove)=\"encounter.completeMove($event)\" #player></player-behavior>\n    <combat-encounter-behavior [scene]=\"scene\" #encounter [tileMap]=\"map\" [player]=\"self\"></combat-encounter-behavior>\n    <player-camera-behavior #camera></player-camera-behavior>\n    <player-look-behavior\n      (onLook)=\"onFeatureLook($event)\"\n      (onLookAway)=\"onFeatureLookAway($event)\"\n      #trigger></player-look-behavior>\n    <ng-content></ng-content>\n  `\n})\nexport class WorldPlayerComponent extends GameEntityObject implements AfterViewInit, OnDestroy, ISceneViewRenderer {\n  @ViewChildren('render,collision,path,player,trigger,camera,encounter') behaviors: QueryList<SceneObjectBehavior>;\n  @Input() icon: string;\n  @Input() model: Entity;\n  @Input() scene: Scene;\n  @Input() map: GameTileMap;\n  @Input() point: Point;\n\n  /** For referencing in template */\n  readonly self: WorldPlayerComponent = this;\n\n  /** The fill color to use when rendering a path target. */\n  targetFill: string = 'rgba(10,255,10,0.3)';\n  /** The stroke to use when outlining path target. */\n  targetStroke: string = 'rgba(10,255,10,0.3)';\n  /** Line width for the path target stroke. */\n  targetStrokeWidth: number = 1.5;\n\n  @ViewChild(PlayerBehaviorComponent) movable: PlayerBehaviorComponent;\n\n  ngAfterViewInit(): void {\n    this.setSprite(this.model.icon);\n    this.scene.addObject(this);\n    this.behaviors.forEach((c: SceneObjectBehavior) => {\n      this.addBehavior(c);\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.scene.removeObject(this);\n    this.behaviors.forEach((c: SceneObjectBehavior) => {\n      this.removeBehavior(c);\n    });\n    this.destroy();\n  }\n\n  /** The player has touched a game feature. */\n  onFeatureLook(event: GameFeatureObject) {\n    const feature = event.findBehavior(TiledFeatureComponent) as TiledFeatureComponent;\n    if (feature) {\n      feature.enter(this);\n      this.feature = feature;\n    }\n  }\n\n  /** The player was touching a game feature, and is now leaving. */\n  onFeatureLookAway(event: GameFeatureObject) {\n    const feature = event.findBehavior(TiledFeatureComponent) as TiledFeatureComponent;\n    if (feature) {\n      feature.exit(this);\n      this.feature = null;\n    }\n  }\n\n  private _featureComponent$ = new BehaviorSubject<TiledFeatureComponent>(null);\n\n  featureComponent$: Observable<TiledFeatureComponent> = this._featureComponent$;\n\n  get feature(): TiledFeatureComponent {\n    return this._featureComponent$.value;\n  }\n\n  set feature(value: TiledFeatureComponent) {\n    this._featureComponent$.next(value);\n  }\n\n  escapeFeature() {\n    if (this.feature) {\n      this.onFeatureLookAway(this.feature.host);\n    }\n  }\n\n  //\n  // ISceneViewRenderer\n  //\n  objectRenderer: TileObjectRenderer = new TileObjectRenderer();\n\n  beforeFrame(view: SceneView, elapsed: number) {\n    // Nope\n  }\n\n  /**\n   * Render all of the map feature components\n   */\n  renderFrame(view: SceneView, elapsed: number) {\n    // Render self\n    this.objectRenderer.render(this, this.renderPoint || this.point, view, this.meta);\n\n    // Any path target\n    if (this.movable) {\n      const target = this.movable;\n      if (this.movable.path && this.movable.path.length > 0) {\n        view.context.save();\n        const destination: Point = target.path[target.path.length - 1].clone();\n        destination.x -= 0.5;\n        destination.y -= 0.5;\n\n        const screenTile: Rect = view.worldToScreen(new Rect(destination, new Point(1, 1)));\n        view.context.fillStyle = this.targetFill;\n        view.context.fillRect(screenTile.point.x, screenTile.point.y, screenTile.extent.x, screenTile.extent.y);\n        view.context.strokeStyle = this.targetStroke;\n        view.context.lineWidth = this.targetStrokeWidth;\n        view.context.strokeRect(screenTile.point.x, screenTile.point.y, screenTile.extent.x, screenTile.extent.y);\n\n        view.context.restore();\n      }\n    }\n  }\n\n  afterFrame(view: SceneView, elapsed: number) {\n    // Nope\n  }\n\n}\n\n/** Components associated with world player */\nexport const WORLD_PLAYER_COMPONENTS = [\n  WorldPlayerComponent,\n  CombatEncounterBehaviorComponent,\n  PlayerBehaviorComponent,\n  PlayerCameraBehaviorComponent,\n  PlayerMapPathBehaviorComponent,\n  PlayerRenderBehaviorComponent,\n  PlayerTriggerBehaviorComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/map/world-player.entity.ts","import {\n  Component,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  AfterViewInit,\n  ElementRef,\n  OnDestroy,\n  ViewChild,\n  HostListener\n} from '@angular/core';\nimport {NotificationService} from '../../components/notification/notification.service';\nimport {RPGGame} from '../../services/rpg-game';\nimport {GameWorld} from '../../services/game-world';\nimport {AppState} from '../../app.model';\nimport {Store} from '@ngrx/store';\nimport {GameResources} from '../../services/game-resources.service';\nimport {PlayerBehaviorComponent} from './behaviors/player-behavior';\nimport {Scene} from '../../../game/pow2/scene/scene';\nimport {SceneView} from '../../../game/pow2/scene/scene-view';\nimport {TileMap} from '../../../game/pow2/tile/tile-map';\nimport {TileMapPathBehavior} from '../../../game/pow2/tile/behaviors/tile-map-path.behavior';\nimport {PowInput, NamedMouseElement} from '../../../game/pow2/core/input';\nimport {TileMapView} from '../../../game/pow2/tile/tile-map-view';\nimport {LoadingService} from '../../components/loading/loading.service';\nimport {PartyMenuComponent} from '../../components/party-menu/party-menu.component';\nimport {WorldMapComponent} from './map/world-map.entity';\nimport {GameFeatureObject} from '../../scene/game-feature-object';\nimport {Rect} from '../../../game/pow-core/rect';\nimport {Point} from '../../../game/pow-core/point';\n\n@Component({\n  selector: 'world',\n  styles: [require('./world.component.scss')],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  template: require('./world.component.html'),\n  host: {\n    '(window:resize)': '_onResize($event)',\n    '(click)': '_onClick($event)',\n    '[style.color]': 'styleBackground'\n  }\n})\nexport class WorldComponent extends TileMapView implements AfterViewInit, OnDestroy {\n  @ViewChild('worldCanvas') canvasElementRef: ElementRef;\n  @ViewChild(PartyMenuComponent) partyMenu: PartyMenuComponent;\n\n  /**\n   * Whether to render debug view information\n   */\n  debug: boolean = false;\n\n  /**\n   * Escape action handler. Escape out of any active feature or menu\n   */\n  @HostListener('document:keyup', ['$event'])\n  handleKeyboardEvent(event: KeyboardEvent) {\n    if (event.key === 'Escape') {\n      // Escape out of any feature the player is currently in\n      if (this.map.player && this.map.player.feature) {\n        this.map.player.escapeFeature();\n      }\n      else if (this.partyMenu) {\n        // Otherwise toggle the party menu\n        this.partyMenu.open = !this.partyMenu.open;\n      }\n    }\n    else if (event.key === '1') {\n      this.debug = !this.debug;\n    }\n  }\n\n  @ViewChild(WorldMapComponent) map: WorldMapComponent;\n\n  styleBackground: string = 'rgba(0,0,0,1)';\n  mouse: NamedMouseElement = null;\n  scene: Scene = new Scene();\n\n  constructor(public game: RPGGame,\n              public notify: NotificationService,\n              public loadingService: LoadingService,\n              public store: Store<AppState>,\n              public world: GameWorld) {\n    super();\n    this.world.mark(this.scene);\n    this.world.time.start();\n  }\n\n  ngOnDestroy(): void {\n    this.world.erase(this.scene);\n    this.scene.removeView(this);\n  }\n\n  ngAfterViewInit(): void {\n    this.canvas = this.canvasElementRef.nativeElement;\n    this.camera.point.set(-0.5, -0.5);\n    this.scene.addView(this);\n    setTimeout(() => this._onResize(), 1);\n  }\n\n  public _onResize(event?: Event) {\n    super._onResize(event);\n    // Camera (window bounds)\n    if (this.map) {\n      const tileOffset = this.map.bounds.getCenter();\n      const offset = this._bounds.clone().divide(2).multiply(-1).add(tileOffset);\n      this.camera.point.set(offset.floor());\n    }\n    this.camera.extent.set(this._bounds);\n  }\n\n  //\n  // ISceneView implementation\n  //\n  onAddToScene(scene: Scene) {\n    super.onAddToScene(scene);\n    this.mouse = this.world.input.mouseHook(<SceneView> this, 'world');\n\n    //\n    // TODO: Consider how to remove these event listeners and replace with strongly typed observables\n    //\n    scene.on(TileMap.Events.MAP_LOADED, this.syncBehaviors, this);\n  }\n\n  onRemoveFromScene(scene: Scene) {\n    this.world.input.mouseUnhook('world');\n    scene.off(TileMap.Events.MAP_LOADED, this.syncBehaviors, this);\n  }\n\n  public _onClick(e: MouseEvent) {\n\n    // Ignore clicks that did not originate on the canvas\n    if (e.srcElement !== this.canvas) {\n      return;\n    }\n\n    // TODO: Skip this scene lookup and use the player component and its path behavior.\n    const pathComponent = this.scene.componentByType(TileMapPathBehavior) as TileMapPathBehavior;\n    const playerComponent = this.scene.componentByType(PlayerBehaviorComponent) as PlayerBehaviorComponent;\n    if (pathComponent && playerComponent) {\n      PowInput.mouseOnView(e, this.mouse.view, this.mouse);\n      playerComponent.path = pathComponent.calculatePath(playerComponent.targetPoint, this.mouse.world);\n      e.preventDefault();\n      return false;\n    }\n  }\n\n  /**\n   * Render the tile map and any features it has.\n   */\n  renderFrame(elapsed: number) {\n    super.renderFrame(elapsed);\n    // Map renders features\n    if (this.map) {\n      this.map.renderFrame(this, elapsed);\n      // Player renders self and target paths\n      if (this.map.player) {\n        this.map.player.renderFrame(this, elapsed);\n      }\n    }\n    if (this.debug) {\n      this.debugRender();\n    }\n    return this;\n  }\n\n  /**\n   * Render Tile debug information.\n   */\n  debugRender() {\n    const debugStrings = [\n      `Camera: (${this.camera.point.x},${this.camera.point.y})`\n    ];\n    const player = this.scene.objectByComponent(PlayerBehaviorComponent);\n    if (player) {\n      debugStrings.push(`Player: (${player.point.x},${player.point.y})`);\n    }\n    const clipRect = this.getCameraClip();\n    debugStrings.push(`Clip: (${clipRect.point.x},${clipRect.point.y}) (${clipRect.extent.x},${clipRect.extent.y})`);\n\n    // Render the clip rectangle\n    this.context.strokeStyle = '#00ff00';\n    const screenClip = this.worldToScreen(clipRect);\n    this.context.strokeRect(screenClip.point.x, screenClip.point.y, screenClip.extent.x, screenClip.extent.y);\n\n    // Render impassable tiles on the map in the clip rect\n    this.context.strokeStyle = '#ff0000';\n    const clipXMin = clipRect.point.x;\n    const clipXMax = clipRect.getRight();\n    const clipYMin = clipRect.point.y;\n    const clipYMax = clipRect.getBottom();\n    for (let x = clipXMin; x <= clipXMax; x++) {\n      for (let y = clipYMin; y <= clipYMax; y++) {\n        this.map.getLayers().forEach((layer) => {\n          const tile = this.map.getTerrain(layer.name, x, y);\n          if (tile && !tile.passable) {\n            const screenTile: Rect = this.worldToScreen(new Rect(new Point(x - 0.5, y - 0.5), new Point(1, 1)));\n            this.context.strokeRect(screenTile.point.x, screenTile.point.y, screenTile.extent.x, screenTile.extent.y);\n          }\n        });\n      }\n    }\n\n    // Game features\n    this.context.strokeStyle = '#0000FF';\n    const tiles = this.scene.objectsByType(GameFeatureObject);\n    tiles.forEach((object: any) => {\n      const point = object.renderPoint || object.point;\n      const screenTile: Rect = this.worldToScreen(new Rect(new Point(point.x - 0.5, point.y - 0.5), new Point(1, 1)));\n      this.context.strokeRect(screenTile.point.x, screenTile.point.y, screenTile.extent.x, screenTile.extent.y);\n    });\n\n    // Framerate information\n    debugStrings.push(`MSPF: ${this.world.time.mspf}`);\n    debugStrings.push(`FPS:  ${this.scene.fps.toFixed(0)}`);\n\n    // Debug strings\n    const fontSize = 6;\n    this.context.save();\n    this.context.font = `bold ${fontSize}px GraphicPixel`;\n    const renderPos = this.worldToScreen(clipRect.point);\n    let textX = renderPos.x + 10;\n    let textY = renderPos.y + 10;\n    let i: number;\n    for (i = 0; i < debugStrings.length; ++i) {\n      this.context.fillStyle = 'rgba(0,0,0,0.8)';\n      this.context.fillText(debugStrings[i], textX + 1, textY + 1);\n      this.context.fillStyle = 'rgba(255,255,255,1)';\n      this.context.fillText(debugStrings[i], textX, textY);\n      textY += fontSize;\n    }\n    this.context.restore();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/world.component.ts","import {RouterStateSnapshot, ActivatedRouteSnapshot, CanActivate, Router} from '@angular/router';\nimport {Injectable} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport {AppState} from '../../app.model';\nimport {Observable} from 'rxjs/Rx';\nimport {getGameMap} from '../../models/selectors';\n\n@Injectable()\nexport class CanActivateWorld implements CanActivate {\n  constructor(private store: Store<AppState>, private router: Router) {\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    // TODO: This check is hosed if a reasonable default value is set for the initial state for\n    // map. Investigate whether this is sane.\n    return this.store.select(getGameMap).take(1).map((mapName: string) => {\n      // Verify that the map name is equal to the route id.\n      // This is assuming that it will accomplish two things:\n      // 1) If the user has no state, it will fail to activate (e.g. when refreshing the page)\n      // 2) If the user is trying to navigate to a world that is not consistent with their app\n      //    state, it will fail.\n      if (mapName !== route.params['id']) {\n        this.router.navigate(['/']);\n        return false;\n      }\n      return true;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/world.guards.ts","import * as _ from 'underscore';\nimport {errors} from './errors';\nimport {IBehavior, IBehaviorHost} from './behavior';\nimport {Events} from './events';\n\n/**\n * A BehaviorHost is a container for groups of components.\n *\n * Basic composite object that has a set of dynamic behaviors added to it through the\n * addition and removal of component objects.  Components may be looked up by type, and\n * may depend on siblings components for parts of their own behavior.\n */\nexport class BehaviorHost extends Events implements IBehaviorHost {\n  id: string;\n  name: string;\n\n  _connectedBehaviors: IBehavior[] = [];\n\n  destroy() {\n    _.each(this._connectedBehaviors, (o: IBehavior) => {\n      o.disconnectBehavior();\n    });\n    this._connectedBehaviors.length = 0;\n  }\n\n  findBehavior(type: Function): IBehavior {\n    const values: any[] = this._connectedBehaviors;\n    const l: number = this._connectedBehaviors.length;\n    for (let i = 0; i < l; i++) {\n      const o: IBehavior = values[i];\n      if (o instanceof type) {\n        return o;\n      }\n    }\n    return null;\n  }\n\n  findBehaviors(type: Function): IBehavior[] {\n    const values: any[] = this._connectedBehaviors;\n    const results: IBehavior[] = [];\n    const l: number = this._connectedBehaviors.length;\n    for (let i = 0; i < l; i++) {\n      const o: IBehavior = values[i];\n      if (o instanceof type) {\n        results.push(o);\n      }\n    }\n    return results;\n  }\n\n  findBehaviorByName(name: string): IBehavior {\n    const values: any[] = this._connectedBehaviors;\n    const l: number = this._connectedBehaviors.length;\n    for (let i = 0; i < l; i++) {\n      const o: IBehavior = values[i];\n      if (o.name === name) {\n        return o;\n      }\n    }\n    return null;\n  }\n\n  syncBehaviors() {\n    const values: any[] = this._connectedBehaviors;\n    const l: number = this._connectedBehaviors.length;\n    for (let i = 0; i < l; i++) {\n      values[i].syncBehavior();\n    }\n  }\n\n  addBehavior(component: IBehavior, silent?: boolean): boolean {\n    if (!component) {\n      throw new Error(errors.REQUIRED_ARGUMENT);\n    }\n    if (_.where(this._connectedBehaviors, {id: component.id}).length > 0) {\n      throw new Error(errors.ALREADY_EXISTS);\n    }\n    component.host = this;\n    if (component.connectBehavior() === false) {\n      delete component.host;\n      return false;\n    }\n    this._connectedBehaviors.push(component);\n    if (silent !== true) {\n      this.syncBehaviors();\n    }\n    return true;\n  }\n\n  removeBehaviorByType(componentType: any, silent: boolean = false): boolean {\n    const component = this.findBehavior(componentType);\n    if (!component) {\n      return false;\n    }\n    return this.removeBehavior(component, silent);\n  }\n\n  removeBehavior(component: IBehavior, silent: boolean = false): boolean {\n    const previousCount: number = this._connectedBehaviors.length;\n    this._connectedBehaviors = _.filter(this._connectedBehaviors, (obj: IBehavior) => {\n      if (obj.id === component.id) {\n        if (obj.disconnectBehavior() === false) {\n          return true;\n        }\n        obj.host = null;\n        return false;\n      }\n      return true;\n    });\n    const change: boolean = this._connectedBehaviors.length !== previousCount;\n    if (change && silent !== true) {\n      this.syncBehaviors();\n    }\n    return change;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/behavior-host.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {BehaviorHost} from './behavior-host';\nimport {Events} from './events';\nimport * as _ from 'underscore';\n/**\n * Most basic object.  Has an id and a name.\n */\nexport interface IObject {\n  id: string;\n  name: string;\n}\n\n/**\n * Basic component interface.  Supports component host lifetime implementations, and\n * hot-swapping map.\n */\nexport interface IBehavior extends IObject {\n\n  /**\n   * The host object that this component belongs to.\n   */\n  host: IObject;\n\n  /**\n   * Connect this component to its host.  Initialization logic goes here.\n   */\n  connectBehavior(): boolean;\n  /**\n   * Disconnect this component from its host.  Destruction logic goes here.\n   */\n  disconnectBehavior(): boolean;\n\n  /**\n   * Behaviors on the host have changed.  If this component depends on other\n   * host object map, the references to them should be looked up and\n   * stored here.\n   */\n  syncBehavior(): boolean;\n}\n\n/**\n * Basic component host object interface.  Exposes methods for adding/removing/searching\n * map that a host owns.\n */\nexport interface IBehaviorHost extends IObject {\n  addBehavior(component: IBehavior, silent?: boolean): boolean;\n  removeBehavior(component: IBehavior, silent?: boolean): boolean;\n\n  syncBehaviors();\n\n  findBehavior(type: Function): IBehavior;\n  findBehaviors(type: Function): IBehavior[];\n\n  findBehaviorByName(name: string): IBehavior;\n}\n\n/**\n * Simplest ISceneBehavior implementation.  Because Typescript interfaces are compile\n * time constructs, we have to have an actual implementation to instanceof.  For that\n * reason, all SceneBehaviors should derive this class.\n */\nexport class Behavior extends Events implements IBehavior {\n  id: string = _.uniqueId('sc');\n  host: BehaviorHost;\n  name: string;\n\n  connectBehavior(): boolean {\n    return true;\n  }\n\n  disconnectBehavior(): boolean {\n    return true;\n  }\n\n  syncBehavior(): boolean {\n    return true;\n  }\n\n  toString(): string {\n    const ctor: any = this.constructor;\n    const ctorString: string = ctor ? ctor.toString().match(/function (.+?)\\(/) : null;\n    if (ctor && ctor.name) {\n      return ctor.name;\n    }\n    else if (ctorString && ctorString[1]) {\n      return ctorString[1];\n    } else {\n      return this.name;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Resource} from '../resource';\nimport {errors} from '../errors';\nimport {Time} from '../time';\nimport * as _ from 'underscore';\n\n/**\n * A supported audio format description that maps extensions to resource types.\n */\nexport interface IAudioFormat {\n\n  /**\n   * The file extension that corresponds to this format.\n   */\n  extension: string;\n\n  /**\n   * The media resource type to check against an audio element.\n   */\n  type: string;\n}\n\n/**\n * Define an interface for interacting with audio files.\n */\nexport interface IAudioSource {\n  play(): IAudioSource;\n  pause(): IAudioSource;\n  volume: number;\n}\n\n/**\n * Use jQuery to load an Audio resource.\n */\nexport class AudioResource extends Resource implements IAudioSource {\n  data: HTMLAudioElement;\n  private static FORMATS: any[] = [\n    ['mp3', ['audio/mpeg;']],\n    ['m4a', ['audio/x-m4a;']],\n    ['aac', ['audio/mp4a;', 'audio/mp4;']],\n    ['ogg', ['audio/ogg; codecs=\"vorbis\"']],\n    ['wav', ['audio/wav; codecs=\"1\"']]\n  ];\n\n  /**\n   * Detect support for audio files of varying types.\n   *\n   * Source: http://diveintohtml5.info/everything.html\n   */\n  static supportedFormats(): IAudioFormat[] {\n    const w: any = window;\n    const ac: any = w.AudioContext || w.webkitAudioContext;\n    if (AudioResource._context === null && ac) {\n      AudioResource._context = new ac();\n    }\n    if (AudioResource._types === null) {\n      this._types = [];\n      const a = document.createElement('audio');\n      // The existence of canPlayType indicates support for audio elements.\n      if (a.canPlayType) {\n        try {\n          // Server editions of Windows will throw \"Not Implemented\" if they\n          // have no access to media extension packs.  Catch this error and\n          // leave the detected types at 0 length.\n          a.canPlayType('audio/wav;');\n\n          _.each(this.FORMATS, (desc) => {\n            const types = desc[1];\n            const extension = desc[0];\n            _.each(types, (type: string) => {\n              if (!!a.canPlayType(type)) {\n                this._types.push({\n                  extension,\n                  type\n                });\n              }\n            });\n          });\n        }\n        catch (e) {\n          // Fall through\n        }\n      }\n\n    }\n    return this._types.slice();\n  }\n\n  private static _context: any = null;\n\n  private static _types: IAudioFormat[] = null;\n\n  private _source: AudioBufferSourceNode = null;\n  private _audio: HTMLAudioElement = null;\n\n  fetch(url?: string): Promise<Resource> {\n    this.url = url || this.url;\n    let formats: IAudioFormat[] = AudioResource.supportedFormats();\n    // If the url specifies a format, sort it to the front of the formats\n    // list so it will be tried first.\n    const dotIndex = this.url.lastIndexOf('.');\n    if (dotIndex !== -1) {\n      const urlExtension = this.url.substr(dotIndex + 1);\n      formats = formats.sort((a: IAudioFormat, b: IAudioFormat) => {\n        if (b.extension === urlExtension) {\n          return 1;\n        }\n        return 0;\n      });\n    }\n    if (formats.length === 0) {\n      return Promise.reject(errors.UNSUPPORTED_OPERATION);\n    }\n    return this._loadAudioElement(formats);\n  }\n\n  play(when: number = 0): IAudioSource {\n    if (this.data) {\n      this.data.volume = this.volume;\n      this.data.play();\n    }\n    return this;\n  }\n\n  pause(): IAudioSource {\n    if (this.data) {\n      this.data.pause();\n    }\n    return this;\n  }\n\n  private _volume: number = 0.8;\n  set volume(value: number) {\n    this._volume = value;\n  }\n\n  get volume(): number {\n    return this._volume;\n  }\n\n  private _getUrlForFormat(format: IAudioFormat): string {\n    const index = this.url.lastIndexOf('.');\n    let url = this.url;\n    if (index !== -1) {\n      url = url.substr(0, index);\n    }\n    return `${url}.${format.extension}`;\n\n  }\n\n  private _loadAudioElement(formats: IAudioFormat[]): Promise<AudioResource> {\n\n    return new Promise<AudioResource>((resolve, reject) => {\n      let sources: number = formats.length;\n      let completed;\n      const invalid: string[] = [];\n      const reference: HTMLAudioElement = document.createElement('audio');\n      let timer = new Time()\n        .start()\n        .addObject({\n          tick: () => reference.readyState > 3 ? completed() : null\n        });\n      completed = () => {\n        this.data = reference;\n        this._audio = reference;\n        timer.stop();\n        resolve(this);\n      };\n      const incrementFailure: Function = (path: string) => {\n        sources--;\n        invalid.push(path);\n        if (sources <= 0) {\n          reject('No valid sources at the following URLs\\n' + invalid.join('\\n   '));\n        }\n      };\n\n      if (sources === 0) {\n        return reject('no supported media types');\n      }\n\n      reference.addEventListener('canplaythrough', completed);\n      // Try all supported types, and accept the first valid one.\n      _.each(formats, (format: IAudioFormat) => {\n        let source = document.createElement('source') as HTMLSourceElement;\n        source.addEventListener('error', () => {\n          console.log(`source failed: ${source.src}`);\n          incrementFailure(source.src);\n        });\n\n        source.type = format.type.substr(0, format.type.indexOf(';'));\n        source.src = this._getUrlForFormat(format);\n        reference.appendChild(source);\n      });\n\n      reference.load();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/resources/audio.resource.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Resource} from '../resource';\nimport * as $ from 'jquery';\n/**\n * Use jQuery to load a JSON file from a URL.\n */\nexport class JSONResource extends Resource {\n  data: any;\n\n  fetch(url?: string): Promise<JSONResource> {\n    this.url = url || this.url;\n    return new Promise<JSONResource>((resolve, reject) => {\n      const request: any = $.getJSON(this.url);\n      request.done((object: JSON) => {\n        this.data = object;\n        resolve(this);\n      });\n      request.fail((jqxhr, settings, exception) => {\n        reject(exception);\n      });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/resources/json.resource.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Time} from './time';\nimport {Injectable} from '@angular/core';\n\nexport interface IWorld {\n  time: Time;\n  mark(object?: IWorldObject);\n  erase(object?: IWorldObject);\n  setService(name: string, value: IWorldObject): IWorldObject;\n}\nexport interface IWorldObject {\n  world: IWorld;\n  onAddToWorld?(world: IWorld);\n  onRemoveFromWorld?(world: IWorld);\n}\n\n@Injectable()\nexport class World implements IWorld {\n  time: Time = Time.get();\n\n  setService(name: string, value: IWorldObject): IWorldObject {\n    this.mark(value);\n    this[name] = value;\n    return value;\n  }\n\n  mark(object?: IWorldObject) {\n    if (object) {\n      object.world = this;\n      if (object.onAddToWorld) {\n        object.onAddToWorld(this);\n      }\n    }\n  }\n\n  erase(object?: IWorldObject) {\n    if (object) {\n      if (object.onRemoveFromWorld) {\n        object.onRemoveFromWorld(this);\n      }\n      delete object.world;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow-core/world.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n// State Machine Interfaces\n// -------------------------------------------------------------------------\nimport * as _ from 'underscore';\nimport {IState} from './state';\nimport {Events, IEvents} from '../../pow-core/events';\n\nexport interface IStateMachine extends IEvents {\n  update(data: any);\n  addState(state: IState);\n  addStates(states: IState[]);\n  getCurrentState(): IState;\n  getCurrentName(): string;\n  setCurrentState(name: string): boolean;\n  setCurrentState(state: IState): boolean;\n  setCurrentState(newState: any): boolean;\n  getPreviousState(): IState;\n  getState(name: string): IState;\n}\n\nexport interface IResumeCallback {\n  (): void;\n}\n\n// Implementation\n// -------------------------------------------------------------------------\nexport class StateMachine extends Events implements IStateMachine {\n\n  static DEBUG_STATES: boolean = true;\n\n  static Events: any = {\n    ENTER: 'enter',\n    EXIT: 'exit'\n  };\n\n  defaultState: string = null;\n  states: IState[] = [];\n  private _currentState: IState = null;\n  private _previousState: IState = null;\n  private _newState: boolean = false;\n  private _pendingState: IState = null;\n\n  update(data?: any) {\n    this._newState = false;\n    if (this._currentState === null) {\n      this.setCurrentState(this.defaultState);\n    }\n    if (this._currentState !== null) {\n      this._currentState.update(this);\n    }\n    // Didn't transition, make sure previous === current for next tick.\n    if (this._newState === false && this._currentState !== null) {\n      this._previousState = this._currentState;\n    }\n  }\n\n  addState(state: IState) {\n    this.states.push(state);\n  }\n\n  addStates(states: IState[]) {\n    this.states = _.unique(this.states.concat(states));\n  }\n\n  getCurrentState(): IState {\n    return this._currentState;\n  }\n\n  getCurrentName(): string {\n    return this._currentState !== null ? this._currentState.name : null;\n  }\n\n  /**\n   * Set the current state after the callstack unwinds.\n   * @param newState {string|IState} Either a state object or the name of one.\n   */\n  setCurrentState(newState: IState | string): boolean {\n    let state = typeof newState === 'string' ? this.getState(newState) : <IState> newState;\n    if (!state) {\n      console.error(`STATE NOT FOUND: ${newState}`);\n      return false;\n    }\n    if (this._pendingState !== null && this._pendingState.name !== state.name) {\n      console.log(`Overwriting pending state (${this._pendingState.name}) with (${state.name})`);\n      this._pendingState = state;\n    }\n    else if (!this._pendingState) {\n      this._pendingState = state;\n      _.defer(() => {\n        state = this._pendingState;\n        this._pendingState = null;\n        if (!this._setCurrentState(state)) {\n          console.error(`Failed to set state: ${state.name}`);\n        }\n      });\n    }\n    return true;\n  }\n\n  private _setCurrentState(state: IState) {\n    if (!state) {\n      return false;\n    }\n    const oldState: IState = this._currentState;\n    // Already in the desired state.\n    if (this._currentState && state.name === this._currentState.name) {\n      console.warn(`${this._currentState.name}: Attempting to set current state to already active state`);\n      return true;\n    }\n    this._newState = true;\n    this._previousState = this._currentState;\n    this._currentState = state;\n    // DEBUG:\n    if (StateMachine.DEBUG_STATES) {\n      console.log(`STATE: ${oldState ? oldState.name : 'NULL'} -> ${this._currentState.name}`);\n    }\n    if (oldState) {\n      this.trigger(StateMachine.Events.EXIT, oldState, state);\n      oldState.exit(this);\n    }\n    state.enter(this);\n    this.trigger(StateMachine.Events.ENTER, state, oldState);\n    return true;\n  }\n\n  getPreviousState(): IState {\n    return this._previousState;\n  }\n\n  getState(name: string): IState {\n    return _.find(this.states, (s: IState) => {\n      return s.name === name;\n    });\n  }\n\n  private _asyncProcessing: number = 0;\n  private _asyncCurrentCallback: IResumeCallback = null;\n\n  /**\n   * Notify the game UI of an event, and wait for it to be handled,\n   * if there is a handler.\n   */\n  notify(msg: string, data: any, callback?: () => any) {\n    if (this._asyncProcessing > 0) {\n      throw new Error('TODO: StateMachine cannot handle multiple async UI waits');\n    }\n\n    this._asyncCurrentCallback = () => {\n      this._asyncProcessing--;\n      if (this._asyncProcessing <= 0) {\n        if (callback) {\n          callback();\n        }\n        this._asyncProcessing = 0;\n      }\n    };\n    this._asyncProcessing = 0;\n    this.trigger(msg, data);\n    if (this._asyncProcessing === 0) {\n      if (callback) {\n        callback();\n      }\n    }\n  }\n\n  notifyWait(): IResumeCallback {\n    if (!this._asyncCurrentCallback) {\n      throw new Error('No valid async callback set!  Perhaps you called this outside of a notify event handler?');\n    }\n    this._asyncProcessing++;\n    return this._asyncCurrentCallback;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/core/state-machine.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n// State Interfaces\n// -------------------------------------------------------------------------\nimport {IStateMachine} from './state-machine';\n\nexport interface IState {\n  name: string;\n  enter(machine: IStateMachine);\n  exit(machine: IStateMachine);\n  update(machine: IStateMachine);\n}\nexport interface IStateTransition {\n  targetState: string;\n  evaluate(machine: IStateMachine): boolean;\n}\n\n// Implementation\n// -------------------------------------------------------------------------\nexport class State implements IState {\n  name: string;\n  transitions: IStateTransition[] = [];\n\n  enter(machine: IStateMachine) {\n    // nothing\n  }\n\n  exit(machine: IStateMachine) {\n    // nothing\n  }\n\n  update(machine: IStateMachine) {\n    const l: number = this.transitions.length;\n    for (let i: number = 0; i < l; i++) {\n      const t: IStateTransition = this.transitions[i];\n      if (!t.evaluate(machine)) {\n        continue;\n      }\n      if (!machine.setCurrentState(t.targetState)) {\n        continue;\n      }\n      return;\n    }\n  }\n}\n\nexport class StateTransition implements IStateTransition {\n  targetState: string;\n\n  evaluate(machine: IStateMachine): boolean {\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/core/state.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Point} from '../../../pow-core/point';\nimport {TickedBehavior} from './ticked-behavior';\nimport {KeyCode} from '../../core/input';\nimport {SceneObject} from '../scene-object';\nimport {CollisionBehaviorComponent} from '../../../../app/behaviors/collision.behavior';\n/**\n * Describe a move from one point to another.\n */\nexport interface IMoveDescription {\n  from: Point;\n  to: Point;\n}\n\n/**\n * Add movable behavior to an object.  Supports moving in X/Y directions, one\n * at a time.  Good for 2D tile games.\n */\nexport class MovableBehavior extends TickedBehavior {\n  _elapsed: number = 0;\n  targetPoint: Point;\n  path: Point[] = [];\n  tickRateMS: number = 250;\n  velocity: Point = new Point(0, 0);\n  workPoint: Point = new Point(0, 0);\n  host: SceneObject;\n  collider: CollisionBehaviorComponent;\n  currentMove: IMoveDescription = null;\n\n  connectBehavior(): boolean {\n    this.host.point = new Point(this.host.point).round();\n    this.targetPoint = new Point(this.host.point);\n    this.host.renderPoint = this.targetPoint.clone();\n    return super.connectBehavior();\n  }\n\n  syncBehavior(): boolean {\n    this.collider = this.host.findBehavior(CollisionBehaviorComponent) as CollisionBehaviorComponent;\n    return super.syncBehavior();\n  }\n\n  /**\n   * Called when a new tick of movement begins.\n   * @param move The move that is beginning\n   */\n  beginMove(move: IMoveDescription) {\n    // nothing\n  }\n\n  /**\n   * Called when a complete tick of movement occurs.\n   * @param move The move that is now completed.\n   */\n  completeMove(move: IMoveDescription) {\n    // nothing\n  }\n\n  collideMove(x: number, y: number, results: SceneObject[] = []) {\n    if (!this.collider) {\n      return false;\n    }\n    return this.collider.collide(x, y, SceneObject, results);\n  }\n\n  updateVelocity() {\n    if (!this.host.scene || !this.host.scene.world || !this.host.scene.world.input) {\n      return;\n    }\n    const worldInput = <any> this.host.scene.world.input;\n    // Keyboard input\n    this.velocity.x = 0;\n    if (worldInput.keyDown(KeyCode.LEFT)) {\n      this.velocity.x -= 1;\n    }\n    if (worldInput.keyDown(KeyCode.RIGHT)) {\n      this.velocity.x += 1;\n    }\n    this.velocity.y = 0;\n    if (worldInput.keyDown(KeyCode.UP)) {\n      this.velocity.y -= 1;\n    }\n    if (worldInput.keyDown(KeyCode.DOWN)) {\n      this.velocity.y += 1;\n    }\n  }\n\n  interpolateTick(elapsed: number) {\n    // Interpolate position based on tickrate and elapsed time\n    const factor = this._elapsed / this.tickRateMS;\n    this.host.renderPoint.x = this.host.point.x;\n    this.host.renderPoint.y = this.host.point.y;\n    if (this.velocity.isZero()) {\n      return;\n    }\n    Point.interpolate(this.host.renderPoint, this.host.point, this.targetPoint, factor);\n    this.host.renderPoint.x = parseFloat(this.host.renderPoint.x.toFixed(2));\n    this.host.renderPoint.y = parseFloat(this.host.renderPoint.y.toFixed(2));\n  }\n\n  tick(elapsed: number) {\n    this._elapsed += elapsed;\n    if (this._elapsed < this.tickRateMS) {\n      return;\n    }\n    // Don't subtract elapsed here, but take the modulus so that\n    // if for some reason we get a HUGE elapsed, it just does one\n    // tick and keeps the remainder toward the next.\n    this._elapsed = this._elapsed % this.tickRateMS;\n\n    // Advance the object if it can be advanced.\n    //\n    // Check that targetPoint != point first, because or else\n    // the collision check will see be against the current position.\n    if (!this.targetPoint.equal(this.host.point) && !this.collideMove(this.targetPoint.x, this.targetPoint.y)) {\n\n      // Target point is not the current point and there is no collision.\n      this.workPoint.set(this.host.point);\n      this.host.point.x = this.targetPoint.x;\n      this.host.point.y = this.targetPoint.y;\n\n      //\n      this.completeMove(this.currentMove);\n    }\n\n    // Update Velocity Inputs\n    this.updateVelocity();\n\n    this.targetPoint.set(this.host.point);\n\n    const zero: boolean = this.velocity.isZero();\n    if (zero && this.path.length === 0) {\n      return;\n    }\n\n    // Zero and have a path, shift the next tile and move there.\n    if (zero) {\n      const next: Point = this.path.shift();\n      this.velocity.set(next.x - this.host.point.x, next.y - this.host.point.y);\n    }\n    else {\n      // Clear path is moving manually.\n      this.path.length = 0;\n    }\n    this.targetPoint.add(this.velocity);\n    // Check to see if both axes can advance by simply going to the\n    // target point.\n\n    // Determine which axis we can move along\n    if (this.velocity.y !== 0 && !this.collideMove(this.host.point.x, this.targetPoint.y)) {\n      this.targetPoint.x = this.host.point.x;\n    }\n    // How about the X axis?  We'll take any axis we can get.\n    else if (this.velocity.x !== 0 && !this.collideMove(this.targetPoint.x, this.host.point.y)) {\n      this.targetPoint.y = this.host.point.y;\n    }\n    else {\n      // Nope, collisions in all directions, just reset the target point\n      this.targetPoint.set(this.host.point);\n      // If there's a path, it had an invalid move, so clear it.\n      this.path.length = 0;\n      return;\n    }\n\n    this.currentMove = {\n      from: new Point(this.host.point),\n      to: new Point(this.targetPoint)\n    };\n    this.beginMove(this.currentMove);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/behaviors/movable-behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {SceneObjectBehavior} from '../scene-object-behavior';\nimport {AudioResource} from '../../../pow-core/resources/audio.resource';\nimport {GameWorld} from '../../../../app/services/game-world';\n\nexport interface SoundComponentOptions {\n  url: string;\n  loop?: boolean;\n  volume?: number;\n}\n\nconst DEFAULTS: SoundComponentOptions = {\n  url: null,\n  volume: 1,\n  loop: false\n};\n\nexport class SoundBehavior extends SceneObjectBehavior implements SoundComponentOptions {\n  url: string;\n  volume: number;\n  loop: boolean;\n  audio: AudioResource;\n\n  constructor(options: SoundComponentOptions = DEFAULTS) {\n    super();\n    if (typeof options !== 'undefined') {\n      _.extend(this, DEFAULTS, options);\n    }\n  }\n\n  disconnectBehavior(): boolean {\n    if (this.audio && this.audio.data) {\n      this.audio.data.pause();\n      this.audio.data.currentTime = 0;\n    }\n    return super.disconnectBehavior();\n  }\n\n  connectBehavior(): boolean {\n    if (!super.connectBehavior() || !this.url) {\n      return false;\n    }\n    if (this.audio && this.audio.data) {\n      this.audio.data.currentTime = 0;\n      this.audio.data.volume = this.volume;\n      return true;\n    }\n    const world = GameWorld.get();\n    if (!world || !world.loader) {\n      return false;\n    }\n    world.loader.load(this.url).then((resources: AudioResource[]) => {\n      const res = resources[0];\n      this.audio = res;\n      if (this.audio.data) {\n        this.audio.data.currentTime = 0;\n        this.audio.data.volume = this.volume;\n        this.audio.data.loop = this.loop;\n        this.audio.data.play();\n        this.audio.data.addEventListener('timeupdate', () => {\n          if (this.audio.data.currentTime >= this.audio.data.duration) {\n            if (!this.loop) {\n              this.audio.data.pause();\n              this.trigger('audio:done', this);\n            }\n            else {\n              this.trigger('audio:loop', this);\n            }\n          }\n        });\n      }\n    });\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/behaviors/sound-behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {SceneObject} from './scene-object';\nimport {ISceneView} from './scene.model';\nimport {Rect} from '../../pow-core/rect';\nimport {Scene} from './scene';\nimport {SceneViewComponent} from './scene-view-component';\nimport {Point} from '../../pow-core/point';\n/**\n * A view that renders a `Scene` through a given HTMLCanvasElement.\n *\n *  - a camera that can be moved, sized, and scaled\n *  - utilities for converting coordinates between World and Screen.\n *  - render decorators via [SceneViewComponent]\n *  - rendering a set of sprites with [spriteName].json files that describe\n *    the frames and timing.\n */\nexport class SceneView extends SceneObject implements ISceneView {\n  static UNIT: number = 16;\n\n  animations: any[] = [];\n  context: CanvasRenderingContext2D;\n  camera: Rect;\n  cameraComponent: any = null; // TODO: ICameraComponent\n  cameraScale: number;\n  unitSize: number;\n  scene: Scene = null;\n\n  get canvas(): HTMLCanvasElement {\n    return this._canvas;\n  }\n\n  set canvas(value: HTMLCanvasElement) {\n    this._canvas = value;\n    if (!value) {\n      this.context = this.canvas = null;\n      return;\n    }\n    this.context = value.getContext('2d');\n    if (!this.context) {\n      throw new Error('SceneView: could not retrieve 2d Canvas context');\n    }\n    const context = this.context as any;\n    context.webkitImageSmoothingEnabled = false;\n    context.mozImageSmoothingEnabled = false;\n    this.camera = new Rect(0, 0, 9, 9);\n    this.cameraScale = 1.0;\n    this.unitSize = SceneView.UNIT;\n  }\n\n  private _canvas: HTMLCanvasElement = null;\n\n  // Scene rendering interfaces\n  // -----------------------------------------------------------------------------\n\n  renderToCanvas(width, height, renderFunction) {\n    const buffer = document.createElement('canvas');\n    buffer.width = width;\n    buffer.height = height;\n    const context: any = buffer.getContext('2d');\n    // Disable smoothing for nearest neighbor scaling.\n    context.webkitImageSmoothingEnabled = false;\n    context.mozImageSmoothingEnabled = false;\n    renderFunction(context);\n    return buffer;\n  }\n\n  // Render a frame. Subclass this to do your specific rendering.\n  renderFrame(elapsed: number) {\n    _.each(this._connectedBehaviors, (o: any) => {\n      if (o instanceof SceneViewComponent) {\n        o.renderFrame(this, elapsed);\n      }\n    });\n  }\n\n  // Render post effects\n  renderPost() {\n    // nothing\n  }\n\n  // Set the render state for this scene view.\n  setRenderState() {\n    if (!this.context) {\n      return;\n    }\n    this.context.save();\n    this.context.scale(this.cameraScale, this.cameraScale);\n  }\n\n  // Restore the render state to what it was before a call to setRenderState.\n  restoreRenderState(): boolean {\n    if (!this.context) {\n      return false;\n    }\n    this.context.restore();\n    return true;\n  }\n\n  // Public render invocation.\n  render() {\n    this._render(0);\n  }\n\n  // Render the scene\n  _render(elapsed: number) {\n    this.processCamera();\n    this.setRenderState();\n    _.each(this._connectedBehaviors, (o: any) => {\n      if (o instanceof SceneViewComponent) {\n        o.beforeFrame(this, elapsed);\n      }\n    });\n    this.renderFrame(elapsed);\n    this.renderAnimations();\n    this.renderPost();\n    _.each(this._connectedBehaviors, (o: any) => {\n      if (o instanceof SceneViewComponent) {\n        o.afterFrame(this, elapsed);\n      }\n    });\n    this.restoreRenderState();\n  }\n\n  // Scene Camera updates\n  // -----------------------------------------------------------------------------\n  processCamera() {\n    if (this.cameraComponent) {\n      this.cameraComponent.process(this);\n    }\n  }\n\n  // Scene rendering utilities\n  // -----------------------------------------------------------------------------\n\n  clearRect() {\n    let renderPos;\n    let x = 0;\n    let y = 0;\n    if (this.camera) {\n      renderPos = this.worldToScreen(this.camera.point);\n      x = renderPos.x;\n      y = renderPos.y;\n    }\n    return this.context.clearRect(x, y, this.context.canvas.width, this.context.canvas.height);\n  }\n\n  // Coordinate Conversions (World/Screen)\n  // -----------------------------------------------------------------------------\n\n  // Convert a Rect/Point/Number from world coordinates (game units) to\n  // screen coordinates (pixels)\n  worldToScreen(value: Point, scale?): Point;\n\n  worldToScreen(value: Rect, scale?): Rect;\n\n  worldToScreen(value: number, scale?): number;\n\n  worldToScreen(value: any, scale = 1): any {\n    if (value instanceof Rect) {\n      const result: Rect = new Rect(value);\n      result.point.multiply(this.unitSize * scale);\n      result.extent.multiply(this.unitSize * scale);\n      return result;\n    }\n    else if (value instanceof Point) {\n      return new Point(value).multiply(this.unitSize * scale);\n    }\n    return value * (this.unitSize * scale);\n  }\n\n  // Convert a Rect/Point/Number from screen coordinates (pixels) to\n  // game world coordinates (game unit sizes)\n  screenToWorld(value: Point, scale?): Point;\n\n  screenToWorld(value: Rect, scale?): Rect;\n\n  screenToWorld(value: number, scale?): number;\n\n  screenToWorld(value: any, scale = 1): any {\n    if (value instanceof Rect) {\n      const result: Rect = new Rect(value);\n      result.point.multiply(1 / (this.unitSize * scale));\n      result.extent.multiply(1 / (this.unitSize * scale));\n      return result;\n    }\n    else if (value instanceof Point) {\n      return new Point(value).multiply(1 / (this.unitSize * scale));\n    }\n    return value * (1 / (this.unitSize * scale));\n  }\n\n  // Fast world to screen conversion, for high-volume usage situations.\n  // avoid memory allocations.\n  fastWorldToScreenPoint(value: Point, to: Point, scale = 1): Point {\n    to.set(value);\n    to.multiply(this.unitSize * scale);\n    return to;\n  }\n\n  fastWorldToScreenRect(value: Rect, to: Rect, scale = 1): Rect {\n    to.set(value);\n    to.point.multiply(this.unitSize * scale);\n    to.extent.multiply(this.unitSize * scale);\n    return to;\n  }\n\n  fastWorldToScreenNumber(value: number, scale = 1): number {\n    return value * (this.unitSize * scale);\n  }\n\n  // Fast screen to world conversion, for high-volume usage situations.\n  // avoid memory allocations.\n  fastScreenToWorldPoint(value: Point, to: Point, scale = 1): Point {\n    to.set(value);\n    to.multiply(1 / (this.unitSize * scale));\n    return to;\n  }\n\n  fastScreenToWorldRect(value: Rect, to: Rect, scale = 1): Rect {\n    to.set(value);\n    to.point.multiply(1 / (this.unitSize * scale));\n    to.extent.multiply(1 / (this.unitSize * scale));\n    return to;\n  }\n\n  fastScreenToWorldNumber(value: number, scale = 1): number {\n    return value * (1 / (this.unitSize * scale));\n  }\n\n  // Animations\n  // -----------------------------------------------------------------------------\n  renderAnimations() {\n    const len: number = this.animations.length;\n    for (let i = 0; i < len; i++) {\n      let animation = this.animations[i];\n      animation.done = animation.fn(animation.frame);\n      if (this.scene.time >= animation.time) {\n        animation.frame += 1;\n        animation.time = this.scene.time + animation.rate;\n      }\n    }\n    return this.animations = _.filter(this.animations, (a: any) => {\n      return a.done !== true;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/scene-view.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {SpriteComponent} from './sprite.behavior';\nimport {TickedBehavior} from '../../scene/behaviors/ticked-behavior';\nimport {TileObject} from '../tile-object';\nexport interface AnimatedSpriteComponentOptions {\n  lengthMS?: number;\n  spriteName: string;\n}\n\nexport class AnimatedSpriteBehavior extends TickedBehavior {\n  host: TileObject;\n  _elapsed: number = 0;\n  private _renderFrame: number = 3;\n  lengthMS: number = 500;\n  spriteComponent: SpriteComponent;\n  spriteName: string;\n\n  constructor(options: AnimatedSpriteComponentOptions = {\n    lengthMS: 500,\n    spriteName: null\n  }) {\n    super();\n    if (typeof options !== 'undefined') {\n      _.extend(this, options);\n    }\n  }\n\n  connectBehavior(): boolean {\n    this._renderFrame = 0;\n    this._elapsed = 0;\n    return super.connectBehavior();\n  }\n\n  syncBehavior(): boolean {\n    if (!super.syncBehavior()) {\n      return false;\n    }\n    const sprites = this.host.findBehaviors(SpriteComponent) as SpriteComponent[];\n    this.spriteComponent = _.where(sprites, {name: this.spriteName})[0] as SpriteComponent;\n    return !!this.spriteComponent;\n  }\n\n  tick(elapsed: number) {\n    this._elapsed += elapsed;\n    if (this._elapsed >= this.lengthMS) {\n      this.trigger('animation:done', this);\n      this._elapsed = this._elapsed % this.lengthMS;\n    }\n    super.tick(elapsed);\n  }\n\n  interpolateTick(elapsed: number) {\n    if (this.spriteComponent && this.spriteComponent.meta) {\n      // Choose frame for interpolated position\n      const factor = this._elapsed / this.lengthMS;\n      /* tslint:disable */\n      this.spriteComponent.frame = (factor * this.spriteComponent.meta.frames) | 0;\n      /* tslint:enable */\n    }\n    super.interpolateTick(elapsed);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/tile/behaviors/animated-sprite.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {TileObjectBehavior} from '../tile-object-behavior';\nimport {TileMap} from '../tile-map';\nimport {Point} from '../../../pow-core/point';\nimport * as astar from 'javascript-astar';\n\n/**\n * A component that can calculate A-star paths.\n */\nexport class TileMapPathBehavior extends TileObjectBehavior {\n\n  _graph: any = null; // Astar graph object\n\n  public tileMap: TileMap;\n\n  connectBehavior(): boolean {\n    return super.connectBehavior() && !!this.tileMap;\n  }\n\n  syncBehavior(): boolean {\n    this.tileMap.off(TileMap.Events.LOADED, this._updateGraph, this);\n    this.tileMap.on(TileMap.Events.LOADED, this._updateGraph, this);\n    return super.syncBehavior();\n  }\n\n  disconnectBehavior(): boolean {\n    this.tileMap.off(TileMap.Events.LOADED, this._updateGraph, this);\n    this._graph = null;\n    return super.disconnectBehavior();\n  }\n\n  protected _updateGraph() {\n    const nodes = this.buildWeightedGraph();\n    this._graph = new astar.Graph(nodes);\n  }\n\n  /**\n   * Build a two-dimensional graph of numbers that represent the map\n   * to find paths on.  The higher the value at an index, the more\n   * difficult it is to traverse.\n   *\n   * A grid might look like this:\n   *\n   *     [5,5,1,5]\n   *     [1,1,1,5]\n   *     [5,5,5,5]\n   *\n   */\n  buildWeightedGraph(): number[][] {\n    return [[]];\n  }\n\n  /**\n   * Calculate the best path from one point to another in the current\n   * A* graph.\n   */\n  calculatePath(from: Point, to: Point): Point[] {\n    if (!this._graph) {\n      this._updateGraph();\n    }\n    if (!this._graph || !this._graph.grid) {\n      throw new Error('Invalid AStar graph');\n    }\n    this._graph.init();\n    // Treat out of range errors as non-critical, and just\n    // return an empty array.\n    if (from.x >= this._graph.grid.length || from.x < 0) {\n      return [];\n    }\n    if (from.y >= this._graph.grid[from.x].length) {\n      return [];\n    }\n    if (to.x >= this._graph.grid.length || to.x < 0) {\n      return [];\n    }\n    if (to.y >= this._graph.grid[to.x].length) {\n      return [];\n    }\n    const start = this._graph.grid[from.x][from.y];\n    const end = this._graph.grid[to.x][to.y];\n    const result = astar.astar.search(this._graph, start, end);\n    return _.map(result, (graphNode: any) => {\n      return new Point(graphNode.x, graphNode.y);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/tile/behaviors/tile-map-path.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {SceneObjectRenderer} from '../../scene/scene-object-renderer';\nimport {Rect} from '../../../pow-core/rect';\nimport {TileMap} from '../tile-map';\nimport {TileMapView} from '../tile-map-view';\nimport {ITiledLayer} from '../../../pow-core/resources/tiled/tiled.model';\nimport {ITileInstanceMeta} from '../../../pow-core/resources/tiled/tiled';\nexport class TileMapRenderer extends SceneObjectRenderer {\n  buffer: HTMLCanvasElement[][] = null; // A 2d grid of rendered canvas textures.\n  bufferMapName: string = null; // The name of the rendered map.  If the map name changes, the buffer is re-rendered.\n  bufferComplete: boolean = false; // True if the entire map was rendered with all textures loaded and ready.\n\n  private _clipRect: Rect = new Rect();\n  private _renderRect: Rect = new Rect();\n\n  // TODO: only render tiles that are in the clipRect.  This can be expensive at initial\n  // load for expansive maps like the Browser Quest tmx.\n  render(object: TileMap, view: TileMapView) {\n    let row: number;\n    let col: number;\n    let rows;\n    const squareUnits = 8;\n    const squareSize = squareUnits * view.unitSize;\n    if (!object.isLoaded()) {\n      return;\n    }\n    if (object.dirtyLayers) {\n      object.dirtyLayers = false;\n      this.buffer = null;\n      this.bufferComplete = false;\n    }\n    if (!this.bufferComplete || this.buffer === null ||\n      this.bufferMapName === null || this.bufferMapName !== object.map.url) {\n      const tileUnitSize = squareSize / view.unitSize;\n      // Unit size is 16px, so rows/columns should be 16*16 for 256px each.\n      const columns = Math.ceil(object.bounds.extent.x / squareUnits);\n      rows = Math.ceil(object.bounds.extent.y / squareUnits);\n      this.buffer = new Array(columns);\n      for (col = 0; col < columns; col++) {\n        this.buffer[col] = new Array(rows);\n      }\n      this.bufferComplete = true;\n      const layers: ITiledLayer[] = object.getLayers();\n      for (col = 0; col < columns; col++) {\n        for (row = 0; row < rows; row++) {\n          const xOffset = col * tileUnitSize;\n          const xEnd = xOffset + tileUnitSize;\n          const yOffset = row * tileUnitSize;\n          const yEnd = yOffset + tileUnitSize;\n          this.buffer[col][row] = view.renderToCanvas(squareSize, squareSize, (ctx) => {\n            for (let x = xOffset; x < xEnd; x++) {\n              for (let y = yOffset; y < yEnd; y++) {\n\n                // Each layer\n                _.each(layers, (l: ITiledLayer) => {\n                  if (!l.visible) {\n                    return;\n                  }\n                  const gid: number = object.getTileGid(l.name, x, y);\n                  const meta: ITileInstanceMeta = object.getTileMeta(gid);\n                  if (meta) {\n                    const image: HTMLImageElement = (<any> meta.image).data;\n                    if (!image || !image.complete) {\n                      this.bufferComplete = false;\n                      return;\n                    }\n                    const srcX: number = meta.x;\n                    const srcY: number = meta.y;\n                    const srcW: number = meta.width;\n                    const srcH: number = meta.height;\n                    const dstX: number = (x - xOffset) * view.unitSize;\n                    const dstY: number = (y - yOffset) * view.unitSize;\n                    const dstW: number = view.unitSize;\n                    const dstH: number = view.unitSize;\n                    ctx.drawImage(image, srcX, srcY, srcW, srcH, dstX, dstY, dstW, dstH);\n                  }\n                });\n              }\n            }\n            // Append chunks to body (DEBUG HACKS)\n\n            // var dataImage = new Image();\n            // dataImage.src = ctx.canvas.toDataURL();\n            // $('body').append(dataImage);\n          });\n        }\n      }\n      this.bufferMapName = object.map.url;\n    }\n    const squareScreen = view.fastWorldToScreenNumber(squareUnits);\n\n    view.fastWorldToScreenRect(view.getCameraClip(), this._clipRect);\n    const cols: number = this.buffer.length;\n    rows = this.buffer[0].length;\n    // Unit size is 16px, so rows/columns should be 16*16 for 256px each.\n    for (col = 0; col < cols; col++) {\n      for (row = 0; row < rows; row++) {\n        this._renderRect.set(col * squareUnits - 0.5, row * squareUnits - 0.5, squareUnits, squareUnits);\n        view.fastWorldToScreenRect(this._renderRect, this._renderRect);\n        if (!this._renderRect.intersect(this._clipRect)) {\n          continue;\n        }\n        // console.log(\"Tile \" + renderRect.toString())\n        view.context.drawImage(this.buffer[col][row],\n          // From source\n          0,\n          0,\n          squareSize,\n          squareSize,\n          // Scaled to camera\n          this._renderRect.point.x,\n          this._renderRect.point.y,\n          squareScreen,\n          squareScreen);\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/tile/render/tile-map-renderer.ts","module.exports = (__webpack_require__(2))(13);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/Subscription.js from dll-reference vendor_lib\n// module id = 185\n// module chunks = 0","module.exports = (__webpack_require__(2))(131);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/operator/filter.js from dll-reference vendor_lib\n// module id = 186\n// module chunks = 0","module.exports = (__webpack_require__(2))(173);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/observable/merge.js from dll-reference vendor_lib\n// module id = 187\n// module chunks = 0","module.exports = (__webpack_require__(2))(178);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/operator/distinctUntilChanged.js from dll-reference vendor_lib\n// module id = 188\n// module chunks = 0","module.exports = (__webpack_require__(2))(2);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/Subscriber.js from dll-reference vendor_lib\n// module id = 189\n// module chunks = 0","module.exports = (__webpack_require__(2))(203);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/@angular/forms/@angular/forms.es5.js from dll-reference vendor_lib\n// module id = 190\n// module chunks = 0","module.exports = (__webpack_require__(2))(415);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/observable/fromEvent.js from dll-reference vendor_lib\n// module id = 196\n// module chunks = 0","module.exports = (__webpack_require__(2))(428);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/observable/throw.js from dll-reference vendor_lib\n// module id = 197\n// module chunks = 0","module.exports = (__webpack_require__(2))(439);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/catch.js from dll-reference vendor_lib\n// module id = 198\n// module chunks = 0","module.exports = (__webpack_require__(2))(512);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/switchMap.js from dll-reference vendor_lib\n// module id = 199\n// module chunks = 0","module.exports = (__webpack_require__(2))(608);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/operator/pluck.js from dll-reference vendor_lib\n// module id = 200\n// module chunks = 0","module.exports = (__webpack_require__(2))(646);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/operator/withLatestFrom.js from dll-reference vendor_lib\n// module id = 201\n// module chunks = 0","// App\nexport * from './app.module';\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/index.ts","// RxJS\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/observable/combineLatest';\nimport 'rxjs/add/observable/throw';\nimport 'rxjs/add/operator/debounceTime';\nimport 'rxjs/add/operator/distinctUntilChanged';\nimport 'rxjs/add/operator/filter';\nimport 'rxjs/add/observable/from';\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/observable/interval';\nimport 'rxjs/add/operator/let';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/mapTo';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/pluck';\nimport 'rxjs/add/operator/sample';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/takeUntil';\nimport 'rxjs/add/operator/toArray';\nimport 'rxjs/ReplaySubject';\nimport 'rxjs/Observable';\nimport 'rxjs/Subject';\nimport 'rxjs/Subscription';\n\nimport '@ngrx/core/add/operator/select';\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/rxjs.imports.ts","import * as OfflinePluginRuntime from 'offline-plugin/runtime';\nOfflinePluginRuntime.install({\n  onUpdateReady: () => OfflinePluginRuntime.applyUpdate(),\n  onUpdated: () => location.reload(),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/sw.browser.ts","module.exports = (__webpack_require__(2))(205);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/@angular/platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js from dll-reference vendor_lib\n// module id = 223\n// module chunks = 0","import {GameComponent} from './routes/game/game.component';\nimport {NoContentComponent} from './routes/no-content/no-content';\nimport {AppComponent} from './app.component';\n\nexport const APP_DECLARATIONS: any[] = [\n  AppComponent,\n  NoContentComponent,\n  GameComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/app.declarations.ts","import {ReactiveFormsModule, FormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {RouterStoreModule} from '@ngrx/router-store';\nimport {StoreModule} from '@ngrx/store';\nimport {CommonModule} from '@angular/common';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {HttpModule} from '@angular/http';\nimport {PowCoreModule} from '../game/pow-core/index';\nimport {ROUTES} from './app.routes';\nimport {rootReducer} from './models/index';\nimport {CombatModule} from './routes/combat/index';\nimport {GameStateEffects} from './models/game-state/game-state.effects';\nimport {EffectsModule} from '@ngrx/effects';\nimport {AppEffects} from './app.effects';\nimport {WorldModule} from './routes/world';\nimport {BehaviorsModule} from './behaviors/index';\nimport {CombatEffects} from './models/combat/combat.effects';\nimport {AppComponentsModule} from './components/index';\nimport {GameDataEffects} from './models/game-data/game-data.effects';\nimport {SpritesEffects} from './models/sprites/sprites.effects';\n\nexport const APP_IMPORTS = [\n  BrowserModule,\n  CommonModule,\n  FormsModule,\n  HttpModule,\n\n  // Components\n  BehaviorsModule.forRoot(),\n  AppComponentsModule.forRoot(),\n\n  // Routes\n  CombatModule.forRoot(),\n  WorldModule.forRoot(),\n  PowCoreModule.forRoot(),\n\n  ReactiveFormsModule,\n  RouterModule.forRoot(ROUTES, {useHash: true}),\n  StoreModule.provideStore(rootReducer),\n  RouterStoreModule.connectRouter(),\n\n  // TODO: store/devtools disabled because of poor performance.\n  //\n  // Because devtools serializes state to JSON, if you have a large amount of data in your stores (~500 objects)\n  // the time it takes to serialize and deserialize the object becomes significant. This is crippling to the\n  // performance of the app.\n  //\n  // To re-enable the devtools, [fix this](https://github.com/ngrx/store-devtools/issues/57) and then pass\n  // the option to use [Immutable compatible devtools](https://goo.gl/Wym3eT).\n  //\n  // StoreDevtoolsModule.instrumentStore(),\n\n  EffectsModule.run(GameStateEffects),\n  EffectsModule.run(CombatEffects),\n  EffectsModule.run(SpritesEffects),\n  EffectsModule.run(GameDataEffects),\n  EffectsModule.run(AppEffects)\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/app.imports.ts","import {NgModule, ApplicationRef} from '@angular/core';\nimport {removeNgStyles, createNewHosts, createInputTransfer} from '@angularclass/hmr';\nimport {ENV_PROVIDERS} from './environment';\nimport {AppComponent} from './app.component';\nimport {APP_PROVIDERS} from './app.providers';\nimport {APP_IMPORTS} from './app.imports';\nimport {APP_DECLARATIONS} from './app.declarations';\nimport {Store} from '@ngrx/store';\nimport {AppState} from './app.model';\n\n/**\n * `AppModule` is the main entry point into Angular2's bootstraping process\n */\n@NgModule({\n  bootstrap: [AppComponent],\n  declarations: APP_DECLARATIONS,\n  imports: APP_IMPORTS,\n  providers: [ // expose our Services and Providers into Angular's dependency injection\n    ENV_PROVIDERS,\n    APP_PROVIDERS\n  ]\n})\nexport class AppModule {\n  constructor(public appRef: ApplicationRef,\n              private _store: Store<AppState>) {\n  }\n\n  hmrOnInit(store) {\n    if (!store || !store.rootState) {\n      return;\n    }\n\n    // restore state by dispatch a SET_ROOT_STATE action\n    if (store.rootState) {\n      this._store.dispatch({\n        type: 'SET_ROOT_STATE',\n        payload: store.rootState\n      });\n    }\n\n    if ('restoreInputValues' in store) {\n      store.restoreInputValues();\n    }\n    this.appRef.tick();\n    Object.keys(store).forEach((prop) => delete store[prop]);\n  }\n\n  hmrOnDestroy(store) {\n    const cmpLocation = this.appRef.components.map((cmp) => cmp.location.nativeElement);\n    this._store.take(1).subscribe((s) => store.rootState = s);\n    store.disposeOldHosts = createNewHosts(cmpLocation);\n    store.restoreInputValues = createInputTransfer();\n    removeNgStyles();\n  }\n\n  hmrAfterDestroy(store) {\n    store.disposeOldHosts();\n    delete store.disposeOldHosts;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/app.module.ts","import {APP_RESOLVER_PROVIDERS} from './app.resolver';\nimport {SERVICE_PROVIDERS} from './services/index';\nimport {MODEL_PROVIDERS} from './models/index';\nimport {WORLD_PROVIDERS} from './routes/world/index';\nimport {AppEffects} from './app.effects';\nimport {COMBAT_PROVIDERS} from './routes/combat/index';\n\nexport const APP_PROVIDERS = [\n  ...APP_RESOLVER_PROVIDERS,\n  ...SERVICE_PROVIDERS,\n  ...MODEL_PROVIDERS,\n  ...WORLD_PROVIDERS,\n  ...COMBAT_PROVIDERS,\n  AppEffects\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/app.providers.ts","import {GameResolver} from './routes/game/game.resolver';\n\n// an array of services to resolve routes with data\nexport const APP_RESOLVER_PROVIDERS = [\n  GameResolver\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/app.resolver.ts","import {Routes} from '@angular/router';\nimport {NoContentComponent} from './routes/no-content';\nimport {GameComponent} from './routes/game/game.component';\nimport {GameResolver} from './routes/game/game.resolver';\nimport {WorldComponent} from './routes/world/world.component';\nimport {CanActivateWorld} from './routes/world/world.guards';\nimport {CombatComponent} from './routes/combat';\nimport {CanActivateCombat} from './routes/combat/combat.guards';\n\nexport const ROUTES: Routes = [\n  {\n    path: '',\n    component: GameComponent,\n    resolve: {\n      gameState: GameResolver\n    }\n  },\n  {\n    path: 'combat/:id',\n    component: CombatComponent,\n    canActivate: [CanActivateCombat]\n  },\n  {\n    path: 'world/:id',\n    component: WorldComponent,\n    canActivate: [CanActivateWorld]\n  },\n  {path: '**', component: NoContentComponent}\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/app.routes.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {GameEntityObject} from '../scene/game-entity-object';\nimport {SceneObjectBehavior} from '../../game/pow2/scene/scene-object-behavior';\nimport {AnimatedSpriteBehavior} from '../../game/pow2/tile/behaviors/animated-sprite.behavior';\nimport {SpriteComponent} from '../../game/pow2/tile/behaviors/sprite.behavior';\nimport {SoundBehavior} from '../../game/pow2/scene/behaviors/sound-behavior';\n\nexport class DamageComponent extends SceneObjectBehavior {\n  host: GameEntityObject;\n  animation: AnimatedSpriteBehavior;\n  sprite: SpriteComponent;\n  sound: SoundBehavior;\n  started: boolean = false;\n\n  syncBehavior(): boolean {\n    if (!super.syncBehavior()) {\n      return false;\n    }\n    this.animation = <AnimatedSpriteBehavior>\n      this.host.findBehavior(AnimatedSpriteBehavior);\n    this.sprite = <SpriteComponent>\n      this.host.findBehavior(SpriteComponent);\n    this.sound = <SoundBehavior>\n      this.host.findBehavior(SoundBehavior);\n    const ok = !!(this.animation && this.sprite);\n    if (!this.started && ok) {\n      this.started = true;\n      this.animation.once('animation:done', () => {\n        this.trigger('damage:done', this);\n      });\n    }\n    return ok;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/behaviors/damage.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {Component, Input, OnDestroy} from '@angular/core';\nimport {ItemModel} from '../../../game/rpg/models/itemModel';\nimport {WeaponModel} from '../../../game/rpg/models/weaponModel';\nimport {ArmorModel} from '../../../game/rpg/models/armorModel';\nimport {HeroModel} from '../../../game/rpg/models/heroModel';\nimport {UsableModel} from '../../../game/rpg/models/usableModel';\nimport {GameStateModel} from '../../../game/rpg/models/gameStateModel';\nimport {RPGGame} from '../../services/rpg-game';\nimport {NotificationService} from '../notification/notification.service';\nimport {Item} from '../../models/item';\nimport {AppState} from '../../app.model';\nimport {Store} from '@ngrx/store';\nimport {Observable} from 'rxjs/Observable';\nimport {Entity, EntitySlots, EntityWithEquipment} from '../../models/entity/entity.model';\nimport {getEntityEquipment, getGameInventory, getGameParty} from '../../models/selectors';\nimport * as Immutable from 'immutable';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {Subject} from 'rxjs/Subject';\nimport {Subscription} from 'rxjs/Subscription';\nimport {GameStateEquipItemAction, GameStateUnequipItemAction} from '../../models/game-state/game-state.actions';\nimport {EntityItemTypes} from '../../models/entity/entity.reducer';\nimport {CombatService} from '../../models/combat/combat.service';\n\n/** @internal to PartyInventoryComponent */\ninterface PartyInventoryEquipmentEvent {\n  item: Item;\n  slot: keyof EntitySlots;\n}\n\n@Component({\n  selector: 'party-inventory',\n  template: require('./party-inventory.component.html'),\n  styles: [require('./party-inventory.component.scss')]\n})\nexport class PartyInventoryComponent implements OnDestroy {\n  @Input()\n  active: boolean = false;\n\n  party$: Observable<Immutable.List<Entity>> = this.store.select(getGameParty);\n\n  /** Stream of all inventory excluding items */\n  inventory$: Observable<Immutable.List<Item>> = this.store.select(getGameInventory)\n    .map((inventory: Immutable.List<EntityItemTypes>) => {\n      return inventory.filter((i: EntityItemTypes) => {\n        return i.type !== 'item';\n      });\n    });\n\n  /**\n   * Emit on this subject to update the current index.\n   */\n  public doChangeIndex$: Subject<number> = new BehaviorSubject<number>(0);\n\n  /**\n   * Emit on this subject to equip an item to a slot\n   */\n  public doEquip$: Subject<PartyInventoryEquipmentEvent> = new Subject<PartyInventoryEquipmentEvent>();\n\n  /**\n   * Emit on this subject to unequip an item from a slot\n   * @type {Subject<PartyInventoryEquipmentEvent>}\n   */\n  public doUnequip$: Subject<PartyInventoryEquipmentEvent> = new Subject<PartyInventoryEquipmentEvent>();\n\n  /**\n   * The currently selected player index in the party list. If the index is out of bounds, wrap around\n   * by moving to the opposite end of the list. i.e. if the index is greater than the length go back to\n   * index 0, and if it's less than 0 go to the last index.\n   */\n  currentIndex$: Observable<number> =\n    this.doChangeIndex$.combineLatest(this.party$, (index: number, party: Immutable.List<Entity>) => {\n      if (index >= party.count()) {\n        return 0;\n      }\n      else if (index < 0) {\n        return party.count() - 1;\n      }\n      return index;\n    });\n\n  /** The currently selected player entity with its equipment resolved to items rather than item ids */\n  currentEntity$: Observable<EntityWithEquipment> = this.currentIndex$\n    .combineLatest(this.party$, (index: number, party: Immutable.List<Entity>) => {\n      return party.get(index);\n    })\n    .switchMap((entity: Entity) => {\n      return this.store.select(getEntityEquipment(entity.eid));\n    });\n\n  /** Action generator from equip stream */\n  private _equipSubscription: Subscription =\n    this.doEquip$.withLatestFrom(this.currentEntity$, (event: PartyInventoryEquipmentEvent, entity: Entity) => {\n      if (event.item.usedby && !event.item.usedby.find((e) => e === entity.type)) {\n        return this.notify.show(`${entity.name} cannot equip this item`);\n      }\n      if (entity[event.slot]) {\n        return this.notify.show(`${entity.name} already has item in ${event.slot}`);\n      }\n      this.store.dispatch(new GameStateEquipItemAction({\n        entityId: entity.eid,\n        slot: event.slot,\n        itemId: event.item.eid\n      }));\n    }).subscribe();\n\n  /** Action generator from unequip stream */\n  private _unequipSubscription: Subscription =\n    this.doUnequip$.withLatestFrom(this.currentEntity$, (event: PartyInventoryEquipmentEvent, entity: Entity) => {\n      this.store.dispatch(new GameStateUnequipItemAction({\n        entityId: entity.eid,\n        slot: event.slot,\n        itemId: event.item.eid\n      }));\n    }).subscribe();\n\n  constructor(public game: RPGGame,\n              public store: Store<AppState>,\n              public combatService: CombatService,\n              public notify: NotificationService) {\n  }\n\n  ngOnDestroy(): void {\n    this._equipSubscription.unsubscribe();\n    this._unequipSubscription.unsubscribe();\n  }\n\n  nextCharacter() {\n    this.currentIndex$.take(1).subscribe((curr: number) => {\n      this.doChangeIndex$.next(curr + 1);\n    });\n  }\n\n  previousCharacter() {\n    this.currentIndex$.take(1).subscribe((curr: number) => {\n      this.doChangeIndex$.next(curr - 1);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/party-inventory/party-inventory.component.ts","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\nimport {RPGGame} from '../../services/index';\nimport {HeroModel} from '../../../game/rpg/models/all';\nimport {Observable} from 'rxjs/Observable';\nimport {Entity} from '../../models/entity/entity.model';\nimport {Subject} from 'rxjs/Subject';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {AppState} from '../../app.model';\nimport {Store} from '@ngrx/store';\n\n@Component({\n  selector: 'player-card',\n  template: require('./player-card.component.html'),\n  styles: [require('./player-card.component.scss')],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PlayerCardComponent {\n\n  private _model$: Subject<Entity> = new BehaviorSubject<Entity>(null);\n  model$: Observable<Entity> = this._model$;\n\n  @Input()\n  set model(value: Entity) {\n    this._model$.next(value);\n  }\n\n  constructor(public game: RPGGame,\n              public store: Store<AppState>) {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/player-card/player-card.component.ts","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\nimport {RPGGame} from '../../services/index';\nimport {HeroModel} from '../../../game/rpg/models/all';\nimport {Observable} from 'rxjs/Observable';\nimport {Entity, EntityWithEquipment} from '../../models/entity/entity.model';\nimport {Subject} from 'rxjs/Subject';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {getEntityEquipment} from '../../models/selectors';\nimport {AppState} from '../../app.model';\nimport {Store} from '@ngrx/store';\nimport {CombatService} from '../../models/combat/combat.service';\nimport {getXPForLevel} from '../../models/levels';\n\n@Component({\n  selector: 'player-stats',\n  template: require('./player-stats.component.html'),\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PlayerStatsComponent {\n\n  private _showExperience$: Subject<boolean> = new BehaviorSubject<boolean>(true);\n  showExperience$: Observable<boolean> = this._showExperience$;\n\n  /**\n   * Hide/show experience stats and progress bar to next level\n   */\n  @Input() set showExperience(value: boolean) {\n    this._showExperience$.next(value);\n  }\n\n  private _showLevel$: Subject<boolean> = new BehaviorSubject<boolean>(true);\n  showLevel$: Observable<boolean> = this._showLevel$;\n\n  /**\n   * Hide/show current level\n   */\n  @Input() set showLevel(value: boolean) {\n    this._showLevel$.next(value);\n  }\n\n  private _showHP$: Subject<boolean> = new BehaviorSubject<boolean>(true);\n  showHP$: Observable<boolean> = this._showHP$;\n\n  /**\n   * Hide/show current HP and progress bar indicating percentage health remaining\n   * of the total.\n   */\n  @Input() set showHP(value: boolean) {\n    this._showHP$.next(value);\n  }\n\n  private _model$: Subject<Entity> = new BehaviorSubject<Entity>(null);\n  model$: Observable<Entity> = this._model$;\n\n  /**\n   * Set the source entity to render stats for\n   */\n  @Input() set model(value: Entity) {\n    this._model$.next(value);\n  }\n\n  /**\n   * Resolve any entity equipment IDs to their equipment objects. This gives\n   * access to the stats for calculating things like total attack or defense.\n   */\n  entityWithEquipment$ = this.model$.switchMap((entity: Entity) => {\n    return entity ? this.store.select(getEntityEquipment(entity.eid)) : Observable.empty();\n  });\n\n  /**\n   * Hide/show combat stats attack/defense/speed/magic\n   */\n  @Input() set showCombatStats(value: boolean) {\n    this._showCombatStats$.next(value);\n  }\n\n  private _showCombatStats$: Subject<boolean> = new BehaviorSubject<boolean>(true);\n  showCombatStats$: Observable<boolean> = this._showCombatStats$;\n\n  /**\n   * Total attack strength including weapons\n   */\n  attack$: Observable<number> = this.entityWithEquipment$.map((equipped: EntityWithEquipment) => {\n    return this.combatService.getAttack(equipped);\n  });\n  /**\n   * Total defense including armor and accessories\n   */\n  defense$: Observable<number> = this.entityWithEquipment$.map((equipped: EntityWithEquipment) => {\n    return this.combatService.getDefense(equipped);\n  });\n  /**\n   * Total speed\n   */\n  speed$: Observable<number> = this.entityWithEquipment$.map((equipped: EntityWithEquipment) => {\n    return this.combatService.getSpeed(equipped);\n  });\n  /**\n   * Total magic power\n   */\n  magic$: Observable<number> = this.entityWithEquipment$.map((equipped: EntityWithEquipment) => {\n    return this.combatService.getMagic(equipped);\n  });\n\n  /**\n   * The amount of experience needed to progress to the next level.\n   */\n  nextLevelExp$: Observable<number> = this.model$.map((entity: Entity) => {\n    return entity ? getXPForLevel(entity.level + 1) : 0;\n  });\n\n  /**\n   * Percentage of experience gathered toward progressing to the next level.\n   */\n  nextLevelPercentage$: Observable<number> = this.model$.map((entity: Entity) => {\n    if (!entity) {\n      return 0;\n    }\n    const nextLevelExp: number = getXPForLevel(entity.level + 1);\n    const currentLevelExp: number = getXPForLevel(entity.level);\n    let width = 0;\n    if (entity) {\n      width = (entity.exp - currentLevelExp) / (nextLevelExp - currentLevelExp) * 100;\n    }\n    return Math.round(width);\n  });\n\n  /**\n   * Percentage of health that this player has remaining (0-100)\n   */\n  healthPercentage$: Observable<number> = this.model$.map((entity: Entity) => {\n    return entity ? Math.round(entity.hp / entity.maxhp * 100) : 0;\n  });\n\n  constructor(public game: RPGGame,\n              public combatService: CombatService,\n              public store: Store<AppState>) {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/components/player-stats/player-stats.component.ts","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Rx';\nimport {Actions, Effect} from '@ngrx/effects';\nimport {\n  CombatEncounterAction,\n  CombatEncounterErrorAction,\n  CombatEncounterReadyAction,\n  CombatVictoryAction,\n  CombatVictoryCompleteAction,\n  CombatVictorySummary\n} from './combat.actions';\nimport {CombatService} from './combat.service';\nimport {CombatEncounter} from './combat.model';\nimport {NotificationService} from '../../components/notification/notification.service';\nimport {Subscriber} from 'rxjs/Subscriber';\nimport {replace} from '@ngrx/router-store';\nimport {assertTrue} from '../util';\nimport {Item} from '../item';\nimport {Entity} from '../entity/entity.model';\nimport {AppState} from '../../app.model';\nimport {Store} from '@ngrx/store';\nimport {getGameMap} from '../selectors';\nimport {GameStateSetKeyDataAction} from '../game-state/game-state.actions';\n\n@Injectable()\nexport class CombatEffects {\n\n  constructor(private actions$: Actions,\n              private store: Store<AppState>,\n              private notificationService: NotificationService,\n              private combatService: CombatService) {\n  }\n\n  @Effect() beginCombat$ = this.actions$.ofType(CombatEncounterAction.typeId)\n    .switchMap((action: CombatEncounterAction) => {\n      return this.combatService.loadEncounter(action.payload);\n    })\n    .map((encounter: CombatEncounter) => {\n      return new CombatEncounterReadyAction(encounter);\n    })\n    .catch((e) => {\n      return Observable.of(new CombatEncounterErrorAction(e.toString()));\n    });\n\n  /** route update to combat encounter */\n  @Effect() navigateToCombatRoute$ = this.actions$\n    .ofType(CombatEncounterReadyAction.typeId)\n    .debounceTime(100)\n    .distinctUntilChanged()\n    .map((action: CombatEncounterAction) => {\n      const encounter: CombatEncounter = action.payload;\n      assertTrue(encounter.id || encounter.zone, 'combat must either be in a zone or have an id');\n      return replace(['combat', encounter.id || encounter.zone]);\n    });\n\n  /**\n   * When a combat victory action is dispatched, notify the user about what they've won.\n   */\n  @Effect() combatVictory$ = this.actions$.ofType(CombatVictoryAction.typeId)\n    .switchMap((action: CombatVictoryAction) => {\n      const data: CombatVictorySummary = action.payload;\n      return Observable.create((subject: Subscriber<CombatVictoryAction>) => {\n        // Gold\n        this.notificationService.show(`Found ${data.gold} gold!`, null, 0);\n        // Looted items\n        if (data.items) {\n          data.items.forEach((item: Item) => {\n            this.notificationService.show(`Found ${item.name}`, null, 0);\n          });\n        }\n        // Experience\n        this.notificationService.show(`Gained ${data.exp} experience!`, null, 0);\n        // Party Level ups\n        data.levels.forEach((hero: Entity) => {\n          this.notificationService.show(`${hero.name} reached level ${hero.level}!`, null, 0);\n        });\n        // Fin.\n        this.notificationService.show('Enemies Defeated!', () => {\n          subject.next(action);\n          subject.complete();\n        });\n\n        // Also, hide the encounter if it was fixed.\n        if (data.type === 'fixed') {\n          this.store.dispatch(new GameStateSetKeyDataAction(data.id, true));\n        }\n        return () => {\n          // No cleanup\n        };\n      });\n    })\n    .map((action: CombatVictoryAction) => {\n      return new CombatVictoryCompleteAction(action.payload);\n    });\n\n  /** route update back to map after a combat encounter */\n  @Effect() navigateToMapRoute$ = this.actions$\n    .ofType(CombatVictoryCompleteAction.typeId)\n    .debounceTime(100)\n    .switchMap(() => this.store.select(getGameMap))\n    .map((map: string) => {\n      assertTrue(map, 'cannot return to invalid map from combat');\n      return replace(['world', map]);\n    });\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/combat/combat.effects.ts","import {Injectable} from '@angular/core';\nimport {Actions, Effect} from '@ngrx/effects';\nimport {GameDataService} from './game-data.service';\nimport {GameDataFetchAction, GameDataFetchFailAction, GameDataFetchSuccessAction} from './game-data.actions';\nimport {Observable} from 'rxjs/Observable';\n\n@Injectable()\nexport class GameDataEffects {\n\n  constructor(private actions$: Actions,\n              private gameDataService: GameDataService) {\n  }\n\n  /**\n   * Load game data into the store from a remote spreadsheet\n   */\n  @Effect() loadSpreadsheetData$ = this.actions$.ofType(GameDataFetchAction.typeId)\n    .switchMap((action: GameDataFetchAction) => {\n      return this.gameDataService.loadGameData(action.payload).map(() => action.payload);\n    })\n    .map((url: string) => {\n      return new GameDataFetchSuccessAction(url);\n    })\n    .catch((e) => {\n      return Observable.of(new GameDataFetchFailAction(e.toString()));\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-data/game-data.effects.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {Resource} from '../../../game/pow-core/resource';\ndeclare var Tabletop: any;\n/**\n * Use TableTop to load a published google spreadsheet.\n */\nexport class GameDataResource extends Resource {\n\n  fetch(url?: string): Promise<GameDataResource> {\n    return new Promise<GameDataResource>((resolve, reject) => {\n      Tabletop.init({\n        key: url,\n        callback: (data, tabletop) => {\n          data = this.data = this.transformTypes(data);\n          resolve(this);\n        }\n      });\n    });\n  }\n\n  // TODO: Do we need to match - and floating point?\n  static NUMBER_MATCHER: RegExp = /^-?\\d+$/;\n\n  // TODO: More sophisticated deserializing of types, removing hardcoded keys.\n  transformTypes(data: any): any {\n    const results: any = {};\n    _.each(data, (dataValue: any, dataKey: any) => {\n      const sheetElements = dataValue.elements.slice(0);\n      const length: number = sheetElements.length;\n      for (let i = 0; i < length; i++) {\n        const entry: any = sheetElements[i];\n        for (let key in entry) {\n          if (!entry.hasOwnProperty(key) || typeof entry[key] !== 'string') {\n            continue;\n          }\n          const value = entry[key];\n          // number values\n          if (value.match(GameDataResource.NUMBER_MATCHER)) {\n            entry[key] = parseInt(value, 10);\n          }\n          // boolean values\n          else if (key === 'benefit') {\n            switch (value.toLowerCase()) {\n              case 'true':\n              case 'yes':\n              case '1':\n                entry[key] = true;\n                break;\n              case 'false':\n              case 'no':\n              case '0':\n              case null:\n                entry[key] = false;\n                break;\n              default:\n                entry[key] = Boolean(value);\n            }\n          }\n          // pipe delimited array values\n          else if (key === 'usedby' || key === 'groups' || key === 'message' || key === 'zones' || key === 'enemies') {\n            if (/^\\s*$/.test(value)) {\n              entry[key] = null;\n            }\n            else {\n              entry[key] = value.split('|');\n            }\n          }\n        }\n      }\n      results[dataKey.toLowerCase()] = sheetElements;\n    });\n    return results;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-data/game-data.resource.ts","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Rx';\nimport {\n  GameStateDeleteAction, GameStateDeleteFailAction, GameStateDeleteSuccessAction,\n  GameStateLoadAction,\n  GameStateLoadFailAction,\n  GameStateLoadSuccessAction,\n  GameStateNewSuccessAction,\n  GameStateSaveAction,\n  GameStateSaveFailAction,\n  GameStateSaveSuccessAction,\n  GameStateTravelAction,\n  GameStateTravelFailAction,\n  GameStateTravelSuccessAction\n} from './game-state.actions';\nimport {Actions, Effect} from '@ngrx/effects';\nimport {GameState} from './game-state.model';\nimport {GameStateService} from './game-state.service';\nimport {NotificationService} from '../../components/notification/notification.service';\nimport {AppState} from '../../app.model';\n\n@Injectable()\nexport class GameStateEffects {\n\n  constructor(private actions$: Actions,\n              private notify: NotificationService,\n              private gameStateService: GameStateService) {\n  }\n\n  /**\n   * When a load action is dispatched, async load the state and then dispatch\n   * a Success action.\n   */\n  @Effect() initLoadedGame$ = this.actions$.ofType(GameStateLoadAction.typeId)\n    .switchMap((action: GameStateLoadAction) => this.gameStateService.load())\n    .map((state: AppState) => new GameStateLoadSuccessAction(state))\n    .catch((e) => {\n      return Observable.of(new GameStateLoadFailAction(e.toString()));\n    });\n\n  /**\n   * When a save action is dispatched, serialize the app state to local storage.\n   */\n  @Effect() saveGameState$ = this.actions$.ofType(GameStateSaveAction.typeId)\n    .switchMap((state: AppState) => this.gameStateService.save())\n    .map(() => new GameStateSaveSuccessAction())\n    .catch((e) => {\n      return Observable.of(new GameStateSaveFailAction(e.toString()));\n    });\n\n  /** When the game has been saved, notify the user. */\n  @Effect({dispatch: false}) saveGameSuccess$ = this.actions$\n    .ofType(GameStateSaveSuccessAction.typeId)\n    .do(() => {\n      this.notify.show('Game state saved!  Nice.');\n    });\n\n  /**\n   * When a delete action is dispatched, remove the saved state in localstorage.\n   */\n  @Effect() clearGameState$ = this.actions$.ofType(GameStateDeleteAction.typeId)\n    .switchMap((state: AppState) => this.gameStateService.resetGame())\n    .map(() => new GameStateDeleteSuccessAction())\n    .catch((e) => {\n      return Observable.of(new GameStateDeleteFailAction(e.toString()));\n    });\n\n  /** When game data is deleted, notify the user. */\n  @Effect({dispatch: false}) clearGameSuccess$ = this.actions$\n    .ofType(GameStateDeleteSuccessAction.typeId)\n    .do(() => {\n      this.notify.show('Game data deleted.  Next time you refresh you will begin a new game.');\n    });\n\n  /**\n   * After a successful game create/load, travel to the initial location\n   */\n  @Effect() afterLoadTravelToCurrentLocation$ = this.actions$\n    .ofType(GameStateNewSuccessAction.typeId, GameStateLoadSuccessAction.typeId)\n    .debounceTime(10)\n    .map((action) => {\n      let gameState: GameState;\n      switch (action.type) {\n        case GameStateNewSuccessAction.typeId:\n          gameState = action.payload;\n          break;\n        case GameStateLoadSuccessAction.typeId:\n          gameState = action.payload.gameState;\n          break;\n        default:\n          return;\n      }\n      return new GameStateTravelAction(gameState);\n    });\n\n  @Effect() travel$ = this.actions$.ofType(GameStateTravelAction.typeId)\n    .switchMap((action: GameStateTravelAction) => {\n      return this.gameStateService.loadMap(action.payload.location)\n        .map(() => action.payload.location);\n    })\n    // TODO: This debounce is to let the UI transition to a loading screen for at least and appropriate\n    //       amount of time to let the map hide (to flashes of camera movement and map changing)\n    .debounceTime(10)\n    .map((map: string) => {\n      return new GameStateTravelSuccessAction(map);\n    })\n    .catch((e) => {\n      return Observable.of(new GameStateTravelFailAction(e.toString()));\n    });\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/game-state/game-state.effects.ts","import * as Immutable from 'immutable';\nimport {storeLogger} from 'ngrx-store-logger';\n\n/**\n * Possible types for values that need to be lazily evaluated\n */\ntype DeferredValueTypes = Immutable.List<any> | Immutable.Map<string, any> | any;\n\n/**\n * Wrapper class that will serialize the state tree for viewing, but not until you\n * click on the value in chrome console logs. This is much faster with large state trees\n * than serializing when the entries are printed to the console.\n */\nclass DeferredValue {\n  private _lazy: Function;\n\n  get value() {\n    return this._lazy();\n  }\n\n  constructor(value: DeferredValueTypes) {\n    // If it's immutable, toJS it once, and cache the value\n    if (!Immutable.Map.isMap(value) || Immutable.List.isList(value)) {\n      let cached;\n      this._lazy = () => {\n        return cached || (cached = value.toJS());\n      };\n    }\n    else {\n      this._lazy = () => value;\n    }\n  }\n}\n\n/**\n * Logger middleware that plays nice with the large RPG data state tree.\n */\nexport const rpgLogger = storeLogger({\n  collapsed: true,\n  stateTransformer: (state: any) => {\n    // This is called for actions and for meta entries with timing data. Ignore those.\n    if (state.action && state.nextState) {\n      return state;\n    }\n    // Immutable objects are not very easy to navigate in the console, so we lazily convert\n    // them toJS for inspection. This makes sure the logger doesn't bog down the app with\n    // large state trees.\n    const result = {};\n    Object.keys(state).forEach((k: string) => {\n      result[k] = new DeferredValue(state[k]);\n    });\n    return result;\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/logger.ts","import {makeRecordFactory} from './util';\nimport {IPoint} from '../../game/pow-core/point';\nimport {TypedRecord} from 'typed-immutable-record';\nimport {Entity} from './entity/entity.model';\n\n/**\n * A record for points that have x/y numbers.\n */\nexport interface PointRecord extends TypedRecord<PointRecord>, IPoint {\n}\n\n/** Create a {@see IPoint} record with x and y number values */\nexport const pointFactory = makeRecordFactory<IPoint, PointRecord>({\n  x: 0,\n  y: 0\n});\n\n/** Immutable record for Entity objects */\nexport interface EntityRecord extends TypedRecord<EntityRecord>, Entity {\n\n}\n/** Create an Entity with a given partial set of properties to override defaults */\nexport const entityFactory = makeRecordFactory<Entity, EntityRecord>({\n  eid: 'improperly-initialized-entity-' + new Date().getTime(),\n  type: 'npc',\n  name: 'unknown npc',\n  icon: 'improperly-initialized-entity.png',\n  level: 0,\n  exp: 0,\n  attack: 0,\n  defense: 0,\n  speed: 0,\n  magic: 0,\n  baseattack: 0,\n  basespeed: 0,\n  basemagic: 0,\n  basedefense: 0,\n  hp: 0,\n  mp: 0,\n  maxhp: 0,\n  maxmp: 0,\n  weapon: null,\n  armor: null,\n  helm: null,\n  shield: null,\n  boots: null,\n  accessory: null,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/records.ts","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Rx';\nimport {Actions, Effect} from '@ngrx/effects';\nimport {SpritesLoadAction, SpritesLoadFailAction, SpritesLoadSuccessAction} from './sprites.actions';\nimport {SpritesService} from './sprites.service';\n\n@Injectable()\nexport class SpritesEffects {\n\n  constructor(private actions$: Actions,\n              private spritesService: SpritesService) {\n  }\n\n  @Effect() loadSprites$ = this.actions$.ofType(SpritesLoadAction.typeId)\n    .switchMap((action: SpritesLoadAction) => {\n      return this.spritesService.loadSprites(action.payload).map(() => action.payload);\n    })\n    .map((url: string) => {\n      return new SpritesLoadSuccessAction(url);\n    })\n    .catch((e) => {\n      return Observable.of(new SpritesLoadFailAction(e.toString()));\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/models/sprites/sprites.effects.ts","import * as _ from 'underscore';\nimport {CombatActionBehavior} from '../combat-action.behavior';\nimport {CombatRunSummary, CombatEscapeStateComponent} from '../../states/combat-escape.state';\nimport {CombatEndTurnStateComponent} from '../../states/combat-end-turn.state';\nimport {Component, Input} from '@angular/core';\nimport {IPlayerActionCallback} from '../../states/combat.machine';\nimport {CombatComponent} from '../../combat.component';\n\n@Component({\n  selector: 'combat-run-behavior',\n  template: '<ng-content></ng-content>'\n})\nexport class CombatRunBehavior extends CombatActionBehavior {\n  name: string = \"run\";\n  @Input() combat: CombatComponent;\n\n  canTarget(): boolean {\n    return false;\n  }\n\n  act(then?: IPlayerActionCallback): boolean {\n    if (!this.isCurrentTurn()) {\n      return false;\n    }\n    var success: boolean = this._rollEscape();\n    var data: CombatRunSummary = {\n      success: success,\n      player: this.combat.machine.current\n    };\n    this.combat.machine.notify(\"combat:run\", data, () => {\n      if (success) {\n        this.combat.machine.setCurrentState(CombatEscapeStateComponent.NAME);\n      }\n      else {\n        this.combat.machine.setCurrentState(CombatEndTurnStateComponent.NAME);\n      }\n      then && then(this);\n    });\n    return true;\n  }\n\n\n  /**\n   * Determine if a run action results in a successful escape from\n   * combat.\n   *\n   * TODO: This should really consider character attributes.\n   *\n   * @returns {boolean} If the escape will succeed.\n   * @private\n   */\n  private _rollEscape(): boolean {\n    var roll: number = _.random(0, 200);\n    var chance: number = 100;\n    if (roll === 200) {\n      return false;\n    }\n    if (roll === 0) {\n      return true;\n    }\n    return roll <= chance;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/behaviors/actions/combat-run.behavior.ts","import * as _ from 'underscore';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {Point} from '../../../../game/pow-core/point';\nimport {StateMachine} from '../../../../game/pow2/core/state-machine';\nimport {Scene} from '../../../../game/pow2/scene/scene';\nimport {CombatActionBehavior} from '../behaviors/combat-action.behavior';\nimport {UsableModel} from '../../../../game/rpg/models/usableModel';\nimport {GameWorld} from '../../../services/game-world';\nimport {State} from '../../../../game/pow2/core/state';\nimport {CombatPlayerRenderBehaviorComponent} from '../behaviors/combat-player-render.behavior';\n// import {CombatItemBehavior} from '../behaviors/actions/combat-item.behavior';\n// import {CombatMagicBehavior} from '../behaviors/actions/combat-magic.behavior';\nimport {IChooseActionEvent, CombatChooseActionStateComponent} from '../states/combat-choose-action.state';\nimport {IPlayerAction} from '../states/combat.machine';\nimport {ElementRef} from '@angular/core';\nimport {CombatPlayerComponent} from '../combat-player.entity';\nimport {Item} from '../../../models/item';\nimport {ITemplateMagic} from '../../../models/game-data/game-data.model';\n\n/**\n * Attach an HTML element to the position of a game object.\n */\nexport interface UIAttachment {\n  object: GameEntityObject;\n  offset: Point;\n  element: ElementRef;\n}\n\n/**\n * A state machine to represent the various UI states involved in\n * choosing a combat action.\n *\n * ```\n *\n *     +------+  +--------+  +--------+\n *     |type|-->|target|-->|submit|\n *     +------+  +--------+  +--------+\n *\n * ```\n *\n * When the user properly selects an action type (Attack, Magic, Item)\n * and a target to apply the action to (Hero, All Enemies, etc.) the\n * submit state will apply the selection to the state machine at which\n * point the implementation may do whatever it wants.\n */\nexport class ChooseActionStateMachine extends StateMachine {\n  current: GameEntityObject = null;\n  target: GameEntityObject = null;\n  player: CombatPlayerRenderBehaviorComponent = null;\n  action: CombatActionBehavior = null;\n  spell: ITemplateMagic = null;\n  item: Item = null;\n  world: GameWorld = GameWorld.get();\n\n  constructor(public parent: CombatChooseActionStateComponent,\n              public scene: Scene,\n              public data: IChooseActionEvent,\n              submit: (action: CombatActionBehavior) => any) {\n    super();\n    this.states = [\n      new ChooseActionTarget(),\n      new ChooseActionType(),\n      new ChooseUsableItem(),\n      new ChooseMagicSpell(),\n      new ChooseActionSubmit(submit)\n    ];\n\n  }\n}\n\n/**\n * Choose a specific action type to apply in combat.\n */\nexport class ChooseActionType extends State {\n  static NAME: string = 'choose-type';\n  name: string = ChooseActionType.NAME;\n\n  enter(machine: ChooseActionStateMachine) {\n    let clickSelect = (mouse: any, hits: any) => {\n      machine.scene.off('click', clickSelect);\n      machine.target = hits[0];\n      machine.parent.items[0].select();\n    };\n    if (!machine.current) {\n      throw new Error('Requires Current Player');\n    }\n    const p: CombatPlayerComponent = machine.current as CombatPlayerComponent;\n    machine.player = p.render;\n    if (!machine.player) {\n      throw new Error('Requires player render component for combat animations.');\n    }\n    let pointerOffset: Point = new Point(-1, -0.25);\n    machine.action = machine.target = machine.spell = machine.item = null;\n\n    // Enable menu selection of action type.\n    const selectAction = (action: IPlayerAction) => {\n      machine.action = action as CombatActionBehavior;\n      machine.scene.off('click', clickSelect);\n\n      // if (machine.action instanceof CombatMagicBehavior) {\n      //   if (machine.current.getSpells().length === 1) {\n      //     machine.spell = machine.current.getSpells()[0];\n      //     machine.setCurrentState(ChooseActionTarget.NAME);\n      //   }\n      //   else {\n      //     machine.setCurrentState(ChooseMagicSpell.NAME);\n      //   }\n      // }\n      // else if (machine.action instanceof CombatItemBehavior) {\n      //   machine.setCurrentState(ChooseUsableItem.NAME);\n      // }\n      // else\n      if (machine.action.canTarget()) {\n        machine.setCurrentState(ChooseActionTarget.NAME);\n      }\n      else {\n        machine.setCurrentState(ChooseActionSubmit.NAME);\n      }\n    };\n\n    const items = _.filter(p.findBehaviors(CombatActionBehavior), (c: CombatActionBehavior) => c.canBeUsedBy(p));\n    machine.parent.items = _.map(items, (a: CombatActionBehavior) => {\n      return {\n        select: selectAction.bind(this, a),\n        label: a.getActionName()\n      };\n    });\n\n    // No pointer target\n    if (!p) {\n      machine.parent.hidePointer();\n      return;\n    }\n\n    machine.player.moveForward(() => {\n      machine.parent.setPointerTarget(p, 'right', pointerOffset);\n      machine.parent.showPointer();\n      machine.scene.on('click', clickSelect);\n    });\n  }\n\n  exit(machine: ChooseActionStateMachine) {\n    machine.parent.items = [];\n  }\n}\n/**\n * Choose a magic spell to cast in combat.\n */\nexport class ChooseMagicSpell extends State {\n  static NAME: string = 'choose-spell';\n  name: string = ChooseMagicSpell.NAME;\n\n  enter(machine: ChooseActionStateMachine) {\n    if (!machine.current) {\n      throw new Error('Requires Current Player');\n    }\n\n    const clickSelect = (mouse: any, hits: any) => {\n      machine.scene.off('click', clickSelect);\n      machine.target = hits[0];\n      machine.parent.items[0].select();\n    };\n    const selectSpell = (spell: ITemplateMagic) => {\n      machine.scene.off('click', clickSelect);\n      machine.spell = spell;\n      if (spell.benefit) {\n        machine.target = machine.current;\n      }\n      switch (spell.type) {\n        case 'target':\n          machine.setCurrentState(ChooseActionTarget.NAME);\n          break;\n        default:\n          console.info(`Unknown spell type, submitting without target: ${spell.type}`);\n          machine.setCurrentState(ChooseActionSubmit.NAME);\n      }\n    };\n    const spells: any = machine.current.getSpells();\n    machine.parent.items = _.map(spells, (a: any) => {\n      return {\n        select: selectSpell.bind(this, a),\n        label: a.name\n      };\n    });\n    machine.scene.on('click', clickSelect);\n  }\n\n  exit(machine: ChooseActionStateMachine) {\n    machine.parent.items = [];\n  }\n}\n/**\n * Choose an item to use in combat.\n */\nexport class ChooseUsableItem extends State {\n  static NAME: string = 'choose-item';\n  name: string = ChooseUsableItem.NAME;\n\n  enter(machine: ChooseActionStateMachine) {\n    if (!machine.current) {\n      throw new Error('Requires Current Player');\n    }\n    const selectItem = (item: Item) => {\n      machine.item = item;\n      machine.target = machine.current;\n      machine.setCurrentState(ChooseActionTarget.NAME);\n    };\n    console.warn('todo: combat items');\n    // var items: any = machine.current.world.model.inventory;\n    // machine.parent.items = _.map(items, (a: Item) => {\n    //   return <any>{\n    //     select: selectItem.bind(this, a),\n    //     label: a.name\n    //   };\n    // });\n  }\n\n  exit(machine: ChooseActionStateMachine) {\n    machine.parent.items = [];\n  }\n}\n\n/**\n * Choose a target to apply a combat action to\n */\nexport class ChooseActionTarget extends State {\n  static NAME: string = 'choose-target';\n  name: string = ChooseActionTarget.NAME;\n\n  enter(machine: ChooseActionStateMachine) {\n    const enemies: GameEntityObject[] = machine.data.enemies;\n\n    const p: GameEntityObject = machine.target || enemies[0];\n    machine.parent.addPointerClass(machine.action.getActionName());\n    if (!p) {\n      machine.parent.hidePointer();\n      return;\n    }\n    let clickTarget;\n    const pointerOffset: Point = new Point(0.5, -0.25);\n    const selectTarget = (target: GameEntityObject) => {\n      if (machine.target && machine.target._uid === target._uid) {\n        machine.target = target;\n        machine.scene.off('click', clickTarget);\n        machine.setCurrentState(ChooseActionSubmit.NAME);\n        return;\n      }\n      machine.target = target;\n      machine.parent.setPointerTarget(target, 'left', pointerOffset);\n    };\n    clickTarget = (mouse: any, hits: GameEntityObject[]) => {\n      selectTarget(hits[0]);\n    };\n\n    const beneficial: boolean = !!(machine && ((machine.spell && machine.spell.benefit) || machine.item));\n    const targets: GameEntityObject[] = beneficial ? machine.data.players : machine.data.enemies;\n    machine.parent.items = _.map(targets, (a: GameEntityObject) => {\n      return {\n        select: selectTarget.bind(this, a),\n        label: a.model.name\n      };\n    });\n\n    machine.parent.setPointerTarget(p, 'left', pointerOffset);\n    machine.scene.on('click', clickTarget);\n  }\n\n  exit(machine: ChooseActionStateMachine) {\n    machine.parent.items = [];\n  }\n}\n\n/**\n * Submit a selected action type and action target to the submit handler\n * implementation.\n */\nexport class ChooseActionSubmit extends State {\n  static NAME: string = 'choose-submit';\n  name: string = ChooseActionSubmit.NAME;\n\n  constructor(public submit: (action: CombatActionBehavior) => any) {\n    super();\n  }\n\n  enter(machine: ChooseActionStateMachine) {\n    if (!machine.current || !machine.action || !this.submit) {\n      throw new Error('Invalid state');\n    }\n    if (machine.action.canTarget() && !machine.target) {\n      throw new Error('Invalid target');\n    }\n    machine.player.moveBackward(() => {\n      machine.parent.hidePointer();\n      machine.action.from = machine.current;\n      machine.action.to = machine.target;\n      machine.action.spell = machine.spell;\n      machine.action.item = machine.item;\n      machine.action.select();\n      machine.parent.removePointerClass(machine.action.getActionName());\n      this.submit(machine.action);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/behaviors/choose-action.machine.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {CameraBehavior} from '../../../../game/pow2/scene/behaviors/camera-behavior';\nimport {GameTileMap} from '../../../scene/game-tile-map';\nimport {SceneView} from '../../../../game/pow2/scene/scene-view';\nimport {Rect} from '../../../../game/pow-core/rect';\nimport {Component} from '@angular/core';\n\n@Component({\n  selector: 'combat-camera-behavior',\n  template: `<ng-content></ng-content>`\n})\nexport class CombatCameraBehaviorComponent extends CameraBehavior {\n  host: GameTileMap;\n\n  connectBehavior(): boolean {\n    return super.connectBehavior() && this.host instanceof GameTileMap;\n  }\n\n  process(view: SceneView) {\n    if (!this.host) {\n      super.process(view);\n      return;\n    }\n    const w: number = view.context.canvas.width;\n    const screenRect = new Rect(0, 0, view.context.canvas.width, view.context.canvas.height);\n    view.cameraScale = w > 1024 ? 6 : (w > 768 ? 4 : (w > 480 ? 3 : 2));\n    view.camera = view.screenToWorld(screenRect, view.cameraScale);\n    view.camera.point.x = (this.host.bounds.extent.x / 2) - (view.camera.extent.x / 2);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/behaviors/combat-camera.behavior.ts","import {ChangeDetectionStrategy, Component, Input} from '@angular/core';\nimport {Scene} from '../../../game/pow2/scene/scene';\nimport {Observable} from 'rxjs/Observable';\nimport {getCombatEncounterParty} from '../../models/selectors';\nimport {Store} from '@ngrx/store';\nimport {AppState} from '../../app.model';\nimport {LoadingService} from '../../components/loading/loading.service';\nimport {ResourceManager} from '../../../game/pow-core/resource-manager';\nimport {Entity} from '../../models/entity/entity.model';\nimport {GameEntityObject} from '../../scene/game-entity-object';\nimport {List} from 'immutable';\n\n@Component({\n  selector: 'combat-hud',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  styles: [require('./combat-hud.component.scss')],\n  template: require('./combat-hud.component.html')\n})\nexport class CombatHUDComponent {\n\n  @Input() scene: Scene;\n\n  /** Observable<Entity[]> of player-card members */\n  party$: Observable<List<Entity>> = this.store.select(getCombatEncounterParty);\n\n  constructor(public store: Store<AppState>,\n              public loadingService: LoadingService,\n              public loader: ResourceManager) {\n  }\n\n  getMemberClass(member: GameEntityObject, focused?: GameEntityObject): any {\n    return {\n      focused: focused && focused.model && member && member.model && member.model.name === focused.model.name\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/combat-hud.component.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {CombatBeginTurnStateComponent} from './combat-begin-turn.state';\nimport {CombatChooseActionStateComponent} from './combat-choose-action.state';\nimport {CombatDefeatStateComponent} from './combat-defeat.state';\nimport {CombatEndTurnStateComponent} from './combat-end-turn.state';\nimport {CombatEscapeStateComponent} from './combat-escape.state';\nimport {CombatStartStateComponent} from './combat-start.state';\nimport {CombatVictoryStateComponent} from './combat-victory.state';\nimport {CombatStateMachineComponent} from './combat.machine';\nexport * from './combat-base.state';\nexport * from './combat-begin-turn.state';\nexport * from './combat-choose-action.state';\nexport * from './combat-defeat.state';\nexport * from './combat-end-turn.state';\nexport * from './combat-escape.state';\nexport * from './combat-start.state';\nexport * from './combat-victory.state';\nexport * from './combat.machine';\n\nexport const COMBAT_STATE_COMPONENTS = [\n  CombatStateMachineComponent,\n  CombatBeginTurnStateComponent,\n  CombatChooseActionStateComponent,\n  CombatDefeatStateComponent,\n  CombatEndTurnStateComponent,\n  CombatEscapeStateComponent,\n  CombatStartStateComponent,\n  CombatVictoryStateComponent\n];\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/combat/states/index.ts","export * from './no-content';\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/no-content/index.ts","import {SceneObjectBehavior} from '../../../../game/pow2/scene/scene-object-behavior';\nimport {GameTileMap} from '../../../scene/game-tile-map';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {GameStateSetBattleCounterAction} from '../../../models/game-state/game-state.actions';\nimport {\n  getGameBattleCounter,\n  getGameDataEnemies,\n  getGameDataRandomEncounters,\n  getGameParty\n} from '../../../models/selectors';\nimport {Component, Input} from '@angular/core';\nimport {Scene} from '../../../../game/pow2/scene/scene';\nimport {Combatant, CombatEncounter, IZoneMatch} from '../../../models/combat/combat.model';\nimport {IMoveDescription} from '../../../../game/pow2/scene/behaviors/movable-behavior';\nimport {Observable} from 'rxjs/Observable';\nimport {AppState} from '../../../app.model';\nimport {Store} from '@ngrx/store';\nimport {entityId, ITemplateEnemy, ITemplateRandomEncounter} from '../../../models/game-data/game-data.model';\nimport {Entity} from '../../../models/entity/entity.model';\nimport {List} from 'immutable';\nimport {CombatEncounterAction} from '../../../models/combat/combat.actions';\nimport {PlayerBehaviorComponent} from './player-behavior';\n\n/**\n * A behavior that decrements the party battleCounter each time a move\n * description is given to the `completeMove` method.\n *\n * When the party battleCounter reaches zero, a random encounter will\n * be started in the current combat zone. Combat zones are defined in\n * map files. See `wilderness.tmx` for an example.\n */\n@Component({\n  selector: 'combat-encounter-behavior',\n  template: `\n    <ng-content></ng-content>`\n})\nexport class CombatEncounterBehaviorComponent extends SceneObjectBehavior {\n\n  @Input() scene: Scene;\n  @Input() tileMap: GameTileMap;\n  @Input() player: GameEntityObject;\n\n  battleCounter$: Observable<number> = this.store.select(getGameBattleCounter);\n\n  constructor(private store: Store<AppState>) {\n    super();\n  }\n\n  completeMove(move: IMoveDescription) {\n    if (!this.tileMap) {\n      return;\n    }\n    const map = this.tileMap.map;\n    if (!map || !map.properties || !map.properties.combat) {\n      return;\n    }\n    const terrain = this.tileMap.getTerrain('Terrain', move.to.x, move.to.y);\n    const isDangerous: boolean = terrain && terrain.isDangerous;\n    const dangerValue: number = isDangerous ? 10 : 6;\n    this.battleCounter$.take(1).subscribe((currentCounter: number) => {\n      const newCounter: number = currentCounter - dangerValue;\n      if (newCounter <= 0) {\n        this.triggerCombat(move);\n      }\n      else {\n        this.store.dispatch(new GameStateSetBattleCounterAction(newCounter));\n      }\n    });\n  }\n\n  rollBattleCounter(): number {\n    const max: number = 255;\n    const min: number = 64;\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  triggerCombat(move: IMoveDescription) {\n    const at = move.to;\n    const zone: IZoneMatch = this.tileMap.getCombatZones(at);\n    if (!zone) {\n      throw new Error('missing combat zone at point: ' + at);\n    }\n\n    // Set a new battle counter value\n    const newCounter = this.rollBattleCounter();\n    this.store.dispatch(new GameStateSetBattleCounterAction(newCounter));\n\n    // Stop the moving entity until it has defeated the combat encounter.\n    const mover = this.player.findBehavior(PlayerBehaviorComponent) as PlayerBehaviorComponent;\n    if (mover) {\n      mover.velocity.zero();\n    }\n    // Start combat\n    this.store.select(getGameParty)\n      .withLatestFrom(\n        this.store.select(getGameDataRandomEncounters),\n        this.store.select(getGameDataEnemies),\n        (party: Entity[], encounters: List<ITemplateRandomEncounter>, enemies: ITemplateEnemy[]) => {\n          const viableEncounters = encounters.filter((enc: any) => {\n            return enc.zones.indexOf(zone.map) !== -1 || enc.zones.indexOf(zone.target) !== -1;\n          });\n          if (viableEncounters.count() === 0) {\n            throw new Error('no valid encounters for this zone');\n          }\n          const max = viableEncounters.count() - 1;\n          const min = 0;\n          const encounter = viableEncounters.get(Math.floor(Math.random() * (max - min + 1)) + min);\n          const toCombatant = (id: string): Combatant => {\n            const itemTemplate = enemies.find((e) => e.id === id);\n            return Object.assign({}, itemTemplate, {\n              eid: entityId(itemTemplate.id),\n              maxhp: itemTemplate.hp,\n              maxmp: itemTemplate.mp\n            }) as Combatant;\n          };\n\n          const payload: CombatEncounter = {\n            type: 'random',\n            id: encounter.id,\n            enemies: List<Combatant>(encounter.enemies.map(toCombatant)),\n            zone: zone.target || zone.map,\n            message: encounter.message,\n            party: List<Entity>(party)\n          };\n          this.store.dispatch(new CombatEncounterAction(payload));\n        })\n      .take(1)\n      .subscribe();\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/behaviors/combat-encounter.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {GameFeatureObject} from '../../../scene/game-feature-object';\nimport {TickedBehavior} from '../../../../game/pow2/scene/behaviors/ticked-behavior';\nimport {Rect} from '../../../../game/pow-core/rect';\nimport {TileObject} from '../../../../game/pow2/tile/tile-object';\nimport {NamedMouseElement} from '../../../../game/pow2/core/input';\nimport {Component, Input} from '@angular/core';\nimport {Scene} from '../../../../game/pow2/scene/scene';\n\n@Component({\n  selector: 'map-feature-input-behavior',\n  template: `<ng-content></ng-content>`\n})\nexport class MapFeatureInputBehaviorComponent extends TickedBehavior {\n  hitBox: Rect = new Rect(0, 0, 1, 1);\n  hits: TileObject[] = [];\n  mouse: NamedMouseElement = null;\n\n  @Input() scene: Scene;\n\n  syncBehavior(): boolean {\n    if (!super.syncBehavior() || !this.host.scene || !this.host.scene.world || !this.host.scene.world.input) {\n      return false;\n    }\n    this.mouse = this.host.scene.world.input.getMouseHook('world');\n    return !!this.mouse;\n  }\n\n  tick(elapsed: number) {\n    // Calculate hits in Scene for machine usage.\n    if (!this.host.scene || !this.mouse) {\n      return;\n    }\n    _.each(this.hits, (tile: TileObject) => {\n      tile.scale = 1;\n    });\n\n    // Quick array clear\n    this.hits.length = 0;\n\n    this.hitBox.point.set(this.mouse.world);\n    this.host.scene.db.queryRect(this.hitBox, GameFeatureObject, this.hits);\n\n    _.each(this.hits, (obj: any) => {\n      obj.scale = 1.25;\n    });\n    super.tick(elapsed);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/behaviors/map-feature-input.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {CameraBehavior} from '../../../../game/pow2/scene/behaviors/camera-behavior';\nimport {SceneView} from '../../../../game/pow2/scene/scene-view';\nimport {Component} from '@angular/core';\nimport {GameEntityObject} from '../../../scene/game-entity-object';\nimport {Point} from '../../../../game/pow-core/point';\n\n@Component({\n  selector: 'player-camera-behavior',\n  template: `<ng-content></ng-content>`\n})\nexport class PlayerCameraBehaviorComponent extends CameraBehavior {\n  host: GameEntityObject;\n\n  process(view: SceneView) {\n\n    const w: number = view.context.canvas.width;\n    view.camera.point.set(this.host.point);\n    view.cameraScale = w > 1024 ? 6 : (w > 768 ? 4 : (w > 480 ? 3 : 2));\n    const screenRect = new Point(view.context.canvas.width, view.context.canvas.height);\n    const canvasSize = view.screenToWorld(screenRect, view.cameraScale);\n    view.camera.extent.set(canvasSize);\n\n    // Center on player object\n    view.camera.setCenter(this.host.renderPoint || this.host.point);\n\n    // Clamp to tile map if it is present.\n    if (this.host.tileMap) {\n      view.camera.point.x = Math.min(view.camera.point.x, this.host.tileMap.bounds.extent.x - view.camera.extent.x);\n      view.camera.point.y = Math.min(view.camera.point.y, this.host.tileMap.bounds.extent.y - view.camera.extent.y);\n      view.camera.point.x = Math.max(0, view.camera.point.x);\n      view.camera.point.y = Math.max(0, view.camera.point.y);\n\n      // Center in viewport if tilemap is smaller than camera.\n      if (this.host.tileMap.bounds.extent.x < view.camera.extent.x) {\n        view.camera.point.x = (this.host.tileMap.bounds.extent.x - view.camera.extent.x) / 2;\n      }\n      if (this.host.tileMap.bounds.extent.y < view.camera.extent.y) {\n        view.camera.point.y = (this.host.tileMap.bounds.extent.y - view.camera.extent.y) / 2;\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/behaviors/player-camera.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {GameFeatureObject} from '../../../scene/game-feature-object';\nimport {TickedBehavior} from '../../../../game/pow2/scene/behaviors/ticked-behavior';\nimport {TileObject} from '../../../../game/pow2/tile/tile-object';\nimport {CollisionBehaviorComponent} from '../../../behaviors/collision.behavior';\nimport {PlayerBehaviorComponent} from './player-behavior';\nimport {Component, Output, EventEmitter} from '@angular/core';\n\n/**\n * A Component that collides with features that are directly in front\n * of a player, and fires enter/leave events for them.\n */\n@Component({\n  selector: 'player-look-behavior',\n  template: `<ng-content></ng-content>`\n})\nexport class PlayerTriggerBehaviorComponent extends TickedBehavior {\n  host: TileObject;\n  collider: CollisionBehaviorComponent = null;\n  player: PlayerBehaviorComponent = null;\n\n  private featureObject: GameFeatureObject = null;\n\n  /**\n   * The player has touched a game feature.\n   */\n  @Output() onLook: EventEmitter<GameFeatureObject> = new EventEmitter();\n\n  /**\n   * The player was touching a game feature, and is now leaving.\n   */\n  @Output() onLookAway: EventEmitter<GameFeatureObject> = new EventEmitter();\n\n  syncBehavior(): boolean {\n    super.syncBehavior();\n    this.player = this.host.findBehavior(PlayerBehaviorComponent) as PlayerBehaviorComponent;\n    this.collider = this.host.findBehavior(CollisionBehaviorComponent) as CollisionBehaviorComponent;\n    return !!(this.player && this.collider);\n  }\n\n  tick(elapsed: number) {\n    super.tick(elapsed);\n    if (!this.player || !this.collider) {\n      return;\n    }\n    const results: GameFeatureObject[] = [];\n    const headingX: number = this.host.point.x + this.player.heading.x;\n    const headingY: number = this.host.point.y + this.player.heading.y;\n    const isTouching: boolean = this.collider.collide(headingX, headingY, GameFeatureObject, results);\n    const touched: GameFeatureObject = results[0];\n    const currentTouchId: string = this.featureObject ? this.featureObject._uid : null;\n    const touchChanged: boolean = !!(touched && touched._uid !== currentTouchId);\n    // No collisions for this tick\n    if (!isTouching || !touched || touchChanged) {\n      // If we were previously colliding with a feature, trigger the leave output.\n      if (this.featureObject) {\n        this.onLookAway.emit(this.featureObject);\n        // And clean up the reference so we don't fire the event more than once\n        this.featureObject = null;\n      }\n    }\n\n    // Colliding with a feature\n    if (touched && isTouching) {\n      this.featureObject = touched;\n      if (touchChanged) {\n        this.onLook.emit(this.featureObject);\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/behaviors/player-look.behavior.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {BasePlayerComponent} from '../../../behaviors/base-player.behavior';\nimport {TileMapPathBehavior} from '../../../../game/pow2/tile/behaviors/tile-map-path.behavior';\nimport {ITiledLayer} from '../../../../game/pow-core/resources/tiled/tiled.model';\nimport {Component, Input} from '@angular/core';\nimport {GameTileMap} from '../../../scene/game-tile-map';\n/**\n * Build Astar paths with GameFeatureObject tilemaps.\n */\n@Component({\n  selector: 'player-map-path-behavior',\n  template: `\n    <ng-content></ng-content>`\n})\nexport class PlayerMapPathBehaviorComponent extends TileMapPathBehavior {\n  @Input() tileMap: GameTileMap;\n\n  buildWeightedGraph(): number[][] {\n    let x: number;\n    const layers: ITiledLayer[] = this.tileMap.getLayers();\n    const l: number = layers.length;\n\n    const grid = new Array(this.tileMap.bounds.extent.x);\n    for (x = 0; x < this.tileMap.bounds.extent.x; x++) {\n      grid[x] = new Array(this.tileMap.bounds.extent.y);\n    }\n\n    for (x = 0; x < this.tileMap.bounds.extent.x; x++) {\n      for (let y: number = 0; y < this.tileMap.bounds.extent.y; y++) {\n\n        // Tile Weights, the higher the value the more avoided the\n        // tile will be in output paths.\n\n        // 10   - neutral path, can walk, don't particularly care for it.\n        // 1    - desired path, can walk and tend toward it over netural.\n        // 1000 - blocked path, can't walk, avoid at all costs.\n        let weight: number = 10;\n        let blocked: boolean = false;\n        for (let i = 0; i < l; i++) {\n          // If there is no metadata continue\n          const terrain = this.tileMap.getTileData(layers[i], x, y);\n          if (!terrain) {\n            continue;\n          }\n\n          // Check to see if any layer has a passable attribute set to false,\n          // if so block the path.\n          if (terrain.passable === false) {\n            weight = 1000;\n            blocked = true;\n          }\n          else if (terrain.isPath === true) {\n            weight = 1;\n          }\n        }\n        grid[x][y] = weight;\n      }\n    }\n\n    // TOOD: Tiled Editor format is KILLIN' me.\n    _.each(this.tileMap.features.objects, (o: any) => {\n      const obj: any = o.properties;\n      if (!obj) {\n        return;\n      }\n      const collideTypes: string[] = BasePlayerComponent.COLLIDE_TYPES;\n      if (obj.passable === true || !obj.type) {\n        return;\n      }\n      if (_.indexOf(collideTypes, obj.type) !== -1) {\n        /* tslint:disable */\n        const xPos: number = o.x / o.width | 0;\n        const yPos: number = o.y / o.height | 0;\n        /* tslint:enable */\n        if (!obj.passable && this.tileMap.bounds.pointInRect(xPos, yPos)) {\n          grid[xPos][yPos] = 100;\n        }\n      }\n    });\n    return grid;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/routes/world/behaviors/player-map-path.behavior.ts","import {Injectable} from '@angular/core';\n\n@Injectable()\nexport class Visibility {\n  /**\n   * Is the visibility API supported?\n   */\n  public supported: boolean = document.hasOwnProperty('hidden');\n\n  private _changeVisibility: any = () => this.onChange();\n\n  constructor() {\n    if (this.supported) {\n      document.addEventListener('visibilityChange', this._changeVisibility);\n    }\n  }\n\n  destroy() {\n    if (this.supported) {\n      document.removeEventListener('visibilityChange', this._changeVisibility);\n    }\n  }\n\n  onChange() {\n    // switch (document.visibilityState) {\n    //   case 'visible':\n    //     break;\n    //   case 'hidden':\n    //     break;\n    //   case 'prerender':\n    //     break;\n    //   case 'unloaded':\n    //     break;\n    //\n    // }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/app/services/visibility.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {getSpriteMeta} from './api';\n/**\n * Really Janky class to play animations associated with a pow2 sprite.\n *\n * Give it a sprite name `setAnimationSource('ninja-female.png')` and\n * if it has `animations` associated with it from meta data, e.g. `ninja-female.json`\n * those animations will be available to play through this interface.\n *\n * The user has to call `updateTime` on the instance whenever time is\n * incremented.\n *\n * TODO: It's so ugly now.  Make it better.\n */\nexport class Animator {\n  interpFrame: number = 0;\n  animElapsed: number = 0;\n  animDuration: number = 0;\n  frames: number[] = [0];\n\n  sourceMeta: any = null;\n  sourceAnims: any = null;\n\n  setAnimationSource(spriteName: string) {\n    console.log(`Sprite is ${spriteName}`);\n    this.sourceMeta = getSpriteMeta(spriteName);\n    if (this.sourceMeta) {\n      this.sourceAnims = this.sourceMeta.animations;\n      this.setAnimation('down');\n    }\n  }\n\n  setAnimation(name: string) {\n    if (!this.sourceAnims) {\n      throw new Error('Invalid source animations');\n    }\n    const data: any = this.sourceAnims[name];\n    if (!data) {\n      throw new Error(`Invalid animation name - ${name}`);\n    }\n    this.frames = data.frames;\n    this.animDuration = data.duration;\n  }\n\n  updateTime(elapsedMs: number) {\n    this.animElapsed += elapsedMs;\n    const factor: number = this.animElapsed / this.animDuration;\n    const index = Math.round(this.interpolate(0, this.frames.length - 1, factor));\n    this.interpFrame = this.frames[index];\n    if (this.animElapsed > this.animDuration) {\n      this.animElapsed = 0;\n    }\n  }\n\n  interpolate(from: number, to: number, factor: number): number {\n    factor = Math.min(Math.max(factor, 0), 1);\n    return (from * (1.0 - factor)) + (to * factor);\n  }\n\n  getFrame(): number {\n    return this.interpFrame;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/core/animator.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {SceneView} from './scene-view';\nimport {SceneObject} from './scene-object';\n\nexport class SceneObjectRenderer {\n  render(object: SceneObject, data: any, view: SceneView) {\n    // nothing\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/scene-object-renderer.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport * as _ from 'underscore';\nimport {ISceneObject} from './scene.model';\nimport {Rect} from '../../pow-core/rect';\nimport {Point} from '../../pow-core/point';\n\n/**\n * Very, very simple spatial database.  Because all the game objects have\n * an extent of 1 unit, we can just do a point in rect to determine object hits.\n */\nexport class SceneSpatialDatabase {\n  private _objects: ISceneObject[];\n  private _pointRect: Rect = new Rect(0, 0, 1, 1);\n\n  constructor() {\n    this._objects = [];\n  }\n\n  addSpatialObject(obj: ISceneObject) {\n    if (obj && obj.point instanceof Point) {\n      this._objects.push(obj);\n    }\n  }\n\n  removeSpatialObject(obj: ISceneObject) {\n    this._objects = _.reject(this._objects, (o: ISceneObject) => {\n      return o._uid === obj._uid;\n    }) as ISceneObject[];\n  }\n\n  queryPoint(point: Point, type, results: ISceneObject[]): boolean {\n    this._pointRect.point.set(point);\n    return this.queryRect(this._pointRect, type, results);\n  }\n\n  queryRect(rect: Rect, type, results: ISceneObject[]): boolean {\n    let foundAny: boolean;\n    if (!results) {\n      throw new Error('Results array must be provided to query scene spatial database');\n    }\n    foundAny = false;\n    const list = this._objects;\n    let i: number;\n    let len: number;\n    let o;\n    for (i = 0, len = list.length; i < len; i++) {\n      o = list[i];\n      if (type && !(o instanceof type)) {\n        continue;\n      }\n      if (o.enabled === false) {\n        continue;\n      }\n      if (o.point && rect.pointInRect(o.point)) {\n        results.push(o);\n        foundAny = true;\n      }\n    }\n    return foundAny;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/scene-spatial-database.ts","/*\n Copyright (C) 2013-2015 by Justin DuJardin and Contributors\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\nimport {SceneObjectBehavior} from './scene-object-behavior';\nimport {ISceneViewRenderer, ISceneView} from './scene.model';\n/**\n * A component that can be added to a [[SceneView]] to add additional\n * rendering to it.\n */\nexport class SceneViewComponent extends SceneObjectBehavior implements ISceneViewRenderer {\n  beforeFrame(view: ISceneView, elapsed: number) {\n    // nothing\n  }\n\n  renderFrame(view: ISceneView, elapsed: number) {\n    // nothing\n  }\n\n  afterFrame(view: ISceneView, elapsed: number) {\n    // nothing\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/game/pow2/scene/scene-view-component.ts","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/*\\n  Page Transitions from Tympanus article:\\n\\n  http://tympanus.net/codrops/2013/05/07/a-collection-of-page-transitions/\\n*/\\n.pt-page {\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  visibility: hidden;\\n  overflow: hidden;\\n  -webkit-backface-visibility: hidden;\\n  -moz-backface-visibility: hidden;\\n  backface-visibility: hidden;\\n  -webkit-transform: translate3d(0, 0, 0);\\n  -moz-transform: translate3d(0, 0, 0);\\n  transform: translate3d(0, 0, 0);\\n  -webkit-transform-style: preserve-3d;\\n  -moz-transform-style: preserve-3d;\\n  transform-style: preserve-3d; }\\n\\n.no-js body {\\n  overflow: auto; }\\n\\n.pt-page-ontop, .scale-down.ng-hide-add {\\n  z-index: 99; }\\n\\n.pt-page {\\n  visibility: visible;\\n  z-index: 1; }\\n\\n/* scale and fade */\\n.pt-page-scaleDown {\\n  -webkit-animation: scaleDown .7s ease both;\\n  -moz-animation: scaleDown .7s ease both;\\n  animation: scaleDown .7s ease both; }\\n\\n.pt-page-scaleUp, .scale-down.ng-hide-remove {\\n  -webkit-animation: scaleUp .7s ease both;\\n  -moz-animation: scaleUp .7s ease both;\\n  animation: scaleUp .7s ease both; }\\n\\n.pt-page-scaleUpDown {\\n  -webkit-animation: scaleUpDown .5s ease both;\\n  -moz-animation: scaleUpDown .5s ease both;\\n  animation: scaleUpDown .5s ease both; }\\n\\n.pt-page-scaleDownUp, .scale-down.ng-hide-add {\\n  -webkit-animation: scaleDownUp .5s ease both;\\n  -moz-animation: scaleDownUp .5s ease both;\\n  animation: scaleDownUp .5s ease both; }\\n\\n.pt-page-scaleDownCenter {\\n  -webkit-animation: scaleDownCenter .4s ease-in both;\\n  -moz-animation: scaleDownCenter .4s ease-in both;\\n  animation: scaleDownCenter .4s ease-in both; }\\n\\n.pt-page-scaleUpCenter {\\n  -webkit-animation: scaleUpCenter .4s ease-out both;\\n  -moz-animation: scaleUpCenter .4s ease-out both;\\n  animation: scaleUpCenter .4s ease-out both; }\\n\\n/********************************* keyframes **************************************/\\n/* scale and fade */\\n@-webkit-keyframes scaleDown {\\n  to {\\n    opacity: 0;\\n    -webkit-transform: scale(0.8); } }\\n\\n@-moz-keyframes scaleDown {\\n  to {\\n    opacity: 0;\\n    -moz-transform: scale(0.8); } }\\n\\n@keyframes scaleDown {\\n  to {\\n    opacity: 0;\\n    transform: scale(0.8); } }\\n\\n@-webkit-keyframes scaleUp {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: scale(0.8); } }\\n\\n@-moz-keyframes scaleUp {\\n  from {\\n    opacity: 0;\\n    -moz-transform: scale(0.8); } }\\n\\n@keyframes scaleUp {\\n  from {\\n    opacity: 0;\\n    transform: scale(0.8); } }\\n\\n@-webkit-keyframes scaleUpDown {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: scale(1.2); } }\\n\\n@-moz-keyframes scaleUpDown {\\n  from {\\n    opacity: 0;\\n    -moz-transform: scale(1.2); } }\\n\\n@keyframes scaleUpDown {\\n  from {\\n    opacity: 0;\\n    transform: scale(1.2); } }\\n\\n@-webkit-keyframes scaleDownUp {\\n  to {\\n    opacity: 0;\\n    -webkit-transform: scale(1.2); } }\\n\\n@-moz-keyframes scaleDownUp {\\n  to {\\n    opacity: 0;\\n    -moz-transform: scale(1.2); } }\\n\\n@keyframes scaleDownUp {\\n  to {\\n    opacity: 0;\\n    transform: scale(1.2); } }\\n\\n@-webkit-keyframes scaleDownCenter {\\n  to {\\n    opacity: 0;\\n    -webkit-transform: scale(0.7); } }\\n\\n@-moz-keyframes scaleDownCenter {\\n  to {\\n    opacity: 0;\\n    -moz-transform: scale(0.7); } }\\n\\n@keyframes scaleDownCenter {\\n  to {\\n    opacity: 0;\\n    transform: scale(0.7); } }\\n\\n@-webkit-keyframes scaleUpCenter {\\n  from {\\n    opacity: 0;\\n    -webkit-transform: scale(0.7); } }\\n\\n@-moz-keyframes scaleUpCenter {\\n  from {\\n    opacity: 0;\\n    -moz-transform: scale(0.7); } }\\n\\n@keyframes scaleUpCenter {\\n  from {\\n    opacity: 0;\\n    transform: scale(0.7); } }\\n\\n/* animation delay classes */\\n.pt-page-delay100 {\\n  -webkit-animation-delay: .1s;\\n  -moz-animation-delay: .1s;\\n  animation-delay: .1s; }\\n\\n.pt-page-delay180 {\\n  -webkit-animation-delay: .180s;\\n  -moz-animation-delay: .180s;\\n  animation-delay: .180s; }\\n\\n.pt-page-delay200 {\\n  -webkit-animation-delay: .2s;\\n  -moz-animation-delay: .2s;\\n  animation-delay: .2s; }\\n\\n.pt-page-delay300 {\\n  -webkit-animation-delay: .3s;\\n  -moz-animation-delay: .3s;\\n  animation-delay: .3s; }\\n\\n.pt-page-delay400 {\\n  -webkit-animation-delay: .4s;\\n  -moz-animation-delay: .4s;\\n  animation-delay: .4s; }\\n\\n.pt-page-delay500, .scale-down.ng-hide-add {\\n  -webkit-animation-delay: .5s;\\n  -moz-animation-delay: .5s;\\n  animation-delay: .5s; }\\n\\n.pt-page-delay700 {\\n  -webkit-animation-delay: .7s;\\n  -moz-animation-delay: .7s;\\n  animation-delay: .7s; }\\n\\n.pt-page-delay1000, .scale-down.ng-hide-remove {\\n  -webkit-animation-delay: 1s;\\n  -moz-animation-delay: 1s;\\n  animation-delay: 1s; }\\n\\n.pt-page-moveToLeft {\\n  -webkit-animation: moveToLeft .6s ease both;\\n  -moz-animation: moveToLeft .6s ease both;\\n  animation: moveToLeft .6s ease both; }\\n\\n.pt-page-moveFromLeft {\\n  -webkit-animation: moveFromLeft .6s ease both;\\n  -moz-animation: moveFromLeft .6s ease both;\\n  animation: moveFromLeft .6s ease both; }\\n\\n.pt-page-moveToRight {\\n  -webkit-animation: moveToRight .6s ease both;\\n  -moz-animation: moveToRight .6s ease both;\\n  animation: moveToRight .6s ease both; }\\n\\n.pt-page-moveFromRight {\\n  -webkit-animation: moveFromRight .6s ease both;\\n  -moz-animation: moveFromRight .6s ease both;\\n  animation: moveFromRight .6s ease both; }\\n\\n.pt-page-moveToTop {\\n  -webkit-animation: moveToTop .6s ease both;\\n  -moz-animation: moveToTop .6s ease both;\\n  animation: moveToTop .6s ease both; }\\n\\n.pt-page-moveFromTop {\\n  -webkit-animation: moveFromTop .6s ease both;\\n  -moz-animation: moveFromTop .6s ease both;\\n  animation: moveFromTop .6s ease both; }\\n\\n.pt-page-moveToBottom {\\n  -webkit-animation: moveToBottom .6s ease both;\\n  -moz-animation: moveToBottom .6s ease both;\\n  animation: moveToBottom .6s ease both; }\\n\\n.pt-page-moveFromBottom {\\n  -webkit-animation: moveFromBottom .6s ease both;\\n  -moz-animation: moveFromBottom .6s ease both;\\n  animation: moveFromBottom .6s ease both; }\\n\\n/* fade */\\n.pt-page-fade {\\n  -webkit-animation: fade .7s ease both;\\n  -moz-animation: fade .7s ease both;\\n  animation: fade .7s ease both; }\\n\\n/* move from / to and fade */\\n.pt-page-moveToLeftFade {\\n  -webkit-animation: moveToLeftFade .7s ease both;\\n  -moz-animation: moveToLeftFade .7s ease both;\\n  animation: moveToLeftFade .7s ease both; }\\n\\n.pt-page-moveFromLeftFade {\\n  -webkit-animation: moveFromLeftFade .7s ease both;\\n  -moz-animation: moveFromLeftFade .7s ease both;\\n  animation: moveFromLeftFade .7s ease both; }\\n\\n.pt-page-moveToRightFade {\\n  -webkit-animation: moveToRightFade .7s ease both;\\n  -moz-animation: moveToRightFade .7s ease both;\\n  animation: moveToRightFade .7s ease both; }\\n\\n.pt-page-moveFromRightFade {\\n  -webkit-animation: moveFromRightFade .7s ease both;\\n  -moz-animation: moveFromRightFade .7s ease both;\\n  animation: moveFromRightFade .7s ease both; }\\n\\n.pt-page-moveToTopFade {\\n  -webkit-animation: moveToTopFade .7s ease both;\\n  -moz-animation: moveToTopFade .7s ease both;\\n  animation: moveToTopFade .7s ease both; }\\n\\n.pt-page-moveFromTopFade {\\n  -webkit-animation: moveFromTopFade .7s ease both;\\n  -moz-animation: moveFromTopFade .7s ease both;\\n  animation: moveFromTopFade .7s ease both; }\\n\\n.pt-page-moveToBottomFade {\\n  -webkit-animation: moveToBottomFade .7s ease both;\\n  -moz-animation: moveToBottomFade .7s ease both;\\n  animation: moveToBottomFade .7s ease both; }\\n\\n.pt-page-moveFromBottomFade {\\n  -webkit-animation: moveFromBottomFade .7s ease both;\\n  -moz-animation: moveFromBottomFade .7s ease both;\\n  animation: moveFromBottomFade .7s ease both; }\\n\\n/* move to with different easing */\\n.pt-page-moveToLeftEasing {\\n  -webkit-animation: moveToLeft .7s ease-in-out both;\\n  -moz-animation: moveToLeft .7s ease-in-out both;\\n  animation: moveToLeft .7s ease-in-out both; }\\n\\n.pt-page-moveToRightEasing {\\n  -webkit-animation: moveToRight .7s ease-in-out both;\\n  -moz-animation: moveToRight .7s ease-in-out both;\\n  animation: moveToRight .7s ease-in-out both; }\\n\\n.pt-page-moveToTopEasing {\\n  -webkit-animation: moveToTop .7s ease-in-out both;\\n  -moz-animation: moveToTop .7s ease-in-out both;\\n  animation: moveToTop .7s ease-in-out both; }\\n\\n.pt-page-moveToBottomEasing {\\n  -webkit-animation: moveToBottom .7s ease-in-out both;\\n  -moz-animation: moveToBottom .7s ease-in-out both;\\n  animation: moveToBottom .7s ease-in-out both; }\\n\\n/********************************* keyframes **************************************/\\n/* move from / to  */\\n@-webkit-keyframes moveToLeft {\\n  to {\\n    -webkit-transform: translateX(-100%); } }\\n\\n@-moz-keyframes moveToLeft {\\n  to {\\n    -moz-transform: translateX(-100%); } }\\n\\n@keyframes moveToLeft {\\n  to {\\n    transform: translateX(-100%); } }\\n\\n@-webkit-keyframes moveFromLeft {\\n  from {\\n    -webkit-transform: translateX(-100%); } }\\n\\n@-moz-keyframes moveFromLeft {\\n  from {\\n    -moz-transform: translateX(-100%); } }\\n\\n@keyframes moveFromLeft {\\n  from {\\n    transform: translateX(-100%); } }\\n\\n@-webkit-keyframes moveToRight {\\n  to {\\n    -webkit-transform: translateX(100%); } }\\n\\n@-moz-keyframes moveToRight {\\n  to {\\n    -moz-transform: translateX(100%); } }\\n\\n@keyframes moveToRight {\\n  to {\\n    transform: translateX(100%); } }\\n\\n@-webkit-keyframes moveFromRight {\\n  from {\\n    -webkit-transform: translateX(100%); } }\\n\\n@-moz-keyframes moveFromRight {\\n  from {\\n    -moz-transform: translateX(100%); } }\\n\\n@keyframes moveFromRight {\\n  from {\\n    transform: translateX(100%); } }\\n\\n@-webkit-keyframes moveToTop {\\n  to {\\n    -webkit-transform: translateY(-100%); } }\\n\\n@-moz-keyframes moveToTop {\\n  to {\\n    -moz-transform: translateY(-100%); } }\\n\\n@keyframes moveToTop {\\n  to {\\n    transform: translateY(-100%); } }\\n\\n@-webkit-keyframes moveFromTop {\\n  from {\\n    -webkit-transform: translateY(-100%); } }\\n\\n@-moz-keyframes moveFromTop {\\n  from {\\n    -moz-transform: translateY(-100%); } }\\n\\n@keyframes moveFromTop {\\n  from {\\n    transform: translateY(-100%); } }\\n\\n@-webkit-keyframes moveToBottom {\\n  to {\\n    -webkit-transform: translateY(100%); } }\\n\\n@-moz-keyframes moveToBottom {\\n  to {\\n    -moz-transform: translateY(100%); } }\\n\\n@keyframes moveToBottom {\\n  to {\\n    transform: translateY(100%); } }\\n\\n@-webkit-keyframes moveFromBottom {\\n  from {\\n    -webkit-transform: translateY(100%); } }\\n\\n@-moz-keyframes moveFromBottom {\\n  from {\\n    -moz-transform: translateY(100%); } }\\n\\n@keyframes moveFromBottom {\\n  from {\\n    transform: translateY(100%); } }\\n\\n/* fade */\\n@-webkit-keyframes fade {\\n  to {\\n    opacity: 0.3; } }\\n\\n@-moz-keyframes fade {\\n  to {\\n    opacity: 0.3; } }\\n\\n@keyframes fade {\\n  to {\\n    opacity: 0.3; } }\\n\\n/* move from / to and fade */\\n@-webkit-keyframes moveToLeftFade {\\n  to {\\n    opacity: 0.3;\\n    -webkit-transform: translateX(-100%); } }\\n\\n@-moz-keyframes moveToLeftFade {\\n  to {\\n    opacity: 0.3;\\n    -moz-transform: translateX(-100%); } }\\n\\n@keyframes moveToLeftFade {\\n  to {\\n    opacity: 0.3;\\n    transform: translateX(-100%); } }\\n\\n@-webkit-keyframes moveFromLeftFade {\\n  from {\\n    opacity: 0.3;\\n    -webkit-transform: translateX(-100%); } }\\n\\n@-moz-keyframes moveFromLeftFade {\\n  from {\\n    opacity: 0.3;\\n    -moz-transform: translateX(-100%); } }\\n\\n@keyframes moveFromLeftFade {\\n  from {\\n    opacity: 0.3;\\n    transform: translateX(-100%); } }\\n\\n@-webkit-keyframes moveToRightFade {\\n  to {\\n    opacity: 0.3;\\n    -webkit-transform: translateX(100%); } }\\n\\n@-moz-keyframes moveToRightFade {\\n  to {\\n    opacity: 0.3;\\n    -moz-transform: translateX(100%); } }\\n\\n@keyframes moveToRightFade {\\n  to {\\n    opacity: 0.3;\\n    transform: translateX(100%); } }\\n\\n@-webkit-keyframes moveFromRightFade {\\n  from {\\n    opacity: 0.3;\\n    -webkit-transform: translateX(100%); } }\\n\\n@-moz-keyframes moveFromRightFade {\\n  from {\\n    opacity: 0.3;\\n    -moz-transform: translateX(100%); } }\\n\\n@keyframes moveFromRightFade {\\n  from {\\n    opacity: 0.3;\\n    transform: translateX(100%); } }\\n\\n@-webkit-keyframes moveToTopFade {\\n  to {\\n    opacity: 0.3;\\n    -webkit-transform: translateY(-100%); } }\\n\\n@-moz-keyframes moveToTopFade {\\n  to {\\n    opacity: 0.3;\\n    -moz-transform: translateY(-100%); } }\\n\\n@keyframes moveToTopFade {\\n  to {\\n    opacity: 0.3;\\n    transform: translateY(-100%); } }\\n\\n@-webkit-keyframes moveFromTopFade {\\n  from {\\n    opacity: 0.3;\\n    -webkit-transform: translateY(-100%); } }\\n\\n@-moz-keyframes moveFromTopFade {\\n  from {\\n    opacity: 0.3;\\n    -moz-transform: translateY(-100%); } }\\n\\n@keyframes moveFromTopFade {\\n  from {\\n    opacity: 0.3;\\n    transform: translateY(-100%); } }\\n\\n@-webkit-keyframes moveToBottomFade {\\n  to {\\n    opacity: 0.3;\\n    -webkit-transform: translateY(100%); } }\\n\\n@-moz-keyframes moveToBottomFade {\\n  to {\\n    opacity: 0.3;\\n    -moz-transform: translateY(100%); } }\\n\\n@keyframes moveToBottomFade {\\n  to {\\n    opacity: 0.3;\\n    transform: translateY(100%); } }\\n\\n@-webkit-keyframes moveFromBottomFade {\\n  from {\\n    opacity: 0.3;\\n    -webkit-transform: translateY(100%); } }\\n\\n@-moz-keyframes moveFromBottomFade {\\n  from {\\n    opacity: 0.3;\\n    -moz-transform: translateY(100%); } }\\n\\n@keyframes moveFromBottomFade {\\n  from {\\n    opacity: 0.3;\\n    transform: translateY(100%); } }\\n\\n@-webkit-keyframes moveFromRight {\\n  from {\\n    -webkit-transform: translateX(100%); } }\\n\\n@-moz-keyframes moveFromRight {\\n  from {\\n    -moz-transform: translateX(100%); } }\\n\\n@keyframes moveFromRight {\\n  from {\\n    transform: translateX(100%); } }\\n\\n@-webkit-keyframes moveToRight {\\n  to {\\n    -webkit-transform: translateX(100%); } }\\n\\n@-moz-keyframes moveToRight {\\n  to {\\n    -moz-transform: translateX(100%); } }\\n\\n@keyframes moveToRight {\\n  to {\\n    transform: translateX(100%); } }\\n\\n@-webkit-keyframes moveFromTop {\\n  from {\\n    opacity: 0.3;\\n    -webkit-transform: translateY(-100%); }\\n  to {\\n    opacity: 1; } }\\n\\n@-moz-keyframes moveFromTop {\\n  from {\\n    opacity: 0.3;\\n    -moz-transform: translateY(-100%); }\\n  to {\\n    opacity: 1; } }\\n\\n@keyframes moveFromTop {\\n  from {\\n    opacity: 0.3;\\n    transform: translateY(-100%); }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0%); } }\\n\\n@-webkit-keyframes moveToTop {\\n  to {\\n    opacity: 0.3;\\n    -webkit-transform: translateY(100%); } }\\n\\n@-moz-keyframes moveToTop {\\n  to {\\n    opacity: 0.3;\\n    -moz-transform: translateY(100%); } }\\n\\n@keyframes moveToTop {\\n  to {\\n    opacity: 0.3;\\n    transform: translateY(100%); } }\\n\\n@-webkit-keyframes fadeOut {\\n  to {\\n    opacity: 0.0; } }\\n\\n@-moz-keyframes fadeOut {\\n  to {\\n    opacity: 0.0; } }\\n\\n@keyframes fadeOut {\\n  to {\\n    opacity: 0.0; } }\\n\\n@-webkit-keyframes fadeIn {\\n  from {\\n    opacity: 0.0; }\\n  to {\\n    opacity: 1.0; } }\\n\\n@-moz-keyframes fadeIn {\\n  from {\\n    opacity: 0.0; }\\n  to {\\n    opacity: 1.0; } }\\n\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0.0; }\\n  to {\\n    opacity: 1.0; } }\\n\\n.moveFromRight, .slide-from-right.ng-hide-remove {\\n  -webkit-animation: moveFromRight .6s ease both;\\n  -moz-animation: moveFromRight .6s ease both;\\n  animation: moveFromRight .6s ease both; }\\n\\n.moveToRight, .slide-from-right.ng-hide-add {\\n  -webkit-animation: moveToRight .6s ease both;\\n  -moz-animation: moveToRight .6s ease both;\\n  animation: moveToRight .6s ease both; }\\n\\n.slide-from-right.ng-hide-add {\\n  display: block !important; }\\n\\n.slide-from-right.ng-hide-remove {\\n  display: block !important; }\\n\\n.fadeOut, .menu-fade.ng-hide-add, .fade.ng-hide-add {\\n  -webkit-animation: fadeOut 0.3s ease both;\\n  -moz-animation: fadeOut 0.3s ease both;\\n  animation: fadeOut 0.3s ease both; }\\n\\n.fadeIn, .menu-fade.ng-hide-remove, .fade.ng-hide-remove {\\n  -webkit-animation: fadeIn 0.3s ease both;\\n  -moz-animation: fadeIn 0.3s ease both;\\n  animation: fadeIn 0.3s ease both; }\\n\\n.menu-fade.ng-hide-add {\\n  display: block !important; }\\n\\n.menu-fade.ng-hide-remove {\\n  display: block !important; }\\n\\n.fade.ng-enter {\\n  opacity: 0;\\n  display: block !important; }\\n\\n.fade.ng-enter,\\n.fade.ng-enter.ng-enter-active {\\n  -webkit-animation: fadeIn 0.3s ease both;\\n  -moz-animation: fadeIn 0.3s ease both;\\n  animation: fadeIn 0.3s ease both;\\n  display: block !important; }\\n\\n.fade.ng-leave {\\n  opacity: 1;\\n  display: block !important; }\\n\\n.fade.ng-leave,\\n.fade.ng-leave-active {\\n  -webkit-animation: fadeOut 0.3s ease both;\\n  -moz-animation: fadeOut 0.3s ease both;\\n  animation: fadeOut 0.3s ease both;\\n  display: block !important; }\\n\\n.fade.ng-hide-add,\\n.fade.ng-hide-remove {\\n  display: block !important; }\\n\\n.fade.ng-hide-add-active,\\n.fade.ng-hide-remove-active {\\n  display: block !important; }\\n\\n.fade.ng-hide-add {\\n  opacity: 1; }\\n\\n.fade.ng-hide-remove {\\n  opacity: 0; }\\n\\n.scale-down.ng-hide-add {\\n  display: block !important; }\\n\\n.scale-down.ng-hide-remove {\\n  display: block !important; }\\n\\n/* Stroke Text Effect */\\n/* Extra markup and styles for table-esque vertical and horizontal centering */\\n.loading {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0; }\\n  .loading .loading-wrapper {\\n    display: table;\\n    width: 100%;\\n    height: 100%;\\n    /* For at least Firefox */\\n    min-height: 100%; }\\n  .loading .loading-wrapper-inner {\\n    display: table-cell;\\n    vertical-align: middle;\\n    text-align: center; }\\n\\n/**\\n * Applies styles for users in high contrast mode. Note that this only applies\\n * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\\n * attribute, however Chrome handles high contrast differently.\\n */\\n/* Theme for the ripple elements.*/\\n/** The mixins below are shared between md-menu and md-select */\\n/**\\n * This mixin adds the correct panel transform styles based\\n * on the direction that the menu panel opens.\\n */\\n/* stylelint-disable material/no-prefixes */\\n/* stylelint-enable */\\n/**\\n * Applies styles for users in high contrast mode. Note that this only applies\\n * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\\n * attribute, however Chrome handles high contrast differently.\\n */\\n/**\\n * This mixin contains shared option styles between the select and\\n * autocomplete components.\\n */\\n.mat-elevation-z0 {\\n  box-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z1 {\\n  box-shadow: 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z2 {\\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z3 {\\n  box-shadow: 0px 3px 3px -2px rgba(0, 0, 0, 0.2), 0px 3px 4px 0px rgba(0, 0, 0, 0.14), 0px 1px 8px 0px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z4 {\\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z5 {\\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 5px 8px 0px rgba(0, 0, 0, 0.14), 0px 1px 14px 0px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z6 {\\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z7 {\\n  box-shadow: 0px 4px 5px -2px rgba(0, 0, 0, 0.2), 0px 7px 10px 1px rgba(0, 0, 0, 0.14), 0px 2px 16px 1px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z8 {\\n  box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z9 {\\n  box-shadow: 0px 5px 6px -3px rgba(0, 0, 0, 0.2), 0px 9px 12px 1px rgba(0, 0, 0, 0.14), 0px 3px 16px 2px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z10 {\\n  box-shadow: 0px 6px 6px -3px rgba(0, 0, 0, 0.2), 0px 10px 14px 1px rgba(0, 0, 0, 0.14), 0px 4px 18px 3px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z11 {\\n  box-shadow: 0px 6px 7px -4px rgba(0, 0, 0, 0.2), 0px 11px 15px 1px rgba(0, 0, 0, 0.14), 0px 4px 20px 3px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z12 {\\n  box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z13 {\\n  box-shadow: 0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 13px 19px 2px rgba(0, 0, 0, 0.14), 0px 5px 24px 4px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z14 {\\n  box-shadow: 0px 7px 9px -4px rgba(0, 0, 0, 0.2), 0px 14px 21px 2px rgba(0, 0, 0, 0.14), 0px 5px 26px 4px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z15 {\\n  box-shadow: 0px 8px 9px -5px rgba(0, 0, 0, 0.2), 0px 15px 22px 2px rgba(0, 0, 0, 0.14), 0px 6px 28px 5px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z16 {\\n  box-shadow: 0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z17 {\\n  box-shadow: 0px 8px 11px -5px rgba(0, 0, 0, 0.2), 0px 17px 26px 2px rgba(0, 0, 0, 0.14), 0px 6px 32px 5px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z18 {\\n  box-shadow: 0px 9px 11px -5px rgba(0, 0, 0, 0.2), 0px 18px 28px 2px rgba(0, 0, 0, 0.14), 0px 7px 34px 6px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z19 {\\n  box-shadow: 0px 9px 12px -6px rgba(0, 0, 0, 0.2), 0px 19px 29px 2px rgba(0, 0, 0, 0.14), 0px 7px 36px 6px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z20 {\\n  box-shadow: 0px 10px 13px -6px rgba(0, 0, 0, 0.2), 0px 20px 31px 3px rgba(0, 0, 0, 0.14), 0px 8px 38px 7px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z21 {\\n  box-shadow: 0px 10px 13px -6px rgba(0, 0, 0, 0.2), 0px 21px 33px 3px rgba(0, 0, 0, 0.14), 0px 8px 40px 7px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z22 {\\n  box-shadow: 0px 10px 14px -6px rgba(0, 0, 0, 0.2), 0px 22px 35px 3px rgba(0, 0, 0, 0.14), 0px 8px 42px 7px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z23 {\\n  box-shadow: 0px 11px 14px -7px rgba(0, 0, 0, 0.2), 0px 23px 36px 3px rgba(0, 0, 0, 0.14), 0px 9px 44px 8px rgba(0, 0, 0, 0.12); }\\n\\n.mat-elevation-z24 {\\n  box-shadow: 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12); }\\n\\n.mat-ripple {\\n  overflow: hidden; }\\n\\n.mat-ripple.mat-ripple-unbounded {\\n  overflow: visible; }\\n\\n.mat-ripple-element {\\n  position: absolute;\\n  border-radius: 50%;\\n  pointer-events: none;\\n  transition: opacity, transform 0ms cubic-bezier(0, 0, 0.2, 1);\\n  transform: scale(0); }\\n\\n.mat-option {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  display: block;\\n  line-height: 48px;\\n  height: 48px;\\n  padding: 0 16px;\\n  font-size: 16px;\\n  font-family: Roboto, \\\"Helvetica Neue\\\", sans-serif;\\n  text-align: left;\\n  text-decoration: none;\\n  position: relative;\\n  cursor: pointer;\\n  outline: none; }\\n  .mat-option[disabled] {\\n    cursor: default; }\\n  [dir='rtl'] .mat-option {\\n    text-align: right; }\\n  .mat-option .mat-icon {\\n    margin-right: 16px; }\\n    [dir='rtl'] .mat-option .mat-icon {\\n      margin-left: 16px; }\\n  .mat-option[aria-disabled='true'] {\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    -ms-user-select: none;\\n    user-select: none;\\n    cursor: default; }\\n\\n.mat-option-ripple {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  right: 0; }\\n  @media screen and (-ms-high-contrast: active) {\\n    .mat-option-ripple {\\n      opacity: 0.5; } }\\n\\n.mat-option-pseudo-checkbox {\\n  margin-right: 8px; }\\n  [dir='rtl'] .mat-option-pseudo-checkbox {\\n    margin-left: 8px;\\n    margin-right: 0; }\\n\\n.cdk-visually-hidden {\\n  border: 0;\\n  clip: rect(0 0 0 0);\\n  height: 1px;\\n  margin: -1px;\\n  overflow: hidden;\\n  padding: 0;\\n  position: absolute;\\n  text-transform: none;\\n  width: 1px; }\\n\\n.cdk-overlay-container, .cdk-global-overlay-wrapper {\\n  pointer-events: none;\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n  width: 100%; }\\n\\n.cdk-overlay-container {\\n  position: fixed;\\n  z-index: 1000; }\\n\\n.cdk-global-overlay-wrapper {\\n  display: flex;\\n  position: absolute;\\n  z-index: 1000; }\\n\\n.cdk-overlay-pane {\\n  position: absolute;\\n  pointer-events: auto;\\n  box-sizing: border-box;\\n  z-index: 1000; }\\n\\n.cdk-overlay-backdrop {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  z-index: 1000;\\n  pointer-events: auto;\\n  transition: opacity 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);\\n  opacity: 0; }\\n  .cdk-overlay-backdrop.cdk-overlay-backdrop-showing {\\n    opacity: 0.48; }\\n\\n.cdk-overlay-dark-backdrop {\\n  background: rgba(0, 0, 0, 0.6); }\\n\\n.cdk-overlay-transparent-backdrop {\\n  background: none; }\\n\\n.mat-ripple-element {\\n  background-color: rgba(255, 255, 255, 0.1); }\\n\\n.mat-option:hover:not(.mat-option-disabled), .mat-option:focus:not(.mat-option-disabled) {\\n  background: rgba(255, 255, 255, 0.04); }\\n\\n.mat-option.mat-selected {\\n  color: #004c62; }\\n  .mat-option.mat-selected:not(.mat-option-multiple) {\\n    background: rgba(255, 255, 255, 0.04); }\\n\\n.mat-option.mat-active {\\n  background: rgba(255, 255, 255, 0.04);\\n  color: white; }\\n\\n.mat-option.mat-option-disabled {\\n  color: rgba(255, 255, 255, 0.3); }\\n\\n.mat-pseudo-checkbox {\\n  color: rgba(255, 255, 255, 0.7); }\\n  .mat-pseudo-checkbox::after {\\n    color: #303030; }\\n\\n.mat-pseudo-checkbox-checked.mat-primary, .mat-pseudo-checkbox-indeterminate.mat-primary {\\n  background: #0088ad; }\\n\\n.mat-pseudo-checkbox-checked.mat-accent, .mat-pseudo-checkbox-indeterminate.mat-accent {\\n  background: #ffe261; }\\n\\n.mat-pseudo-checkbox-checked.mat-warn, .mat-pseudo-checkbox-indeterminate.mat-warn {\\n  background: #f44336; }\\n\\n.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled, .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled {\\n  background: #686868; }\\n\\n.mat-app-background {\\n  background-color: #303030; }\\n\\n.mat-theme-loaded-marker {\\n  display: none; }\\n\\n.mat-autocomplete-panel {\\n  background: #424242;\\n  color: white; }\\n  .mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active) {\\n    background: #424242;\\n    color: white; }\\n\\n.mat-button.mat-primary .mat-button-focus-overlay, .mat-icon-button.mat-primary .mat-button-focus-overlay, .mat-raised-button.mat-primary .mat-button-focus-overlay, .mat-fab.mat-primary .mat-button-focus-overlay, .mat-mini-fab.mat-primary .mat-button-focus-overlay {\\n  background-color: rgba(0, 76, 98, 0.12); }\\n\\n.mat-button.mat-accent .mat-button-focus-overlay, .mat-icon-button.mat-accent .mat-button-focus-overlay, .mat-raised-button.mat-accent .mat-button-focus-overlay, .mat-fab.mat-accent .mat-button-focus-overlay, .mat-mini-fab.mat-accent .mat-button-focus-overlay {\\n  background-color: rgba(217, 177, 0, 0.12); }\\n\\n.mat-button.mat-warn .mat-button-focus-overlay, .mat-icon-button.mat-warn .mat-button-focus-overlay, .mat-raised-button.mat-warn .mat-button-focus-overlay, .mat-fab.mat-warn .mat-button-focus-overlay, .mat-mini-fab.mat-warn .mat-button-focus-overlay {\\n  background-color: rgba(244, 67, 54, 0.12); }\\n\\n.mat-button[disabled] .mat-button-focus-overlay, .mat-icon-button[disabled] .mat-button-focus-overlay, .mat-raised-button[disabled] .mat-button-focus-overlay, .mat-fab[disabled] .mat-button-focus-overlay, .mat-mini-fab[disabled] .mat-button-focus-overlay {\\n  background-color: transparent; }\\n\\n.mat-button, .mat-icon-button {\\n  background: transparent; }\\n  .mat-button.mat-primary, .mat-icon-button.mat-primary {\\n    color: #004c62; }\\n  .mat-button.mat-accent, .mat-icon-button.mat-accent {\\n    color: #d9b100; }\\n  .mat-button.mat-warn, .mat-icon-button.mat-warn {\\n    color: #f44336; }\\n  .mat-button.mat-primary[disabled], .mat-button.mat-accent[disabled], .mat-button.mat-warn[disabled], .mat-button[disabled][disabled], .mat-icon-button.mat-primary[disabled], .mat-icon-button.mat-accent[disabled], .mat-icon-button.mat-warn[disabled], .mat-icon-button[disabled][disabled] {\\n    color: rgba(255, 255, 255, 0.3); }\\n\\n.mat-icon-button.mat-primary .mat-ripple-element {\\n  background-color: rgba(0, 76, 98, 0.26); }\\n\\n.mat-icon-button.mat-accent .mat-ripple-element {\\n  background-color: rgba(217, 177, 0, 0.26); }\\n\\n.mat-icon-button.mat-warn .mat-ripple-element {\\n  background-color: rgba(244, 67, 54, 0.26); }\\n\\n.mat-raised-button, .mat-fab, .mat-mini-fab {\\n  color: white;\\n  background-color: #424242; }\\n  .mat-raised-button.mat-primary, .mat-fab.mat-primary, .mat-mini-fab.mat-primary {\\n    color: rgba(255, 255, 255, 0.87); }\\n  .mat-raised-button.mat-accent, .mat-fab.mat-accent, .mat-mini-fab.mat-accent {\\n    color: rgba(0, 0, 0, 0.87); }\\n  .mat-raised-button.mat-warn, .mat-fab.mat-warn, .mat-mini-fab.mat-warn {\\n    color: white; }\\n  .mat-raised-button.mat-primary[disabled], .mat-raised-button.mat-accent[disabled], .mat-raised-button.mat-warn[disabled], .mat-raised-button[disabled][disabled], .mat-fab.mat-primary[disabled], .mat-fab.mat-accent[disabled], .mat-fab.mat-warn[disabled], .mat-fab[disabled][disabled], .mat-mini-fab.mat-primary[disabled], .mat-mini-fab.mat-accent[disabled], .mat-mini-fab.mat-warn[disabled], .mat-mini-fab[disabled][disabled] {\\n    color: rgba(255, 255, 255, 0.3); }\\n  .mat-raised-button.mat-primary, .mat-fab.mat-primary, .mat-mini-fab.mat-primary {\\n    background-color: #004c62; }\\n  .mat-raised-button.mat-accent, .mat-fab.mat-accent, .mat-mini-fab.mat-accent {\\n    background-color: #d9b100; }\\n  .mat-raised-button.mat-warn, .mat-fab.mat-warn, .mat-mini-fab.mat-warn {\\n    background-color: #f44336; }\\n  .mat-raised-button.mat-primary[disabled], .mat-raised-button.mat-accent[disabled], .mat-raised-button.mat-warn[disabled], .mat-raised-button[disabled][disabled], .mat-fab.mat-primary[disabled], .mat-fab.mat-accent[disabled], .mat-fab.mat-warn[disabled], .mat-fab[disabled][disabled], .mat-mini-fab.mat-primary[disabled], .mat-mini-fab.mat-accent[disabled], .mat-mini-fab.mat-warn[disabled], .mat-mini-fab[disabled][disabled] {\\n    background-color: rgba(255, 255, 255, 0.12); }\\n\\n.mat-fab, .mat-mini-fab {\\n  background-color: #d9b100;\\n  color: rgba(0, 0, 0, 0.87); }\\n\\n.mat-button-toggle {\\n  color: rgba(255, 255, 255, 0.3); }\\n  .mat-button-toggle.cdk-focused .mat-button-toggle-focus-overlay {\\n    background-color: rgba(255, 255, 255, 0.06); }\\n\\n.mat-button-toggle-checked {\\n  background-color: #212121;\\n  color: white; }\\n\\n.mat-button-toggle-disabled {\\n  background-color: black;\\n  color: rgba(255, 255, 255, 0.3); }\\n  .mat-button-toggle-disabled.mat-button-toggle-checked {\\n    background-color: #424242; }\\n\\n.mat-card {\\n  background: #424242;\\n  color: white; }\\n\\n.mat-card-subtitle {\\n  color: rgba(255, 255, 255, 0.7); }\\n\\n.mat-checkbox-frame {\\n  border-color: rgba(255, 255, 255, 0.7); }\\n\\n.mat-checkbox-checkmark {\\n  fill: #303030; }\\n\\n.mat-checkbox-checkmark-path {\\n  stroke: #303030 !important; }\\n\\n.mat-checkbox-mixedmark {\\n  background-color: #303030; }\\n\\n.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background, .mat-checkbox-checked.mat-primary .mat-checkbox-background {\\n  background-color: #0088ad; }\\n\\n.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background, .mat-checkbox-checked.mat-accent .mat-checkbox-background {\\n  background-color: #ffe261; }\\n\\n.mat-checkbox-indeterminate.mat-warn .mat-checkbox-background, .mat-checkbox-checked.mat-warn .mat-checkbox-background {\\n  background-color: #f44336; }\\n\\n.mat-checkbox-disabled.mat-checkbox-checked .mat-checkbox-background, .mat-checkbox-disabled.mat-checkbox-indeterminate .mat-checkbox-background {\\n  background-color: #686868; }\\n\\n.mat-checkbox-disabled:not(.mat-checkbox-checked) .mat-checkbox-frame {\\n  border-color: #686868; }\\n\\n.mat-checkbox:not(.mat-checkbox-disabled).mat-primary .mat-checkbox-ripple .mat-ripple-element {\\n  background-color: rgba(0, 76, 98, 0.26); }\\n\\n.mat-checkbox:not(.mat-checkbox-disabled).mat-accent .mat-checkbox-ripple .mat-ripple-element {\\n  background-color: rgba(217, 177, 0, 0.26); }\\n\\n.mat-checkbox:not(.mat-checkbox-disabled).mat-warn .mat-checkbox-ripple .mat-ripple-element {\\n  background-color: rgba(244, 67, 54, 0.26); }\\n\\n.mat-chip:not(.mat-basic-chip) {\\n  background-color: #424242;\\n  color: white; }\\n\\n.mat-chip.mat-chip-selected:not(.mat-basic-chip) {\\n  background-color: #212121;\\n  color: white; }\\n  .mat-chip.mat-chip-selected:not(.mat-basic-chip).mat-primary {\\n    background-color: #0088ad;\\n    color: white; }\\n  .mat-chip.mat-chip-selected:not(.mat-basic-chip).mat-accent {\\n    background-color: #ffe261;\\n    color: rgba(0, 0, 0, 0.87); }\\n  .mat-chip.mat-chip-selected:not(.mat-basic-chip).mat-warn {\\n    background-color: #f44336;\\n    color: white; }\\n\\n.mat-dialog-container {\\n  background: #424242; }\\n\\n.mat-icon.mat-primary {\\n  color: #004c62; }\\n\\n.mat-icon.mat-accent {\\n  color: #d9b100; }\\n\\n.mat-icon.mat-warn {\\n  color: #f44336; }\\n\\n.mat-input-placeholder {\\n  color: rgba(255, 255, 255, 0.3); }\\n  .mat-focused .mat-input-placeholder {\\n    color: #004c62; }\\n    .mat-focused .mat-input-placeholder.mat-accent {\\n      color: #d9b100; }\\n    .mat-focused .mat-input-placeholder.mat-warn {\\n      color: #f44336; }\\n\\n.mat-input-element:disabled {\\n  color: rgba(255, 255, 255, 0.3); }\\n\\ninput.mat-input-element:-webkit-autofill + .mat-input-placeholder .mat-placeholder-required,\\n.mat-focused .mat-input-placeholder.mat-float .mat-placeholder-required {\\n  color: #d9b100; }\\n\\n.mat-input-underline {\\n  border-color: rgba(255, 255, 255, 0.12); }\\n  .mat-input-underline .mat-input-ripple {\\n    background-color: #004c62; }\\n    .mat-input-underline .mat-input-ripple.mat-accent {\\n      background-color: #d9b100; }\\n    .mat-input-underline .mat-input-ripple.mat-warn {\\n      background-color: #f44336; }\\n\\n.mat-input-invalid .mat-input-placeholder,\\n.mat-input-invalid .mat-placeholder-required {\\n  color: #f44336; }\\n\\n.mat-input-invalid .mat-input-underline {\\n  border-color: #f44336; }\\n\\n.mat-input-invalid .mat-input-ripple {\\n  background-color: #f44336; }\\n\\n.mat-input-error {\\n  color: #f44336; }\\n\\n.mat-list .mat-list-item, .mat-nav-list .mat-list-item {\\n  color: white; }\\n\\n.mat-list .mat-subheader, .mat-nav-list .mat-subheader {\\n  color: rgba(255, 255, 255, 0.7); }\\n\\n.mat-divider {\\n  border-top-color: rgba(255, 255, 255, 0.12); }\\n\\n.mat-nav-list .mat-list-item-content:hover, .mat-nav-list .mat-list-item-content.mat-list-item-focus {\\n  background: rgba(255, 255, 255, 0.04); }\\n\\n.mat-menu-content {\\n  background: #424242; }\\n\\n.mat-menu-item {\\n  background: transparent;\\n  color: white; }\\n  .mat-menu-item[disabled] {\\n    color: rgba(255, 255, 255, 0.3); }\\n  .mat-menu-item .mat-icon {\\n    color: white;\\n    vertical-align: middle; }\\n  .mat-menu-item:hover:not([disabled]), .mat-menu-item:focus:not([disabled]) {\\n    background: rgba(255, 255, 255, 0.04); }\\n\\n.mat-progress-bar-background {\\n  background: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20version%3D%271.1%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%27%20x%3D%270px%27%20y%3D%270px%27%20enable-background%3D%27new%200%200%205%202%27%20xml%3Aspace%3D%27preserve%27%20viewBox%3D%270%200%205%202%27%20preserveAspectRatio%3D%27none%20slice%27%3E%3Ccircle%20cx%3D%271%27%20cy%3D%271%27%20r%3D%271%27%20fill%3D%27%23ccf5ff%27%2F%3E%3C%2Fsvg%3E\\\"); }\\n\\n.mat-progress-bar-buffer {\\n  background-color: #ccf5ff; }\\n\\n.mat-progress-bar-fill::after {\\n  background-color: #007494; }\\n\\n.mat-progress-bar.mat-accent .mat-progress-bar-background {\\n  background: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20version%3D%271.1%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%27%20x%3D%270px%27%20y%3D%270px%27%20enable-background%3D%27new%200%200%205%202%27%20xml%3Aspace%3D%27preserve%27%20viewBox%3D%270%200%205%202%27%20preserveAspectRatio%3D%27none%20slice%27%3E%3Ccircle%20cx%3D%271%27%20cy%3D%271%27%20r%3D%271%27%20fill%3D%27%23fff5c7%27%2F%3E%3C%2Fsvg%3E\\\"); }\\n\\n.mat-progress-bar.mat-accent .mat-progress-bar-buffer {\\n  background-color: #fff5c7; }\\n\\n.mat-progress-bar.mat-accent .mat-progress-bar-fill::after {\\n  background-color: #ffdd45; }\\n\\n.mat-progress-bar.mat-warn .mat-progress-bar-background {\\n  background: url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20version%3D%271.1%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20xmlns%3Axlink%3D%27http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%27%20x%3D%270px%27%20y%3D%270px%27%20enable-background%3D%27new%200%200%205%202%27%20xml%3Aspace%3D%27preserve%27%20viewBox%3D%270%200%205%202%27%20preserveAspectRatio%3D%27none%20slice%27%3E%3Ccircle%20cx%3D%271%27%20cy%3D%271%27%20r%3D%271%27%20fill%3D%27%23ffcdd2%27%2F%3E%3C%2Fsvg%3E\\\"); }\\n\\n.mat-progress-bar.mat-warn .mat-progress-bar-buffer {\\n  background-color: #ffcdd2; }\\n\\n.mat-progress-bar.mat-warn .mat-progress-bar-fill::after {\\n  background-color: #e53935; }\\n\\n.mat-progress-spinner path, .mat-spinner path {\\n  stroke: #007494; }\\n\\n.mat-progress-spinner.mat-accent path, .mat-spinner.mat-accent path {\\n  stroke: #ffdd45; }\\n\\n.mat-progress-spinner.mat-warn path, .mat-spinner.mat-warn path {\\n  stroke: #e53935; }\\n\\n.mat-radio-outer-circle {\\n  border-color: rgba(255, 255, 255, 0.7); }\\n  .mat-radio-checked .mat-radio-outer-circle {\\n    border-color: #d9b100; }\\n  .mat-radio-disabled .mat-radio-outer-circle {\\n    border-color: rgba(255, 255, 255, 0.3); }\\n\\n.mat-radio-inner-circle {\\n  background-color: #d9b100; }\\n  .mat-radio-disabled .mat-radio-inner-circle {\\n    background-color: rgba(255, 255, 255, 0.3); }\\n\\n.mat-radio-ripple .mat-ripple-element {\\n  background-color: rgba(217, 177, 0, 0.26); }\\n  .mat-radio-disabled .mat-radio-ripple .mat-ripple-element {\\n    background-color: rgba(255, 255, 255, 0.3); }\\n\\n.mat-select-trigger {\\n  color: rgba(255, 255, 255, 0.3); }\\n  .mat-select:focus:not(.mat-select-disabled) .mat-select-trigger {\\n    color: #004c62; }\\n  .mat-select:not(:focus).ng-invalid.ng-touched:not(.mat-select-disabled) .mat-select-trigger {\\n    color: #f44336; }\\n\\n.mat-select-underline {\\n  background-color: rgba(255, 255, 255, 0.12); }\\n  .mat-select:focus:not(.mat-select-disabled) .mat-select-underline {\\n    background-color: #004c62; }\\n  .mat-select:not(:focus).ng-invalid.ng-touched:not(.mat-select-disabled) .mat-select-underline {\\n    background-color: #f44336; }\\n\\n.mat-select-arrow {\\n  color: rgba(255, 255, 255, 0.3); }\\n  .mat-select:focus:not(.mat-select-disabled) .mat-select-arrow {\\n    color: #004c62; }\\n  .mat-select:not(:focus).ng-invalid.ng-touched:not(.mat-select-disabled) .mat-select-arrow {\\n    color: #f44336; }\\n\\n.mat-select-content, .mat-select-panel-done-animating {\\n  background: #424242; }\\n\\n.mat-select-value {\\n  color: white; }\\n  .mat-select-disabled .mat-select-value {\\n    color: rgba(255, 255, 255, 0.3); }\\n\\n.mat-sidenav-container {\\n  background-color: #303030;\\n  color: white; }\\n\\n.mat-sidenav {\\n  background-color: #424242;\\n  color: white; }\\n  .mat-sidenav.mat-sidenav-push {\\n    background-color: #424242; }\\n\\n.mat-sidenav-backdrop.mat-sidenav-shown {\\n  background-color: rgba(189, 189, 189, 0.6); }\\n\\n.mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb {\\n  background-color: #fff0ad; }\\n\\n.mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar {\\n  background-color: rgba(255, 240, 173, 0.5); }\\n\\n.mat-slide-toggle:not(.mat-checked) .mat-ripple-element {\\n  background-color: rgba(255, 255, 255, 0.12); }\\n\\n.mat-slide-toggle .mat-ripple-element {\\n  background-color: rgba(255, 240, 173, 0.12); }\\n\\n.mat-slide-toggle.mat-primary.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb {\\n  background-color: #7de1fa; }\\n\\n.mat-slide-toggle.mat-primary.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar {\\n  background-color: rgba(125, 225, 250, 0.5); }\\n\\n.mat-slide-toggle.mat-primary:not(.mat-checked) .mat-ripple-element {\\n  background-color: rgba(255, 255, 255, 0.12); }\\n\\n.mat-slide-toggle.mat-primary .mat-ripple-element {\\n  background-color: rgba(125, 225, 250, 0.12); }\\n\\n.mat-slide-toggle.mat-warn.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb {\\n  background-color: #ef9a9a; }\\n\\n.mat-slide-toggle.mat-warn.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar {\\n  background-color: rgba(239, 154, 154, 0.5); }\\n\\n.mat-slide-toggle.mat-warn:not(.mat-checked) .mat-ripple-element {\\n  background-color: rgba(255, 255, 255, 0.12); }\\n\\n.mat-slide-toggle.mat-warn .mat-ripple-element {\\n  background-color: rgba(239, 154, 154, 0.12); }\\n\\n.mat-disabled .mat-slide-toggle-thumb {\\n  background-color: #424242; }\\n\\n.mat-disabled .mat-slide-toggle-bar {\\n  background-color: rgba(255, 255, 255, 0.12); }\\n\\n.mat-slide-toggle-thumb {\\n  background-color: #bdbdbd; }\\n\\n.mat-slide-toggle-bar {\\n  background-color: rgba(255, 255, 255, 0.3); }\\n\\n.mat-slider-track-background {\\n  background-color: rgba(0, 0, 0, 0.26); }\\n\\n.mat-primary .mat-slider-track-fill, .mat-primary\\n.mat-slider-thumb, .mat-primary\\n.mat-slider-thumb-label {\\n  background-color: #004c62; }\\n\\n.mat-accent .mat-slider-track-fill, .mat-accent\\n.mat-slider-thumb, .mat-accent\\n.mat-slider-thumb-label {\\n  background-color: #d9b100; }\\n\\n.mat-warn .mat-slider-track-fill, .mat-warn\\n.mat-slider-thumb, .mat-warn\\n.mat-slider-thumb-label {\\n  background-color: #f44336; }\\n\\n.mat-slider-focus-ring {\\n  background-color: rgba(217, 177, 0, 0.2); }\\n\\n.mat-primary .mat-slider-thumb-label-text {\\n  color: rgba(255, 255, 255, 0.87); }\\n\\n.mat-accent .mat-slider-thumb-label-text {\\n  color: rgba(0, 0, 0, 0.87); }\\n\\n.mat-warn .mat-slider-thumb-label-text {\\n  color: white; }\\n\\n.mat-slider:hover .mat-slider-track-background,\\n.cdk-focused .mat-slider-track-background {\\n  background-color: rgba(0, 0, 0, 0.38); }\\n\\n.mat-slider-disabled .mat-slider-track-background,\\n.mat-slider-disabled .mat-slider-track-fill,\\n.mat-slider-disabled .mat-slider-thumb {\\n  background-color: rgba(0, 0, 0, 0.26); }\\n\\n.mat-slider-disabled:hover .mat-slider-track-background {\\n  background-color: rgba(0, 0, 0, 0.26); }\\n\\n.mat-slider-min-value .mat-slider-focus-ring {\\n  background-color: rgba(0, 0, 0, 0.12); }\\n\\n.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb,\\n.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb-label {\\n  background-color: black; }\\n\\n.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb,\\n.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb-label {\\n  background-color: rgba(0, 0, 0, 0.26); }\\n\\n.mat-slider-min-value:not(.mat-slider-thumb-label-showing) .mat-slider-thumb {\\n  border-color: rgba(0, 0, 0, 0.26);\\n  background-color: transparent; }\\n\\n.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover .mat-slider-thumb, .mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused .mat-slider-thumb {\\n  border-color: rgba(0, 0, 0, 0.38); }\\n\\n.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover.mat-slider-disabled .mat-slider-thumb, .mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused.mat-slider-disabled .mat-slider-thumb {\\n  border-color: rgba(0, 0, 0, 0.26); }\\n\\n.mat-tab-nav-bar,\\n.mat-tab-header {\\n  border-bottom: 1px solid black; }\\n  .mat-tab-group-inverted-header .mat-tab-nav-bar, .mat-tab-group-inverted-header\\n  .mat-tab-header {\\n    border-top: 1px solid black;\\n    border-bottom: none; }\\n\\n.mat-tab-label:focus {\\n  background-color: rgba(204, 245, 255, 0.3); }\\n\\n.mat-ink-bar {\\n  background-color: #0088ad; }\\n\\n.mat-tab-label, .mat-tab-link {\\n  color: currentColor; }\\n  .mat-tab-label.mat-tab-disabled, .mat-tab-link.mat-tab-disabled {\\n    color: rgba(255, 255, 255, 0.3); }\\n\\n.mat-toolbar {\\n  background: #212121;\\n  color: white; }\\n  .mat-toolbar.mat-primary {\\n    background: #004c62;\\n    color: rgba(255, 255, 255, 0.87); }\\n  .mat-toolbar.mat-accent {\\n    background: #d9b100;\\n    color: rgba(0, 0, 0, 0.87); }\\n  .mat-toolbar.mat-warn {\\n    background: #f44336;\\n    color: white; }\\n\\n.mat-tooltip {\\n  background: rgba(97, 97, 97, 0.9); }\\n\\nhtml,\\nbody {\\n  background-color: #222222;\\n  overflow: hidden;\\n  color: rgba(255, 255, 255, 0.9); }\\n\\ncanvas {\\n  image-rendering: -moz-crisp-edges;\\n  /* Firefox */\\n  image-rendering: -o-crisp-edges;\\n  /* Opera */\\n  image-rendering: -webkit-optimize-contrast;\\n  /* Webkit (non-standard naming) */\\n  image-rendering: crisp-edges;\\n  -ms-interpolation-mode: nearest-neighbor;\\n  /* IE (non-standard property) */ }\\n\\n.ebp {\\n  font-family: 'GraphicPixel', sans-serif;\\n  background-color: #004c62;\\n  color: white;\\n  border: 6px solid white;\\n  border-radius: 9px;\\n  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.7);\\n  padding-top: 16px;\\n  padding-bottom: 16px; }\\n\\n.select-map {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  margin: 1rem;\\n  padding: 0.5rem;\\n  opacity: 0.3;\\n  pointer-events: none; }\\n  .select-map:hover {\\n    opacity: 1; }\\n  .select-map select {\\n    pointer-events: all; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/app.component.scss\n// module id = 291\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\n:host {\\n  display: inline-flex;\\n  height: inherit; }\\n  :host div {\\n    height: inherit;\\n    /* Damage states */ }\\n    :host div.fine {\\n      background-color: #2e6da6; }\\n    :host div.hurt {\\n      background-color: #e6c828; }\\n    :host div.critical {\\n      background-color: rgba(183, 0, 5, 0.5); }\\n    :host div.dead {\\n      background-color: rgba(255, 255, 255, 0.5); }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/components/health-bar/health-bar.component.scss\n// module id = 292\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\n:host {\\n  padding: 0;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  min-height: 100%;\\n  position: fixed;\\n  background-color: transparent;\\n  z-index: 50;\\n  text-align: center;\\n  font-family: \\\"GraphicPixel\\\", \\\"AdvoCut\\\", sans-serif;\\n  pointer-events: none;\\n  -webkit-transform: scale3d(1, 0, 1);\\n  -moz-transform: scale3d(1, 0, 1);\\n  transform: scale3d(1, 0, 1);\\n  -webkit-transition: transform 0.2s ease-in-out;\\n  -moz-transition: transform 0.2s ease-in-out;\\n  transition: transform 0.2s ease-in-out; }\\n  :host.active {\\n    -webkit-transform: scale3d(1, 1, 1);\\n    -moz-transform: scale3d(1, 1, 1);\\n    transform: scale3d(1, 1, 1);\\n    pointer-events: auto; }\\n  :host .message {\\n    -webkit-touch-callout: none;\\n    -webkit-user-select: none;\\n    -khtml-user-select: none;\\n    -moz-user-select: none;\\n    -ms-user-select: none;\\n    user-select: none;\\n    top: 45%;\\n    left: 0;\\n    right: 0;\\n    background-color: rgba(0, 0, 0, 0.8);\\n    border: none;\\n    box-shadow: none;\\n    margin: auto;\\n    position: absolute;\\n    padding: 25px 10px;\\n    font-size: 2.5em;\\n    color: #fff;\\n    text-shadow: 1px 1px 0 #000, -2px 0 #000, 0px 0 #000, -1px 1px 0 #000; }\\n    :host .message.loading {\\n      visibility: hidden; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/components/notification/notification.component.scss\n// module id = 293\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n:host {\\n  text-align: center; }\\n  :host ul {\\n    list-style-type: none;\\n    text-align: center;\\n    margin: 0;\\n    padding: 10px; }\\n    :host ul > li {\\n      position: relative;\\n      padding-top: 36px;\\n      height: 100px;\\n      width: 64px; }\\n      :host ul > li > * {\\n        pointer-events: none; }\\n      :host ul > li .desc {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        font-size: 0.9em;\\n        line-height: 18px; }\\n      :host ul > li .icon {\\n        left: 0;\\n        right: 0;\\n        margin: auto; }\\n        :host ul > li .icon img {\\n          display: inline-block;\\n          height: 64px;\\n          width: 64px; }\\n      :host ul > li .compare {\\n        color: #0f0; }\\n  :host .unequipped > li {\\n    display: inline-block; }\\n  :host ul, :host ul > li {\\n    display: inline-block;\\n    list-style-type: none; }\\n  :host .character-equipment-map {\\n    padding: 10px;\\n    margin: 0;\\n    position: relative; }\\n    :host .character-equipment-map > li {\\n      display: inline-block;\\n      font-size: 16px; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/components/party-inventory/party-inventory.component.scss\n// module id = 294\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\n:host {\\n  background-color: rgba(0, 0, 0, 0.54);\\n  color: white; }\\n  :host *:not(md-icon):not([md-icon-button]):not([md-fab]) {\\n    font-family: \\\"GraphicPixel\\\", \\\"AdvoCut\\\", sans-serif;\\n    text-shadow: 1px 1px 0 #000, -2px 0 #000, 0px 0 #000, -1px 1px 0 #000; }\\n  :host md-toolbar {\\n    position: fixed;\\n    border-bottom: 6px solid white; }\\n    :host md-toolbar h1 {\\n      line-height: 28px;\\n      height: 32px;\\n      margin: 0; }\\n      :host md-toolbar h1 a {\\n        color: white;\\n        text-decoration: none; }\\n    :host md-toolbar rpg-sprite {\\n      height: 32px;\\n      margin-left: 6px; }\\n    :host md-toolbar button {\\n      font-size: 20px; }\\n      :host md-toolbar button.active {\\n        color: #e6c828; }\\n  :host button[md-fab] {\\n    position: fixed;\\n    bottom: 12px;\\n    right: 12px; }\\n  :host md-card {\\n    background-color: #004c62;\\n    color: white;\\n    border: 6px solid white;\\n    border-radius: 9px;\\n    text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.7);\\n    padding-top: 16px;\\n    padding-bottom: 16px;\\n    position: fixed;\\n    margin: auto;\\n    right: 24px;\\n    bottom: -12px;\\n    top: 88px;\\n    padding-bottom: 36px;\\n    left: 24px;\\n    max-width: 600px;\\n    overflow-y: auto; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/components/party-menu/party-menu.component.scss\n// module id = 295\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \":host .hero-card {\\n  padding: 0 15px; }\\n  :host .hero-card.dead {\\n    color: #aaa; }\\n  :host .hero-card hr {\\n    margin-bottom: 5px;\\n    margin-top: 5px; }\\n  :host .hero-card h1, :host .hero-card .image {\\n    margin-top: 5px;\\n    text-align: center; }\\n  :host .hero-card player-stats {\\n    text-align: center; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/components/player-card/player-card.component.scss\n// module id = 296\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"rpg-sprite {\\n  font-size: 0; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/components/sprite/sprite.component.scss\n// module id = 297\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\n:host {\\n  display: block; }\\n  :host .damage-value {\\n    background: none;\\n    pointer-events: none;\\n    position: absolute;\\n    opacity: 0;\\n    z-index: 20;\\n    font-family: 'GraphicPixel', sans-serif;\\n    font-size: 3em;\\n    color: #F00;\\n    transition: opacity 1s ease-out, transform 1s cubic-bezier(0.19, 1, 0.22, 1);\\n    transform: translateY(0);\\n    text-shadow: 2px 2px 0 rgba(255, 255, 255, 0.9), -4px 0 rgba(255, 255, 255, 0.9), 0px 0 rgba(255, 255, 255, 0.9), -2px 2px 0 rgba(255, 255, 255, 0.9); }\\n    :host .damage-value.miss {\\n      color: #ccc;\\n      text-shadow: 1px 1px 0 #222, -2px 0 #222, 0px 0 #222, -1px 1px 0 #222; }\\n    :host .damage-value.heal {\\n      color: #0E0;\\n      text-shadow: 1px 1px 0 #222, -2px 0 #222, 0px 0 #222, -1px 1px 0 #222; }\\n    :host .damage-value.active {\\n      opacity: 1;\\n      transform: translateY(-25%); }\\n    :host .damage-value.remove {\\n      display: none; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/routes/combat/combat-damage.component.scss\n// module id = 298\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\n[data-icon]:before {\\n  font-family: \\\"pow2\\\" !important;\\n  content: attr(data-icon);\\n  font-style: normal !important;\\n  font-weight: normal !important;\\n  font-variant: normal !important;\\n  text-transform: none !important;\\n  speak: none;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale; }\\n\\n[class^=\\\"pow2-\\\"]:before,\\n[class*=\\\" pow2-\\\"]:before {\\n  font-family: \\\"pow2\\\" !important;\\n  font-style: normal !important;\\n  font-weight: normal !important;\\n  font-variant: normal !important;\\n  text-transform: none !important;\\n  speak: none;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale; }\\n\\n.pow2-aura:before {\\n  content: \\\"a\\\"; }\\n\\n.pow2-back-forth:before {\\n  content: \\\"b\\\"; }\\n\\n.pow2-barbute:before {\\n  content: \\\"c\\\"; }\\n\\n.pow2-barefoot:before {\\n  content: \\\"d\\\"; }\\n\\n.pow2-battle-gear:before {\\n  content: \\\"e\\\"; }\\n\\n.pow2-black-flag:before {\\n  content: \\\"f\\\"; }\\n\\n.pow2-bolt-shield:before {\\n  content: \\\"g\\\"; }\\n\\n.pow2-bone-knife:before {\\n  content: \\\"h\\\"; }\\n\\n.pow2-bookmark:before {\\n  content: \\\"i\\\"; }\\n\\n.pow2-bookmarklet:before {\\n  content: \\\"j\\\"; }\\n\\n.pow2-boot-prints:before {\\n  content: \\\"k\\\"; }\\n\\n.pow2-boots:before {\\n  content: \\\"l\\\"; }\\n\\n.pow2-bottle-vapors:before {\\n  content: \\\"m\\\"; }\\n\\n.pow2-breastplate:before {\\n  content: \\\"n\\\"; }\\n\\n.pow2-broadsword:before {\\n  content: \\\"o\\\"; }\\n\\n.pow2-bubbling-flask:before {\\n  content: \\\"p\\\"; }\\n\\n.pow2-burning-dot:before {\\n  content: \\\"q\\\"; }\\n\\n.pow2-cash:before {\\n  content: \\\"r\\\"; }\\n\\n.pow2-castle:before {\\n  content: \\\"s\\\"; }\\n\\n.pow2-checked-shield:before {\\n  content: \\\"t\\\"; }\\n\\n.pow2-cheese-wedge:before {\\n  content: \\\"u\\\"; }\\n\\n.pow2-chemical-drop:before {\\n  content: \\\"v\\\"; }\\n\\n.pow2-chicken-leg:before {\\n  content: \\\"w\\\"; }\\n\\n.pow2-cog:before {\\n  content: \\\"x\\\"; }\\n\\n.pow2-conversation:before {\\n  content: \\\"y\\\"; }\\n\\n.pow2-death-note:before {\\n  content: \\\"z\\\"; }\\n\\n.pow2-drink-me:before {\\n  content: \\\"A\\\"; }\\n\\n.pow2-emerald:before {\\n  content: \\\"B\\\"; }\\n\\n.pow2-envelope:before {\\n  content: \\\"C\\\"; }\\n\\n.pow2-ice-bolt:before {\\n  content: \\\"D\\\"; }\\n\\n.pow2-list:before {\\n  content: \\\"E\\\"; }\\n\\n.pow2-social-github:before {\\n  content: \\\"F\\\"; }\\n\\n.pow2-tablet-landscape:before {\\n  content: \\\"G\\\"; }\\n\\n.pow2-tablet-portrait:before {\\n  content: \\\"H\\\"; }\\n\\n.pow2-comment:before {\\n  content: \\\"I\\\"; }\\n\\n.pow2-arrow-right:before {\\n  content: \\\"J\\\"; }\\n\\n:host {\\n  font-family: \\\"GraphicPixel\\\", \\\"AdvoCut\\\", sans-serif;\\n  position: fixed;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  background-color: rgba(0, 0, 0, 0.8);\\n  font-size: 20px;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 100%;\\n  z-index: 20;\\n  display: block; }\\n  :host .progress {\\n    margin-bottom: 0; }\\n  :host .status {\\n    border-radius: 0;\\n    text-align: right;\\n    color: #fff;\\n    position: relative;\\n    min-height: 32px; }\\n    @media (min-width: 600px) {\\n      :host .status {\\n        min-height: 64px; } }\\n    :host .status rpg-health-bar, :host .status .text {\\n      height: 100%;\\n      position: absolute;\\n      top: 0;\\n      bottom: 0;\\n      left: 0;\\n      right: 0; }\\n    :host .status .text {\\n      padding: 0 15px;\\n      z-index: 70; }\\n    :host .status.focused {\\n      color: #E8C627; }\\n    :host .status.choosing {\\n      background-color: #004c62; }\\n    :host .status .name {\\n      float: left;\\n      text-align: left;\\n      width: 25%;\\n      text-shadow: 1px 1px 0 #000, -2px 0 #000, 0px 0 #000, -1px 1px 0 #000; }\\n    :host .status .hp {\\n      text-align: right;\\n      text-shadow: 1px 1px 0 #000, -2px 0 #000, 0px 0 #000, -1px 1px 0 #000; }\\n    :host .status rpg-health-bar {\\n      opacity: 0.5;\\n      min-width: 25%; }\\n    @media (min-width: 600px) {\\n      :host .status {\\n        font-size: 2.2em; } }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/routes/combat/combat-hud.component.scss\n// module id = 299\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\n[data-icon]:before {\\n  font-family: \\\"pow2\\\" !important;\\n  content: attr(data-icon);\\n  font-style: normal !important;\\n  font-weight: normal !important;\\n  font-variant: normal !important;\\n  text-transform: none !important;\\n  speak: none;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale; }\\n\\n[class^=\\\"pow2-\\\"]:before,\\n[class*=\\\" pow2-\\\"]:before {\\n  font-family: \\\"pow2\\\" !important;\\n  font-style: normal !important;\\n  font-weight: normal !important;\\n  font-variant: normal !important;\\n  text-transform: none !important;\\n  speak: none;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale; }\\n\\n.pow2-aura:before {\\n  content: \\\"a\\\"; }\\n\\n.pow2-back-forth:before {\\n  content: \\\"b\\\"; }\\n\\n.pow2-barbute:before {\\n  content: \\\"c\\\"; }\\n\\n.pow2-barefoot:before {\\n  content: \\\"d\\\"; }\\n\\n.pow2-battle-gear:before {\\n  content: \\\"e\\\"; }\\n\\n.pow2-black-flag:before {\\n  content: \\\"f\\\"; }\\n\\n.pow2-bolt-shield:before {\\n  content: \\\"g\\\"; }\\n\\n.pow2-bone-knife:before {\\n  content: \\\"h\\\"; }\\n\\n.pow2-bookmark:before {\\n  content: \\\"i\\\"; }\\n\\n.pow2-bookmarklet:before {\\n  content: \\\"j\\\"; }\\n\\n.pow2-boot-prints:before {\\n  content: \\\"k\\\"; }\\n\\n.pow2-boots:before {\\n  content: \\\"l\\\"; }\\n\\n.pow2-bottle-vapors:before {\\n  content: \\\"m\\\"; }\\n\\n.pow2-breastplate:before {\\n  content: \\\"n\\\"; }\\n\\n.pow2-broadsword:before {\\n  content: \\\"o\\\"; }\\n\\n.pow2-bubbling-flask:before {\\n  content: \\\"p\\\"; }\\n\\n.pow2-burning-dot:before {\\n  content: \\\"q\\\"; }\\n\\n.pow2-cash:before {\\n  content: \\\"r\\\"; }\\n\\n.pow2-castle:before {\\n  content: \\\"s\\\"; }\\n\\n.pow2-checked-shield:before {\\n  content: \\\"t\\\"; }\\n\\n.pow2-cheese-wedge:before {\\n  content: \\\"u\\\"; }\\n\\n.pow2-chemical-drop:before {\\n  content: \\\"v\\\"; }\\n\\n.pow2-chicken-leg:before {\\n  content: \\\"w\\\"; }\\n\\n.pow2-cog:before {\\n  content: \\\"x\\\"; }\\n\\n.pow2-conversation:before {\\n  content: \\\"y\\\"; }\\n\\n.pow2-death-note:before {\\n  content: \\\"z\\\"; }\\n\\n.pow2-drink-me:before {\\n  content: \\\"A\\\"; }\\n\\n.pow2-emerald:before {\\n  content: \\\"B\\\"; }\\n\\n.pow2-envelope:before {\\n  content: \\\"C\\\"; }\\n\\n.pow2-ice-bolt:before {\\n  content: \\\"D\\\"; }\\n\\n.pow2-list:before {\\n  content: \\\"E\\\"; }\\n\\n.pow2-social-github:before {\\n  content: \\\"F\\\"; }\\n\\n.pow2-tablet-landscape:before {\\n  content: \\\"G\\\"; }\\n\\n.pow2-tablet-portrait:before {\\n  content: \\\"H\\\"; }\\n\\n.pow2-comment:before {\\n  content: \\\"I\\\"; }\\n\\n.pow2-arrow-right:before {\\n  content: \\\"J\\\"; }\\n\\n:host * {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -khtml-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none; }\\n\\n:host rpg-health-bar {\\n  width: 100%;\\n  display: -webkit-inline-flex;\\n  display: -moz-inline-flex;\\n  display: inline-flex; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/routes/combat/combat.component.scss\n// module id = 300\n// module chunks = 0","exports = module.exports = require(\"./../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\n[data-icon]:before {\\n  font-family: \\\"pow2\\\" !important;\\n  content: attr(data-icon);\\n  font-style: normal !important;\\n  font-weight: normal !important;\\n  font-variant: normal !important;\\n  text-transform: none !important;\\n  speak: none;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale; }\\n\\n[class^=\\\"pow2-\\\"]:before,\\n[class*=\\\" pow2-\\\"]:before {\\n  font-family: \\\"pow2\\\" !important;\\n  font-style: normal !important;\\n  font-weight: normal !important;\\n  font-variant: normal !important;\\n  text-transform: none !important;\\n  speak: none;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale; }\\n\\n.pow2-aura:before {\\n  content: \\\"a\\\"; }\\n\\n.pow2-back-forth:before {\\n  content: \\\"b\\\"; }\\n\\n.pow2-barbute:before {\\n  content: \\\"c\\\"; }\\n\\n.pow2-barefoot:before {\\n  content: \\\"d\\\"; }\\n\\n.pow2-battle-gear:before {\\n  content: \\\"e\\\"; }\\n\\n.pow2-black-flag:before {\\n  content: \\\"f\\\"; }\\n\\n.pow2-bolt-shield:before {\\n  content: \\\"g\\\"; }\\n\\n.pow2-bone-knife:before {\\n  content: \\\"h\\\"; }\\n\\n.pow2-bookmark:before {\\n  content: \\\"i\\\"; }\\n\\n.pow2-bookmarklet:before {\\n  content: \\\"j\\\"; }\\n\\n.pow2-boot-prints:before {\\n  content: \\\"k\\\"; }\\n\\n.pow2-boots:before {\\n  content: \\\"l\\\"; }\\n\\n.pow2-bottle-vapors:before {\\n  content: \\\"m\\\"; }\\n\\n.pow2-breastplate:before {\\n  content: \\\"n\\\"; }\\n\\n.pow2-broadsword:before {\\n  content: \\\"o\\\"; }\\n\\n.pow2-bubbling-flask:before {\\n  content: \\\"p\\\"; }\\n\\n.pow2-burning-dot:before {\\n  content: \\\"q\\\"; }\\n\\n.pow2-cash:before {\\n  content: \\\"r\\\"; }\\n\\n.pow2-castle:before {\\n  content: \\\"s\\\"; }\\n\\n.pow2-checked-shield:before {\\n  content: \\\"t\\\"; }\\n\\n.pow2-cheese-wedge:before {\\n  content: \\\"u\\\"; }\\n\\n.pow2-chemical-drop:before {\\n  content: \\\"v\\\"; }\\n\\n.pow2-chicken-leg:before {\\n  content: \\\"w\\\"; }\\n\\n.pow2-cog:before {\\n  content: \\\"x\\\"; }\\n\\n.pow2-conversation:before {\\n  content: \\\"y\\\"; }\\n\\n.pow2-death-note:before {\\n  content: \\\"z\\\"; }\\n\\n.pow2-drink-me:before {\\n  content: \\\"A\\\"; }\\n\\n.pow2-emerald:before {\\n  content: \\\"B\\\"; }\\n\\n.pow2-envelope:before {\\n  content: \\\"C\\\"; }\\n\\n.pow2-ice-bolt:before {\\n  content: \\\"D\\\"; }\\n\\n.pow2-list:before {\\n  content: \\\"E\\\"; }\\n\\n.pow2-social-github:before {\\n  content: \\\"F\\\"; }\\n\\n.pow2-tablet-landscape:before {\\n  content: \\\"G\\\"; }\\n\\n.pow2-tablet-portrait:before {\\n  content: \\\"H\\\"; }\\n\\n.pow2-comment:before {\\n  content: \\\"I\\\"; }\\n\\n.pow2-arrow-right:before {\\n  content: \\\"J\\\"; }\\n\\n:host .action-menu, :host .targets-menu, :host .spells-menu {\\n  position: absolute;\\n  bottom: 100%;\\n  width: 100%;\\n  margin: 0;\\n  text-align: center;\\n  list-style-type: none;\\n  padding: 0; }\\n  :host .action-menu li, :host .targets-menu li, :host .spells-menu li {\\n    text-transform: capitalize;\\n    display: -webkit-inline-flex;\\n    display: -moz-inline-flex;\\n    display: inline-flex;\\n    cursor: pointer;\\n    padding: 10px 15px; }\\n    :host .action-menu li:hover, :host .targets-menu li:hover, :host .spells-menu li:hover {\\n      color: #E8C627; }\\n\\n:host .point-to-player {\\n  font-size: 1em;\\n  -webkit-transition: all 0.1s;\\n  -moz-transition: all 0.1s;\\n  transition: all 0.1s;\\n  color: #fff;\\n  text-shadow: 2px 2px 1px rgba(0, 0, 0, 0.8);\\n  pointer-events: none;\\n  position: relative;\\n  top: 1px;\\n  display: inline-block;\\n  font-family: 'Glyphicons';\\n  font-style: normal;\\n  font-weight: normal;\\n  line-height: 1;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  z-index: 20;\\n  position: absolute; }\\n  :host .point-to-player.hidden {\\n    display: none; }\\n  :host .point-to-player.left {\\n    content: '<'; }\\n    :host .point-to-player.left:before {\\n      content: \\\"\\\\E079\\\"; }\\n  :host .point-to-player.right {\\n    content: '>'; }\\n    :host .point-to-player.right:before {\\n      content: \\\"\\\\E080\\\"; }\\n  :host .point-to-player.attack, :host .point-to-player.magic {\\n    content: 'X';\\n    color: red; }\\n    :host .point-to-player.attack:before, :host .point-to-player.magic:before {\\n      content: \\\"\\\\E087\\\"; }\\n\\n@media (min-width: 600px) {\\n  :host .point-to-player {\\n    font-size: 2em; }\\n  :host .combat-view .action-menu, :host .combat-view .targets-menu, :host .combat-view .spells-menu {\\n    margin: 20px;\\n    width: auto;\\n    padding: 5px 25px; } }\\n\\n@media (max-width: 599px) {\\n  :host .combat-view .action-menu, :host .combat-view .targets-menu, :host .combat-view .spells-menu {\\n    border-radius: 0;\\n    border-left: none;\\n    border-right: none; } }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/routes/combat/states/combat-choose-action.state.scss\n// module id = 301\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/routes/game/game.component.scss\n// module id = 302\n// module chunks = 0","exports = module.exports = require(\"./../../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\ndialog-feature .dialog {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  margin: auto;\\n  font-family: \\\"GraphicPixel\\\", \\\"AdvoCut\\\", sans-serif;\\n  font-size: 20px;\\n  background-color: #004c62;\\n  color: white;\\n  border: 6px solid white;\\n  border-radius: 9px;\\n  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.7);\\n  padding-top: 16px;\\n  padding-bottom: 16px;\\n  max-height: 90%;\\n  z-index: 20;\\n  max-width: 800px;\\n  text-align: center; }\\n  dialog-feature .dialog h1 {\\n    margin: 0; }\\n  @media (min-width: 600px) {\\n    dialog-feature .dialog {\\n      max-height: 80%; }\\n      dialog-feature .dialog h1 {\\n        margin: auto; } }\\n  dialog-feature .dialog .body-text {\\n    pointer-events: none; }\\n  dialog-feature .dialog button {\\n    /* General button style (reset) */\\n    border: none;\\n    font-family: inherit;\\n    font-size: inherit;\\n    color: inherit;\\n    background: none;\\n    cursor: pointer;\\n    padding: 10px 30px;\\n    display: inline-block;\\n    text-transform: uppercase;\\n    letter-spacing: 1px;\\n    font-weight: 700;\\n    outline: none;\\n    position: relative;\\n    -webkit-transition: all 0.3s;\\n    -moz-transition: all 0.3s;\\n    transition: all 0.3s;\\n    background: #cb4e4e;\\n    color: #fff;\\n    box-shadow: 0 6px #ab3c3c;\\n    -webkit-transition: none;\\n    -moz-transition: none;\\n    transition: none;\\n    border-radius: 0 0 5px 5px;\\n    position: absolute;\\n    font-size: 1.5em;\\n    padding: 10px 20px 5px;\\n    right: 0.5em;\\n    top: 0; }\\n    dialog-feature .dialog button:after {\\n      content: '';\\n      position: absolute;\\n      z-index: -1;\\n      -webkit-transition: all 0.3s;\\n      -moz-transition: all 0.3s;\\n      transition: all 0.3s; }\\n    dialog-feature .dialog button:before {\\n      speak: none;\\n      font-style: normal;\\n      font-weight: normal;\\n      font-variant: normal;\\n      text-transform: none;\\n      line-height: 1;\\n      position: relative;\\n      -webkit-font-smoothing: antialiased; }\\n    dialog-feature .dialog button:hover {\\n      box-shadow: 0 4px #ab3c3c;\\n      top: 2px; }\\n    dialog-feature .dialog button:active, dialog-feature .dialog button.ng-click-active {\\n      box-shadow: 0 0 #ab3c3c;\\n      top: 6px; }\\n    dialog-feature .dialog button > i {\\n      pointer-events: none; }\\n    dialog-feature .dialog button:hover {\\n      top: 0;\\n      padding-top: 12px;\\n      outline: none; }\\n    dialog-feature .dialog button:active {\\n      top: 0;\\n      padding-top: 16px;\\n      outline: none; }\\n  dialog-feature .dialog .character {\\n    padding: 0; }\\n    dialog-feature .dialog .character p {\\n      margin: 0; }\\n  dialog-feature .dialog .text {\\n    text-align: center;\\n    vertical-align: middle;\\n    line-height: normal;\\n    color: #fff;\\n    text-shadow: 1px 1px 0 #000, -2px 0 #000, 0px 0 #000, -1px 1px 0 #000; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/routes/world/map/features/dialog-feature.component.scss\n// module id = 303\n// module chunks = 0","exports = module.exports = require(\"./../../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\nstore-feature .store {\\n  max-width: 600px;\\n  min-width: 320px;\\n  z-index: 20;\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  margin: auto;\\n  font-family: \\\"GraphicPixel\\\", \\\"AdvoCut\\\", sans-serif;\\n  font-size: 20px;\\n  background-color: #004c62;\\n  color: white;\\n  border: 6px solid white;\\n  border-radius: 9px;\\n  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.7);\\n  padding-top: 16px;\\n  padding-bottom: 16px;\\n  max-height: 90%;\\n  text-align: center;\\n  color: white;\\n  display: block; }\\n  store-feature .store h1 {\\n    margin: 0; }\\n  @media (min-width: 600px) {\\n    store-feature .store {\\n      max-height: 80%; }\\n      store-feature .store h1 {\\n        margin: auto; } }\\n  store-feature .store .inventory {\\n    min-height: 200px;\\n    overflow-y: auto;\\n    text-align: center; }\\n    store-feature .store .inventory .item-price {\\n      color: #E8C627; }\\n  store-feature .store .btn-group {\\n    text-align: center; }\\n    store-feature .store .btn-group button {\\n      /* General button style (reset) */\\n      border: none;\\n      font-family: inherit;\\n      font-size: inherit;\\n      color: inherit;\\n      background: none;\\n      cursor: pointer;\\n      padding: 10px 30px;\\n      display: inline-block;\\n      text-transform: uppercase;\\n      letter-spacing: 1px;\\n      font-weight: 700;\\n      outline: none;\\n      position: relative;\\n      -webkit-transition: all 0.3s;\\n      -moz-transition: all 0.3s;\\n      transition: all 0.3s;\\n      border: 3px solid #fff;\\n      color: #fff;\\n      /* Button 1a */ }\\n      store-feature .store .btn-group button:after {\\n        content: '';\\n        position: absolute;\\n        z-index: -1;\\n        -webkit-transition: all 0.3s;\\n        -moz-transition: all 0.3s;\\n        transition: all 0.3s; }\\n      store-feature .store .btn-group button:before {\\n        speak: none;\\n        font-style: normal;\\n        font-weight: normal;\\n        font-variant: normal;\\n        text-transform: none;\\n        line-height: 1;\\n        position: relative;\\n        -webkit-font-smoothing: antialiased; }\\n      store-feature .store .btn-group button:hover, store-feature .store .btn-group button:active, store-feature .store .btn-group button.ng-click-active {\\n        color: #0e83cd;\\n        background: #fff; }\\n  store-feature .store ul {\\n    padding: 0;\\n    margin: 0;\\n    text-align: center;\\n    list-style-type: none;\\n    max-width: 100%; }\\n    store-feature .store ul li.item {\\n      margin: 10px;\\n      cursor: pointer;\\n      border: 1px solid transparent; }\\n      store-feature .store ul li.item * {\\n        pointer-events: none; }\\n      store-feature .store ul li.item .item-name {\\n        white-space: nowrap;\\n        text-overflow: ellipsis; }\\n      store-feature .store ul li.item:hover * {\\n        color: #0FF !important; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/routes/world/map/features/store-feature.component.scss\n// module id = 304\n// module chunks = 0","exports = module.exports = require(\"./../../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Stroke Text Effect */\\n/* Stroke Text Effect */\\ntemple-feature .temple-view {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  margin: auto;\\n  font-family: \\\"GraphicPixel\\\", \\\"AdvoCut\\\", sans-serif;\\n  font-size: 20px;\\n  background-color: #004c62;\\n  color: white;\\n  border: 6px solid white;\\n  border-radius: 9px;\\n  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.7);\\n  padding-top: 16px;\\n  padding-bottom: 16px;\\n  max-height: 90%;\\n  z-index: 20;\\n  text-align: center;\\n  margin: auto;\\n  max-width: 800px; }\\n  temple-feature .temple-view h1 {\\n    margin: 0; }\\n  @media (min-width: 600px) {\\n    temple-feature .temple-view {\\n      max-height: 80%; }\\n      temple-feature .temple-view h1 {\\n        margin: auto; } }\\n  temple-feature .temple-view button {\\n    /* General button style (reset) */\\n    border: none;\\n    font-family: inherit;\\n    font-size: inherit;\\n    color: inherit;\\n    background: none;\\n    cursor: pointer;\\n    padding: 10px 30px;\\n    display: inline-block;\\n    text-transform: uppercase;\\n    letter-spacing: 1px;\\n    font-weight: 700;\\n    outline: none;\\n    position: relative;\\n    -webkit-transition: all 0.3s;\\n    -moz-transition: all 0.3s;\\n    transition: all 0.3s;\\n    border: 3px solid #fff;\\n    color: #fff;\\n    /* Button 1a */ }\\n    temple-feature .temple-view button:after {\\n      content: '';\\n      position: absolute;\\n      z-index: -1;\\n      -webkit-transition: all 0.3s;\\n      -moz-transition: all 0.3s;\\n      transition: all 0.3s; }\\n    temple-feature .temple-view button:before {\\n      speak: none;\\n      font-style: normal;\\n      font-weight: normal;\\n      font-variant: normal;\\n      text-transform: none;\\n      line-height: 1;\\n      position: relative;\\n      -webkit-font-smoothing: antialiased; }\\n    temple-feature .temple-view button:hover, temple-feature .temple-view button:active, temple-feature .temple-view button.ng-click-active {\\n      color: #0e83cd;\\n      background: #fff; }\\n  temple-feature .temple-view .header h1 {\\n    margin: 0; }\\n  temple-feature .temple-view ul.party {\\n    list-style: none; }\\n    temple-feature .temple-view ul.party li {\\n      display: inline-block; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/routes/world/map/features/temple-feature.component.scss\n// module id = 305\n// module chunks = 0","exports = module.exports = require(\"./../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader!./~/sass-loader!./src/app/routes/world/world.component.scss\n// module id = 306\n// module chunks = 0","module.exports = \"<rpg-notification></rpg-notification>\\n<loading></loading>\\n<main>\\n  <router-outlet></router-outlet>\\n</main>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 312\n// module chunks = 0","module.exports = \"<div *ngFor=\\\"let current of [currentEntity$ | async]\\\" fxLayout=\\\"column\\\">\\n  <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between stretch\\\">\\n    <button md-icon-button (click)=\\\"previousCharacter()\\\">\\n      <md-icon>chevron_left</md-icon>\\n    </button>\\n\\n    <section fxLayout=\\\"row\\\" fxFlex fxLayoutAlign=\\\"space-around center\\\">\\n      <div flex fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\">\\n        <rpg-sprite class=\\\"image\\\" [name]=\\\"current.icon\\\" frame=\\\"7\\\"></rpg-sprite>\\n        <span>{{current.name}}</span>\\n      </div>\\n      <div>\\n        <player-stats [model]=\\\"current\\\"\\n                      [showExperience]=\\\"false\\\"\\n                      [showHP]=\\\"false\\\"\\n                      [showLevel]=\\\"false\\\"></player-stats>\\n      </div>\\n    </section>\\n\\n    <button md-icon-button (click)=\\\"nextCharacter()\\\">\\n      <md-icon>chevron_right</md-icon>\\n    </button>\\n  </div>\\n\\n\\n  <ul class=\\\"equipped\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n    <li class=\\\"weapon\\\" *ngIf=\\\"current.weapon\\\" (click)=\\\"doUnequip$.next({slot:'weapon', item: current.weapon})\\\">\\n      <span class=\\\"desc\\\">Weapon</span>\\n      <rpg-sprite class=\\\"icon\\\" [name]=\\\"current.weapon.icon\\\"></rpg-sprite>\\n    </li>\\n    <li class=\\\"jewelry item\\\" *ngIf=\\\"current.accessory\\\" (click)=\\\"doUnequip$.next({slot:'accessory', item: current.accessory})\\\">\\n      <span class=\\\"desc\\\">Accessory</span>\\n      <rpg-sprite class=\\\"icon\\\" [name]=\\\"current.accessory.icon\\\"></rpg-sprite>\\n    </li>\\n    <li class=\\\"head item\\\" *ngIf=\\\"current.helm\\\" (click)=\\\"doUnequip$.next({slot:'helm', item: current.helm})\\\">\\n      <span class=\\\"desc\\\">Head</span>\\n      <rpg-sprite class=\\\"icon\\\" [name]=\\\"current.helm.icon\\\"></rpg-sprite>\\n    </li>\\n    <li class=\\\"body item\\\" *ngIf=\\\"current.armor\\\" (click)=\\\"doUnequip$.next({slot:'armor', item: current.armor})\\\">\\n      <span class=\\\"desc\\\">Body</span>\\n      <rpg-sprite class=\\\"icon\\\" [name]=\\\"current.armor.icon\\\"></rpg-sprite>\\n    </li>\\n    <li class=\\\"arms item\\\" *ngIf=\\\"current.shield\\\" (click)=\\\"doUnequip$.next({slot:'shield', item: current.shield})\\\">\\n      <span class=\\\"desc\\\">Arms</span>\\n      <rpg-sprite class=\\\"icon\\\" [name]=\\\"current.shield.icon\\\"></rpg-sprite>\\n    </li>\\n    <li class=\\\"feet item\\\" *ngIf=\\\"current.boots\\\" (click)=\\\"doUnequip$.next({slot:'boots', item: current.boots})\\\">\\n      <span class=\\\"desc\\\">Feet</span>\\n      <rpg-sprite class=\\\"icon\\\" [name]=\\\"current.boots.icon\\\"></rpg-sprite>\\n    </li>\\n  </ul>\\n\\n  <div class=\\\"container\\\" fxLayout=\\\"column\\\">\\n    <strong>Inventory</strong>\\n    <ul class=\\\"unequipped\\\">\\n      <li class=\\\"item\\\" *ngFor=\\\"let item of (inventory$ | async)\\\" (click)=\\\"doEquip$.next({slot:item.type, item: item})\\\">\\n        <span class=\\\"desc\\\">{{item.name}}</span>\\n        <rpg-sprite class=\\\"icon\\\" [name]=\\\"item.icon\\\"></rpg-sprite>\\n      </li>\\n    </ul>\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/party-inventory/party-inventory.component.html\n// module id = 313\n// module chunks = 0","module.exports = \"<md-toolbar color=\\\"primary\\\" class=\\\"mat-elevation-z4\\\" *ngIf=\\\"open == true\\\" [@toolbar]=\\\"open\\\">\\n  <h1 fxShow=\\\"false\\\" fxShow.gt-sm><a href=\\\"https://github.com/justindujardin/angular-rpg\\\" target=\\\"_blank\\\">RPG</a></h1>\\n  <rpg-sprite [height]=\\\"32\\\" [width]=\\\"32\\\" name=\\\"longSword.png\\\"></rpg-sprite>\\n  <span fxFlex></span>\\n  <button md-button (click)=\\\"page = 'party'\\\" [ngClass]=\\\"{active: page == 'party'}\\\">Party</button>\\n  <button md-button (click)=\\\"page = 'inventory'\\\" [ngClass]=\\\"{active: page == 'inventory'}\\\">Inventory</button>\\n  <button md-button (click)=\\\"page = 'settings'\\\" [ngClass]=\\\"{active: page == 'settings'}\\\">Settings</button>\\n</md-toolbar>\\n\\n<md-card class=\\\"mat-elevation-z3\\\" [@card]=\\\"open\\\" *ngIf=\\\"open == true\\\">\\n  <party-inventory *ngIf=\\\"page == 'inventory'\\\"></party-inventory>\\n\\n  <md-card-title *ngIf=\\\"page == 'party'\\\">Party Gold: {{partyGold$ | async}}</md-card-title>\\n  <md-card-content *ngIf=\\\"page == 'party'\\\"\\n                   fxLayout=\\\"row\\\" fxLayoutWrap fxLayoutAlign=\\\"space-around center\\\">\\n    <player-card *ngFor=\\\"let member of party$ | async\\\" [model]=\\\"member\\\"></player-card>\\n  </md-card-content>\\n\\n  <md-card-title *ngIf=\\\"page == 'settings'\\\">Game Save</md-card-title>\\n  <md-card-actions *ngIf=\\\"page == 'settings'\\\">\\n    <button md-button color=\\\"warn\\\" (click)=\\\"resetGame()\\\">Reset Game</button>\\n    <button md-button (click)=\\\"saveGame()\\\">Save Game</button>\\n  </md-card-actions>\\n</md-card>\\n<button md-fab color=\\\"accent\\\" (click)=\\\"open = !open\\\" [@fab]=\\\"open\\\">\\n  <md-icon>{{open ? 'close' : 'menu'}}</md-icon>\\n</button>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/party-menu/party-menu.component.html\n// module id = 314\n// module chunks = 0","module.exports = \"<section class=\\\"hero-card\\\"\\n         *ngFor=\\\"let model of [model$ | async]\\\"\\n         [class.dead]=\\\"model?.hp <= 0\\\"\\n         fxLayout=\\\"column\\\"\\n         fxLayoutAlign=\\\"space-between center\\\">\\n  <h3 class=\\\"name\\\" [innerText]=\\\"model.name\\\"></h3>\\n  <rpg-sprite class=\\\"image\\\" [name]=\\\"model.icon\\\" frame=\\\"7\\\" width=\\\"64\\\" height=\\\"72\\\"></rpg-sprite>\\n  <player-stats [model]=\\\"model\\\"></player-stats>\\n</section>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/player-card/player-card.component.html\n// module id = 315\n// module chunks = 0","module.exports = \"<div *ngIf=\\\"showLevel$ | async\\\">Level {{(model$ | async)?.level}}</div>\\n\\n<section *ngIf=\\\"showHP$ | async\\\">\\n  <div>HP {{(model$ | async)?.hp}} / {{(model$ | async)?.maxhp}}</div>\\n  <md-progress-bar [value]=\\\"healthPercentage$ | async\\\"></md-progress-bar>\\n</section>\\n\\n<section *ngIf=\\\"showExperience$ | async\\\">\\n  <div>EXP {{(model$ | async)?.exp}} / {{nextLevelExp$ | async}}</div>\\n  <md-progress-bar [value]=\\\"nextLevelPercentage$ | async\\\"></md-progress-bar>\\n</section>\\n\\n<section *ngIf=\\\"showCombatStats$ | async\\\">\\n  <div class=\\\"hero-stat\\\">Attack : {{attack$ | async}}</div>\\n  <div class=\\\"hero-stat\\\">Defense : {{defense$ | async}}</div>\\n  <div class=\\\"hero-stat\\\">Magic : {{magic$ | async}}</div>\\n  <div class=\\\"hero-stat\\\">Speed : {{speed$ | async}}</div>\\n</section>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/player-stats/player-stats.component.html\n// module id = 316\n// module chunks = 0","module.exports = \"<div class=\\\"status\\\" *ngFor=\\\"let member of party$ | async\\\" [ngClass]=\\\"getMemberClass(member,combat?.focus)\\\">\\n  <rpg-health-bar [model]=\\\"member\\\">\\n  </rpg-health-bar>\\n  <div class=\\\"text\\\">\\n    <span class=\\\"name\\\">{{member.name}}</span>\\n    <span class=\\\"hp\\\">HP {{member.hp}} / {{member.maxhp}}</span>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/combat/combat-hud.component.html\n// module id = 317\n// module chunks = 0","module.exports = \"<combat-camera-behavior></combat-camera-behavior>\\n<combat-player\\n  *ngFor=\\\"let p of (party$ | async); trackBy: combatTrackBy\\\"\\n  [icon]=\\\"p.icon\\\"\\n  [model]=\\\"p\\\"></combat-player>\\n<combat-enemy\\n  *ngFor=\\\"let e of (enemies$ | async); trackBy: combatTrackBy\\\"\\n  [icon]=\\\"e.icon\\\"\\n  [model]=\\\"e\\\"></combat-enemy>\\n<ng-content></ng-content>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/combat/combat-map.entity.html\n// module id = 318\n// module chunks = 0","module.exports = \"<canvas #combatCanvas>\\n  Your browser doesn't support this.\\n</canvas>\\n\\n<combat-damage *ngFor=\\\"let d of damages\\\"\\n               [value]=\\\"d.value\\\"\\n               [position]=\\\"d.position\\\"\\n               [classes]=\\\"d.classes\\\"></combat-damage>\\n\\n<combat-map #map [scene]=\\\"scene\\\">\\n  <combat-state-machine [scene]=\\\"scene\\\"\\n                        [party]=\\\"map.party\\\"\\n                        [enemies]=\\\"map.enemies\\\"\\n                        [encounter]=\\\"map.encounter$ | async\\\"></combat-state-machine>\\n\\n</combat-map>\\n<combat-hud [scene]=\\\"scene\\\"></combat-hud>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/combat/combat.component.html\n// module id = 319\n// module chunks = 0","module.exports = \"\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/game/game.component.html\n// module id = 320\n// module chunks = 0","module.exports = \"<div layout=\\\"row\\\" layout-padding class=\\\"dialog\\\" *ngIf=\\\"active$ | async\\\">\\n  <rpg-sprite class=\\\"character\\\" [name]=\\\"icon$ | async\\\"></rpg-sprite>\\n  <div flex class=\\\"body-text\\\">\\n    <p [innerText]=\\\"title$ | async\\\"></p>\\n    <span class=\\\"text\\\" [innerText]=\\\"text$ | async\\\"></span>\\n  </div>\\n  <button class=\\\"btn-close\\\" (click)=\\\"onClose.next($event)\\\">x</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/map/features/dialog-feature.component.html\n// module id = 321\n// module chunks = 0","module.exports = \"<div layout=\\\"column\\\" class=\\\"store\\\" layout-padding *ngIf=\\\"active$ | async\\\">\\n  <h1>{{actionVerb$ | async}} {{name$ | async}}</h1> <span>Gold: {{partyGold$ | async}}</span>\\n\\n  <div class=\\\"inventory\\\" layout-padding flex>\\n    <ul *ngIf=\\\"isBuying$ | async\\\">\\n      <li class=\\\"item\\\" *ngFor=\\\"let item of inventory$ | async\\\" (click)=\\\"_selected$.next(item)\\\" layout=\\\"row\\\">\\n        <rpg-sprite width=\\\"32\\\" height=\\\"32\\\" class=\\\"icon\\\" [name]=\\\"item.icon\\\"></rpg-sprite>\\n        <span flex class=\\\"item-name\\\" [innerText]=\\\"item.name\\\"></span>\\n        <span class=\\\"item-price\\\" [innerText]=\\\"item.value\\\"></span>\\n      </li>\\n    </ul>\\n\\n    <ul *ngIf=\\\"isSelling$ | async\\\">\\n      <li class=\\\"item\\\" *ngFor=\\\"let item of partyInventory$ | async\\\" (click)=\\\"_selected$.next(item)\\\" layout=\\\"row\\\">\\n        <rpg-sprite width=\\\"32\\\" height=\\\"32\\\" class=\\\"icon\\\" [name]=\\\"item.icon\\\"></rpg-sprite>\\n        <span flex class=\\\"item-name\\\" [innerText]=\\\"item.name\\\"></span>\\n        <span class=\\\"item-price\\\" [innerText]=\\\"item.value\\\"></span>\\n      </li>\\n    </ul>\\n    <ul *ngIf=\\\"selected$ | async\\\">\\n      <li class=\\\"item selected\\\" layout=\\\"row\\\">\\n        <rpg-sprite width=\\\"32\\\" height=\\\"32\\\" class=\\\"icon\\\" [name]=\\\"(selected$ | async)?.icon\\\"></rpg-sprite>\\n        <span flex class=\\\"item-name\\\" [innerText]=\\\"(selected$ | async)?.name\\\"></span>\\n        <span class=\\\"item-price\\\" [innerText]=\\\"(selected$ | async)?.value\\\"></span>\\n      </li>\\n    </ul>\\n\\n  </div>\\n\\n\\n  <div class=\\\"prompt btn-group\\\" *ngIf=\\\"selected$ | async\\\">\\n    <button (click)=\\\"_selected$.next(null)\\\">Back</button>\\n    <button (click)=\\\"_onAction$.next()\\\" [innerText]=\\\"(selling$ | async)?'Sell':'Buy'\\\"></button>\\n  </div>\\n  <div class=\\\"prompt btn-group\\\" *ngIf=\\\"!(selected$ | async)\\\">\\n    <button (click)=\\\"onClose.next($event)\\\">Done</button>\\n    <button (click)=\\\"_onToggleAction$.next()\\\" [innerText]=\\\"(selling$ | async)?'Back':'Sell'\\\"></button>\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/map/features/store-feature.component.html\n// module id = 322\n// module chunks = 0","module.exports = \"<div class=\\\"temple-view\\\" layout=\\\"column\\\" layout-padding *ngIf=\\\"active$ | async\\\">\\n  <div class=\\\"header\\\" layout=\\\"row\\\" layout-align=\\\"center center\\\">\\n    <rpg-sprite [name]=\\\"icon$ | async\\\"></rpg-sprite>\\n    <h1>{{name$ | async}}</h1>\\n  </div>\\n\\n  <div class=\\\"prompt\\\" flex>\\n    <h2>It will cost you {{cost$ | async}} of your {{partyGold$ | async}} gold to recover here.</h2>\\n\\n    <p>Would you like to heal your party members?</p>\\n  </div>\\n  <div layout=\\\"row\\\" layout-padding>\\n    <button flex=\\\"50\\\" (click)=\\\"_onRest$.next()\\\">Yes</button>\\n    <button flex=\\\"50\\\" (click)=\\\"onClose.next($event)\\\">No</button>\\n  </div>\\n\\n  <ul class=\\\"party\\\">\\n    <li *ngFor=\\\"let hero of party$ | async\\\">\\n      <h1>{{hero.name}}</h1>\\n      <player-stats\\n        [showLevel]=\\\"false\\\"\\n        [showExperience]=\\\"false\\\"\\n        [showCombatStats]=\\\"false\\\"\\n        [model]=\\\"hero\\\"></player-stats>\\n      <rpg-sprite class=\\\"image\\\" frame=\\\"7\\\" width=\\\"96\\\" height=\\\"96\\\" [name]=\\\"hero.icon\\\"></rpg-sprite>\\n    </li>\\n  </ul>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/map/features/temple-feature.component.html\n// module id = 323\n// module chunks = 0","module.exports = \"<!-- TODO: Replace this mess with Material Portal components -->\\n<portal-feature\\n  [feature]=\\\"feature$ | async\\\"\\n  #comp *ngIf=\\\"(type$ | async) ==='PortalFeatureComponent' && (enabled$ | async)\\\"></portal-feature>\\n<dialog-feature\\n  [feature]=\\\"feature$ | async\\\"\\n  (onClose)=\\\"onClose.emit(featureQuery.first)\\\"\\n  #comp *ngIf=\\\"(type$ | async) ==='DialogFeatureComponent' && (enabled$ | async)\\\"></dialog-feature>\\n<temple-feature\\n  [feature]=\\\"feature$ | async\\\"\\n  (onClose)=\\\"onClose.emit(featureQuery.first)\\\"\\n  #comp *ngIf=\\\"(type$ | async) ==='TempleFeatureComponent' && (enabled$ | async)\\\"></temple-feature>\\n<store-feature\\n  [feature]=\\\"feature$ | async\\\"\\n  (onClose)=\\\"onClose.emit(featureQuery.first)\\\"\\n  #comp *ngIf=\\\"(type$ | async) ==='StoreFeatureComponent' && (enabled$ | async)\\\"></store-feature>\\n<ship-feature\\n  [feature]=\\\"feature$ | async\\\"\\n  #comp *ngIf=\\\"(type$ | async) ==='ShipFeatureComponent' && (enabled$ | async)\\\"></ship-feature>\\n<treasure-feature\\n  [feature]=\\\"feature$ | async\\\"\\n  #comp *ngIf=\\\"(type$ | async) ==='TreasureFeatureComponent' && (enabled$ | async)\\\"></treasure-feature>\\n<combat-feature\\n  [feature]=\\\"feature$ | async\\\"\\n  #comp *ngIf=\\\"(type$ | async) ==='CombatFeatureComponent' && (enabled$ | async)\\\"></combat-feature>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/map/map-feature.component.html\n// module id = 324\n// module chunks = 0","module.exports = \"<map-feature-input-behavior [scene]=\\\"scene\\\" #input></map-feature-input-behavior>\\n<map-feature *ngFor=\\\"let feature of activeFeatures$ | async\\\"\\n             [tiledMap]=\\\"resource$ | async\\\"\\n             [scene]=\\\"scene\\\"\\n             (onClose)=\\\"player.escapeFeature()\\\"\\n             [feature]=\\\"feature\\\"></map-feature>\\n<world-player\\n  #player\\n  *ngIf=\\\"notTraveling$ | async\\\"\\n  [map]=\\\"self\\\"\\n  [scene]=\\\"scene\\\"\\n  [point]=\\\"renderPoint$ | async\\\"\\n  [model]=\\\"partyLeader$ | async\\\"></world-player>\\n<ng-content></ng-content>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/map/world-map.entity.html\n// module id = 325\n// module chunks = 0","module.exports = \"<party-menu></party-menu>\\n\\n<world-map #map [scene]=\\\"scene\\\"></world-map>\\n\\n<canvas #worldCanvas [hidden]=\\\"loadingService.loading$ | async\\\">\\n  Your browser doesn't support this.\\n</canvas>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/world.component.html\n// module id = 326\n// module chunks = 0","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 328;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tabletop/src\n// module id = 328\n// module chunks = 0","\n        var result = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/sass-loader/index.js!./app.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.scss\n// module id = 330\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./health-bar.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/health-bar/health-bar.component.scss\n// module id = 331\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./notification.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/notification/notification.component.scss\n// module id = 332\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./party-inventory.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/party-inventory/party-inventory.component.scss\n// module id = 333\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./party-menu.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/party-menu/party-menu.component.scss\n// module id = 334\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./player-card.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/player-card/player-card.component.scss\n// module id = 335\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./sprite.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/components/sprite/sprite.component.scss\n// module id = 336\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./combat-damage.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/combat/combat-damage.component.scss\n// module id = 337\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./combat-hud.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/combat/combat-hud.component.scss\n// module id = 338\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./combat.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/combat/combat.component.scss\n// module id = 339\n// module chunks = 0","\n        var result = require(\"!!./../../../../../node_modules/css-loader/index.js!./../../../../../node_modules/sass-loader/index.js!./combat-choose-action.state.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/combat/states/combat-choose-action.state.scss\n// module id = 340\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./game.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/game/game.component.scss\n// module id = 341\n// module chunks = 0","\n        var result = require(\"!!./../../../../../../node_modules/css-loader/index.js!./../../../../../../node_modules/sass-loader/index.js!./dialog-feature.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/map/features/dialog-feature.component.scss\n// module id = 342\n// module chunks = 0","\n        var result = require(\"!!./../../../../../../node_modules/css-loader/index.js!./../../../../../../node_modules/sass-loader/index.js!./store-feature.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/map/features/store-feature.component.scss\n// module id = 343\n// module chunks = 0","\n        var result = require(\"!!./../../../../../../node_modules/css-loader/index.js!./../../../../../../node_modules/sass-loader/index.js!./temple-feature.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/map/features/temple-feature.component.scss\n// module id = 344\n// module chunks = 0","\n        var result = require(\"!!./../../../../node_modules/css-loader/index.js!./../../../../node_modules/sass-loader/index.js!./world.component.scss\");\n\n        if (typeof result === \"string\") {\n            module.exports = result;\n        } else {\n            module.exports = result.toString();\n        }\n    \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/routes/world/world.component.scss\n// module id = 345\n// module chunks = 0","module.exports = (__webpack_require__(2))(133);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/operator/observeOn.js from dll-reference vendor_lib\n// module id = 348\n// module chunks = 0","module.exports = (__webpack_require__(2))(193);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/scheduler/queue.js from dll-reference vendor_lib\n// module id = 353\n// module chunks = 0","module.exports = (__webpack_require__(0))(402);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/process/browser.js from dll-reference polyfills_lib\n// module id = 487\n// module chunks = 0","module.exports = (__webpack_require__(2))(407);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/observable/combineLatest.js from dll-reference vendor_lib\n// module id = 488\n// module chunks = 0","module.exports = (__webpack_require__(2))(413);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/observable/forkJoin.js from dll-reference vendor_lib\n// module id = 489\n// module chunks = 0","module.exports = (__webpack_require__(2))(414);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/observable/from.js from dll-reference vendor_lib\n// module id = 490\n// module chunks = 0","module.exports = (__webpack_require__(2))(420);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/observable/interval.js from dll-reference vendor_lib\n// module id = 491\n// module chunks = 0","module.exports = (__webpack_require__(2))(421);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/observable/merge.js from dll-reference vendor_lib\n// module id = 492\n// module chunks = 0","module.exports = (__webpack_require__(2))(433);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/auditTime.js from dll-reference vendor_lib\n// module id = 493\n// module chunks = 0","module.exports = (__webpack_require__(2))(448);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/debounceTime.js from dll-reference vendor_lib\n// module id = 494\n// module chunks = 0","module.exports = (__webpack_require__(2))(454);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/distinctUntilChanged.js from dll-reference vendor_lib\n// module id = 495\n// module chunks = 0","module.exports = (__webpack_require__(2))(456);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/do.js from dll-reference vendor_lib\n// module id = 496\n// module chunks = 0","module.exports = (__webpack_require__(2))(463);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/finally.js from dll-reference vendor_lib\n// module id = 497\n// module chunks = 0","module.exports = (__webpack_require__(2))(466);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/first.js from dll-reference vendor_lib\n// module id = 498\n// module chunks = 0","module.exports = (__webpack_require__(2))(471);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/let.js from dll-reference vendor_lib\n// module id = 499\n// module chunks = 0","module.exports = (__webpack_require__(2))(473);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/mapTo.js from dll-reference vendor_lib\n// module id = 500\n// module chunks = 0","module.exports = (__webpack_require__(2))(478);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/mergeMap.js from dll-reference vendor_lib\n// module id = 501\n// module chunks = 0","module.exports = (__webpack_require__(2))(487);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/pluck.js from dll-reference vendor_lib\n// module id = 502\n// module chunks = 0","module.exports = (__webpack_require__(2))(498);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/sample.js from dll-reference vendor_lib\n// module id = 503\n// module chunks = 0","module.exports = (__webpack_require__(2))(502);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/share.js from dll-reference vendor_lib\n// module id = 504\n// module chunks = 0","module.exports = (__webpack_require__(2))(509);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/startWith.js from dll-reference vendor_lib\n// module id = 505\n// module chunks = 0","module.exports = (__webpack_require__(2))(514);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/take.js from dll-reference vendor_lib\n// module id = 506\n// module chunks = 0","module.exports = (__webpack_require__(2))(516);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/takeUntil.js from dll-reference vendor_lib\n// module id = 507\n// module chunks = 0","module.exports = (__webpack_require__(2))(524);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/add/operator/toArray.js from dll-reference vendor_lib\n// module id = 508\n// module chunks = 0","module.exports = (__webpack_require__(2))(598);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/operator/ignoreElements.js from dll-reference vendor_lib\n// module id = 509\n// module chunks = 0","module.exports = (__webpack_require__(2))(619);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/operator/scan.js from dll-reference vendor_lib\n// module id = 510\n// module chunks = 0","module.exports = (__webpack_require__(2))(90);\n\n\n//////////////////\n// WEBPACK FOOTER\n// delegated ./node_modules/rxjs/ReplaySubject.js from dll-reference vendor_lib\n// module id = 511\n// module chunks = 0","import './sw.browser';\nimport './rxjs.imports';\n/*\n * Angular bootstraping\n */\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\nimport {decorateModuleRef} from './app/environment';\nimport {bootloader} from '@angularclass/hmr';\n/*\n * AppComponent Module\n * our top level module that holds all of our map\n */\nimport {AppModule} from './app';\n\n/*\n * Bootstrap our Angular app with a top level NgModule\n */\nexport function main(): Promise<any> {\n  return platformBrowserDynamic()\n    .bootstrapModule(AppModule)\n    .then(decorateModuleRef)\n    .catch((err) => console.error(err));\n}\n\n// needed for hmr\n// in prod this is replace for document ready\nbootloader(main);\n\n\n\n// WEBPACK FOOTER //\n// ./~/angular2-template-loader!./~/ng-router-loader?{\"loader\":\"async-system\",\"genDir\":\"compiled\",\"aot\":false}!./src/main.browser.ts"],"sourceRoot":""}